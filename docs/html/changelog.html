
<html>
<head>
<style type="text/css"><!--
body {font-family: monospace}
li, ol, ul, pre {margin: 0}
div {margin-bottom: 10px}

.important {color: green; font-weight: bold;}
.added {color: green;}
.removed {font-style: italic; color: red}
.changed {color: blue}
.fixed {color: red}
.admin {font-style: italic;}
.module {color: purple; font-weight: bold;}
.todo {}
.date {margin-bottom: 0; color: grey}
--></style>
</head>
<body>
<h1>Обозначения</h1><div class="module">[#]&nbsp;Модуль, не входящий в публичную версию/Private module<br /></div><div class="important">[!]&nbsp;Нововведения/New features<br /></div><div class="added">[+]&nbsp;Добавлено/New functions<br /></div><div class="changed">[~]&nbsp;Изменено/Changed functions<br /></div><div class="fixed">[%]&nbsp;Исправление - багфикс/Bugfixes<br /></div><div class="admin">[@]&nbsp;Эта информация будет интересна только админам и/или разработчикам/This information is only for administrators and/or developers <br /></div><h1>Текущая версия 33a26 "Temporary Mercenary Aliplayers Avatar Rename"</h1><div class="admin">[@]&nbsp;ВНИМАНИЕ!!! PHP 5.3.1 содержит баг, который делает невозможной полноценную работу СН начиная с v33a12! Обновите PHP, или сделайте откат до более ранней версии PHP, или используйте предыдущую версию СН.<br /><ul>
<li>Описание бага: https://bugs.php.net/bug.php?id=50394<br />
</ul>
</div><div class="admin">[@]&nbsp;ВНИМАНИЕ!!! Удален скин 'xnova'<br /><ul>
<li>Из дистрибутива игры удален скин 'xnova' из-за занимаемого им размера<br />
<li>Скачать скин можно с основного сайта проекта по ссылке<br />
<li>http://supernova.ws/files/skins/supernova-skin-xnova.zip<br />
<li>либо с SourceForge по ссылке<br />
<li>http://sourceforge.net/projects/supernova-ws/files/skins/<br />
</ul>
</div><div class="admin">[@]&nbsp;Среда разработки изменена на WAMP Server 2.2. Конфигурация:<br /><ul>
<li>MySQL 5.1.41<br />
<li>Apache 2.2<br />
<li>PHP 5.2.9-2 + xCache 1.3.2<br />
</ul>
</div><div class="module">[#]&nbsp;Альянсы: Альянсы теперь могут рекрутировать Наемников и исследовать технологии!<br /><ol>
<li>Каждый Альянс имеет счет с ресурсами металл/кристалл/дейтрий/ТМ<br />
<li>Член Альянса может перевести ресурсы на счет Альянса. Сделать это можно на главной странице Альянса в разделе "Ресурсы Альянса". Там же можно увидеть состояние счета Альянса и бонусы, предоставляемые Альянсом (см. ниже). Кроме того в топбар добавлено отображение ресурсов Альянса и индикация наличия/отсутствия бонусов участникам Альянса<br />
<li>Ресурсы со счета Альянса могут расходоваться только на нужды Альянса. Вывод ресурсов со счета Альянса невозможен<br />
<li>Владелец Альянса с его счета может исследовать технологии и рекрутировать Наемников - соответственно пункты "Технологии Альянса" и "Наемники Альянса" на странице управления<br />
<li>После достижения минимально необходимого размера Альянса (10 человек по умолчанию, задается в таблице `config` записью 'ali_members_bonus') каждый член Альянса получает бонус к своим Наемникам и технологиям<br />
<li>Значение бонуса зависит от количества игроков в Альянсе и вычисляется по формуле: Бонус = round(уровень технологии или Наемника / количество игроков), где round() - операция математического округления.<br />
<li>Бонусы от Наемников и Технологий так же действуют при проверки требований к постройкам/исследованиям. Например: игрок состоит в Альянсе, дающем бонус +2 к Лазерной технологии, а его собственный уровень технологии равен 4. Эффективный уровень технологии этого игрока равен 6. Это означает, что находясь в Альянсе он имеет доступ к исследованию Ионной технологии (требуется ЛТ 5-го уровня) и может строить Тяжелый Лазер (требуется ЛТ 6-го уровня). Очевидно, если бы он не находился в Альянсе, эти постройки были бы заблокированы<br />
<li>При исследовании технологии уровень лаборатории равен количеству игроков в Альянсе на момент начала исследования. Активные исследования видны членам Альянса на странице информации<br />
</ol>
<ul>
<li>Примеры:<br />
<ol>
<li>Альянс из 10 человек купил Технологию 4 уровня. Бонус = round(4/10) = round(0,4) = 0<br />
<li>Альянс из 10 человек купил Технологию 7 уровня. Бонус = round(7/10) = round(0,7) = 1<br />
</ol>
<li>Выбранная механика бонусов Альянса призван обеспечить достижение сразу нескольких целей:<br />
</ul>
<ol>
<li>Исключить злоупотребление фишкой, когда 2-3 игрока формируют Альянс исключительно для получения бонусов<br />
<li>Активизировать межальянсную активность: бонусы от ресусов Альянса можно получить только начиная с определенного количества участников. Ну и чем больше игроков в Альянсе, тем больше у него ресурсов<br />
<li>Усилить лояльность игроков к Альянсу - при выходе (или выгоне) из Альянса игрок теряет все бонусы и (самое неприятное) все ресурсы, пожертвованные в Альянс<br />
<li>Исключить появление мегаальянсов: чем больше игроков - тем больше ресурсов они могут пожертвовать, но тем меньше бонусов получит каждый отдельный игрок<br />
<li>Слабые игроки в сильных Альянсах получают доступ к end-game юнитам (если, конечно, глава Альянса решит потратить ТМ на соответствующих Наемников) и бонус в развитии<br />
<li>Сильные игроки смогут поднять эффективные уровни Технологий даже в больших Альянсах. Например, если в Альянсе 15 человек, то исследовать 15 уровень технологии всем Альянсом будет проще и дешевле, чем каждому игроку отдельно<br />
<li>То же самое распространяется и на Наемников. При этом только Альянс дает возможность получить эффективный уровень Наемников больше максимального<br />
</ol>
</div><div class="important">[!]&nbsp;Иконка сайта: Новая иконка сайта! Мегареспект ув.Помощнику Ivash!<br /></div><div class="important">[!]&nbsp;Админка: Проверка версии<br /><ul>
<li>На страницу настроек сервера добавлена возможность проверки текущей версии движка на предмет необходимости обновления.<br />
</ul>
<ol>
<li>При проверке версии передаются только анонимные данные - текущая версия БД, номер релиза и версия игры.<br />
<li>При проверке движок обращается через HTTP на сервер проверки версий.<br />
<li>Если установлен CURL и подключен к PHP, то для проверки версии будет использован именно он. Убедитесь, что CURL правильно настроен и ему разрешен доступ к внешним ресурсам<br />
<li>Если CURL не установлен, будет осущствлена попытка получить версию через file_get_contents(). Убедитесь, что в PHP разрешается обращаться к внешним сайтам через соответствующую функцию<br />
<li>Результат проверки - рекомендация сервера обновлений о необходимости обновления текущей версии игры<br />
<li>Есть два варианта проверки версии: ручная и автоматическая<br />
<li>Ручная проверка версии выполняется в ручном режиме по нажатию кнопки "Проверить версию" на странице настроек.<br />
<li>Автоматическая проверка версии (по умолчанию - отключена) производится самостоятельно движком по расписанию. Как и при ручной, передается тот же объем анонимных данных<br />
<li>Период автоматической проверки версии задается в секундах в таблице config переменной server_updater_check_period. По умолчанию период проверки равен 24 часам (раз в сутки).<br />
<li>Результат и время последней проверки выводится в левом меню.<br />
<li>Результат и время последней проверки так же выводится на странице настроек.<br />
<li>Предусмотрено цветовое кодирование результатов проверки (как в левом меню, так и в настройках): зеленый - обновление необязательно, желтый - желательно обновить движок, оранжевый - крайне рекомендуется обновление, красный - ошибка проверки версии <br />
</ol>
</div><div class="important">[!]&nbsp;Наемники: Добавлена поддержка временных Наемников (ВН). Осталась так же поддержка постоянных Наемников (ПН). Тип Наемников выбирается в настройках сервера<br /><ol>
<li>ВН (как следует из названия) не являются постоянными, а нанимаются на определенный срок. По истечению срока Наемник исчезает<br />
<li>В режиме ВН отсутствует понятие "веток развития" и для найма доступны сразу все Наемники. Соответственно не отображаются требования к Наемникам на странице "Технологии"<br />
<li>Базовая цена покупки ПН в режиме ВН становится ценой найма на базовый период найма (БПН). По умолчанию он равен одному среднекаелндарному месяцу (30 дней, 2592000 секунд). Изменить БПН можно на странице настроек сервера<br />
<li>Предусмотрена система скидок/наценок в зависимости от срока покупки Наемника. Настройки содержатся в массиве $mrc_hire_discount в файле /officer.php. Индекс элемента - количество секунд найма, значение - коэффициент скидки. "1" означает, что на данный интервал найма нет ни наценки, ни скидки и при пересчете на количество секунд в БПН его стоимость будет в точности равна стоимости БПН. Если число меньше единицы - это означает скидку; больше единицы - наценку<br />
<li>Временного наемника можно увольнять до истечения срока найма. ВНИМАНИЕ! При увольнении наемников вся портаченная на найм ТМ будет утеряна!<br />
<li>Режим Наемников отображается на странице "Мировые константы"<br />
</ol>
<ul>
<li>При переключении режима Наемников следует учитывать следующие особенности:<br />
</ul>
<ol>
<li>При включении ВН все постоянные Наемники будут преобразованы во временные со сроком действия равному БПН. В случае необходимости изменить БПН нужно СНАЧАЛА его изменить, а затем переключать режим работы Наемников<br />
<li>После включения ВН изменение базового интервала найма не влияет на уже рекрутированных Наемников, а влияет только на цену нового найма<br />
<li>При отключении ВН все активные на этот момент Наемники будут преобразованы в постоянные - вне зависимости от того, на какой срок они были наняты и сколько времени осталось до срока истечения найма. Информация о сроках найма при этом теряется<br />
<li>При отключении ВН активизируются ограничения по рекрутированию Наемников, однако уже нанятые Наемники останутся активными и будут влиять на игру вне зависимости от того, может игрок их купить или нет. Такой способ переключение выбран для исключения потери ТМ, вложенных игроками в Наемников<br />
</ol>
<ul>
<li>Переработана страница рекрутирования Наемников:<br />
</ul>
<ol>
<li>Добавлена поддержка временных Наемников<br />
<li>Стоимость найма отображается динамически в зависимости от текущего режима Наемников, выбранного уровня и срока найма<br />
<li>В режиме ПН видны все наемники - даже недоступные (с соответствующими пояснениями)<br />
<li>В режиме ПН можно нанимать сразу несколько уровней Наемников<br />
<li>При найме постоянных наемников показывается ровно столько уровней, на сколько хватает ТМ<br />
</ol>
</div><div class="important">[!]&nbsp;Аватары: Добавлена поддержка серверных аватаров игроков<br /><ul>
<li>Аватары могут быть загружены с локального диска на странице настроек пользователя.<br />
<li>Поддерживаются файлы форматов JPG, GIF и PNG размером до 200КБ. Загруженные картинки будут отмасштабированы до размеров 128х128.<br />
<li>Аватар отображается на странице "Император" и в попапе игрока на странице "Вселенная"<br />
</ul>
</div><div class="important">[!]&nbsp;Альянс: Добавлена поддержка серверных логотипов Альянсов<br /><ul>
<li>Логотипы могут быть загружены с локального диска на странице управления Альянсом<br />
<li>Поддерживаются файлы форматов JPG, GIF и PNG размером до 200КБ. Загруженные картинки будут отмасштабированы до размеров 128х128<br />
<li>Логотип отображается на странице информации об Альянсе и в попапе Альянса на странице "Вселенная"<br />
</ul>
</div><div class="important">[!]&nbsp;Вселенная: Галактики и системы могут иметь собственные названия!<br /><ol>
<li>По умолчанию галактики и системы не имеют собственных названий<br />
<li>Увидеть текущее имя галактики или системы можно на странице "Вселенная"<br />
<li>Назвать галактику или систему можно по ссылке "Переименовать" соответственно возле координат галактики или системы на странице "Вселенная"<br />
<li>Именование галактики или системы имеет соотвествующую стоимость - по умолчанию 10000 ТМ для галактики и 1000 ТМ для системы - т.н. "базовую стоимость именования". Изменить базовую стоимость именования можно в настройках сервера. Игроки могут видеть текущую базовую стоимость именования на странице "Мировые константы"<br />
<li>При именовании галактики или системы игрок может назначить цену именования. Минимальная цена именования равна базовой стоимости именования<br />
<li>При переименовании уже именованной галактики или системы, игрок должен уплатить ранее назначенную стоимость именования плюс базовая стоимость именования. Таким образом, если первый игрок назначил цену именования системы в 2500 ТМ, а базовая цена именования системы составляет 1000 ТМ, то игрок, желающий переименовать ту же систему должен уплатить не меньше 3500 ТМ. Таким образом более высокая цена именования галактики или системы в определенной степени защищает объект от переименования<br />
<li>Как было сказано в п.2, имя галактики и системы видны всем игрокам<br />
<li>Все действия по переименованию галактик и систем записываются в лог - код события 104<br />
</ol>
</div><div class="important">[!]&nbsp;Модульность: Базовая поддержка модульности - динамически перекрываемые функции. Подробное описание по использованию динамического перекытия см. в разделе "Модульная система" файла /docs/readme.txt<br /></div><div class="important">[!]&nbsp;Исследования: Очередь исследований перенесена с планет на пользователя<br /><ol>
<li>Исследования теперь могут производится даже на планетах со строящимися лабораториями/нанолабораториями<br />
<li>В случае отсутствия МИС для проведения исследования выбирается лаборатория с максимальным эффективным уровнем (т.е. с учетом нанолабораторий)<br />
<li>При отмене исследования ресурсы возвращаются на ту планету, с которой были взяты<br />
<li>Награда за квесты на исследование теперь всегда начисляется на основную планету игрока<br />
<li>При апдейте все идущие исследования будут перенесены в пользовательскую очередь<br />
</ol>
</div><div class="important">[!]&nbsp;Чёрный Рынок: Продавец информации<br /><ul>
<li>На Чёрном Рынке доступна новая услуга: продажа информации.<br />
<li>Письма от Продавца Информации всегда приходят в почтовый ящик - даже если у игрока отключено получение шпионских отчетов. Мистика какая-то!<br />
<li>Информация об игроке: текущие уровни активных Наемников.<br />
</ul>
</div><div class="important">[!]&nbsp;Темплейты: Минификатор<br /><ul>
<li>ВНИМАНИЕ! ЭТО - ЭКСПЕРИМЕНТАЛЬНАЯ ФИШКА! ИСПОЛЬЗУЙТЕ ЕЁ НА СВОЙ СТРАХ И РИСК!<br />
<li>Минификатор уменьшает размер генерируемого движком HTML-кода путем замены нескольких идущих подряд пустых символов (перевод строки, табуляция, пробел) одним символом пробела.<br />
<li>Минификатор умеет сжимать HTML и встроенный JS-код. Для JS-кода он так же удаляет однострочные комментарии.<br />
<li>Минификатор работает на уровне темплейтов и если включено кэширование, то минификатор вызывается только один раз при компиляции кода и дальше кэшируется уменьшенный скомпилированный темплейт, что исключает необходимость в повторном вызове минификатора. Этим он выгодно отличается от минификаторов, работающих на уровне сессии через ob_hanler() <br />
<li>В среднем по сайту минификатор дает выигрыш порядка 7-8%% при незначительном падении производительности.<br />
<li>По умолчанию минификатор отключен. Включить его можно в админке в настройках сервера - пункт "Минификатор темплейтов"<br />
</ul>
</div><div class="added">[+]&nbsp;Пол: Добавлено отображение пола игрока на странице "Император", на странице статистики и в попапе игрока на странице "Вселенная"<br /></div><div class="added">[+]&nbsp;Настройки: Отображение логотипов Альянсов и аватаров игроков на странице "Вселенная" может быть отключено в настройках игроков<br /></div><div class="added">[+]&nbsp;Вселенная: На попапе игрока отображается его текущее звание в Альянсе<br /></div><div class="added">[+]&nbsp;ЧР/Торговец ресурсами: Теперь можно поменять ТМ сразу на все ресурсы (опция "Все ресурсы" в дропдауне выбора ресурсов). При этом вводимая сумма будет разделена на три части и на каждую из этих третей будет куплено соответствующее количество ресурсов по курсу. Стоимость такой операции - в три раза больше базовой стоимость обмена<br /></div><div class="added">[+]&nbsp;Квесты: Теперь в награду за исполнение квеста можно одновременно ставить до четырех видов ресурсов<br /></div><div class="added">[+]&nbsp;Скины: Добавлена возможность перекрыть дефолтные стили элементов jQueryUI (файл /design/css/jquery.css) стилями, специфическими для скина. Для этого в корневой каталог скина нужно положить файл jquerу.css с настройками стилей элемента. Сгенерировать файл под свою тему можно на сайте jQuery по ссылке: http://jqueryui.com/themeroller/<br /></div><div class="added">[+]&nbsp;Постройки: Вертикальная очередь построек. Включается в настройках пользователя в секции "Настройки интерфейса"<br /></div><div class="added">[+]&nbsp;Исследования: Добавлены подробные сообщения об ошибке в случае, когда технология не может быть исследована (нехватка ресурсов, неудовлетворенные требования итд)<br /></div><div class="added">[+]&nbsp;Обзор планеты: Настраиваемое количество колонок в списке планет<br /><ul>
<li>На странице настроке пользователя можно указать, сколько колонок должно быть в списке планет - пункт "Количество колонок в списке планет" в разделе "Настройки интерфейса"<br />
<li>Можно выставить количество колонок в 0 и указать максимальное количество рядов с списке - см. соответствующий пункт там же. В этом случае движок рассчитает количество колонок исходя из этого числа.<br />
<li>Обращаю внимание - указывается именно максимальное количество рядов! Т.е. если у игрока 6 планет, а количество рядов указано 5, то количество необходимых колонок для того, что бы число рядов не привысило 5 будет равно двум. Соответственно, список планет будет сформирован в виде двух колонок по три ряда. Если же колоний будет 12 - список планет будет выглядеть как таблица три колонки по четыре ряда.<br />
<li>Данная особенность связана с построением списка планет - слева направо и сверху вниз. Естественно, не составило бы никакого труда сделать вывод списка сверху вниз, а затем справо налево - это было бы даже легче. Однако при выбранном способе сохраняется пользовательская сортировка планет - более "важные" колонии всегда будут "выше" в списке<br />
</ul>
</div><div class="added">[+]&nbsp;Документация: Добавлен файл /docs/html/changelog.html - чейнджлог в html<br /></div><div class="changed">[~]&nbsp;Постройки: Информация о постройках кэшируется при заходе на страницу. Ширина таблицы построек устанавливается на максимальную из возможных. Это предотвращает "баян" - прыжки ширины таблицы построек<br /></div><div class="changed">[~]&nbsp;Император: Теперь на страницы показывается так же очки за ресурсы и исследования. Немного переформатирована таблица статистики<br /></div><div class="changed">[~]&nbsp;Статистика: Оптимизирован алгоритм подсчета статистики. Отключено обновление "очков планеты"<br /></div><div class="changed">[~]&nbsp;Чат: Теперь при таймауте чата скрипт поллинга полностью прекращает работу<br /></div><div class="changed">[~]&nbsp;Экономика: При расчете времени постройки юнитов учитывается не только количество ресурсов, но и их качество. Время постройки нормированы по дейтрию, т.е. постройки с большей долей низкоуровневых ресурсов строятся быстрее<br /></div><div class="changed">[~]&nbsp;Админка: Добавлены label for для всех чекбоксов<br /></div><div class="changed">[~]&nbsp;Скины: EpicBlue имеет собственное оформление элементов jQueryUI<br /></div><div class="changed">[~]&nbsp;Вселенная: При создании новой планеты из имени планеты исключен знак "№" для более корректной работы функций PHP<br /></div><div class="changed">[~]&nbsp;Альянсы: Количество игроков в Альянсе теперь изменяется сразу при изменении, а не при апдейте статистики/обслуживании сервера<br /></div><div class="changed">[~]&nbsp;Альянсы: Теперь список членов Альянса распознает права просматривающего без захода в админскую часть, поэтому из админки убран пункт "Управление участниками"<br /></div><div class="changed">[~]&nbsp;Альянсы: Изменено отображение логотипа на странице Альянса<br /></div><div class="changed">[~]&nbsp;Список планет: Клик на иконке летящего союзного флота теперь открывает сраницу "Флоты в полете"<br /></div><div class="changed">[~]&nbsp;Чёрный Рынок<br /><ul>
<li>Редизайн основного экрана и экрана обмена ресурсов<br />
<li>Откуда взялась эта странная надпись? Очень странно...<br />
</ul>
</div><div class="fixed">[%]&nbsp;Партнерка: Исправлено отображения количества начисленных ТМ<br /></div><div class="fixed">[%]&nbsp;Наемники: Исправлена ошибка начисления процентных бонусов: в случаях многократных бонусов происходило начисление бонуса на бонус, а не на базовое значение. Это приводило к получению завышенных бонусов - например, на Адмирале и Навигаторе<br /></div><div class="fixed">[%]&nbsp;Альянсы: Исправлена ошибка при отправке письма группам Альянса<br /></div><div class="fixed">[%]&nbsp;Альянсы: Исправлена ошибка с неправильным отображением звания главы Альянса<br /></div><div class="fixed">[%]&nbsp;Регистрация: Исправлена ошибка, когда игрок мог создать аккаунт/планету с пробелами в начале/в конце<br /></div><div class="fixed">[%]&nbsp;Админка: Исправлена ошибка создания квеста<br /></div><div class="fixed">[%]&nbsp;Ракетная атака: Исправлена ошибка, из-за которой ракеты били в десять раз слабее<br /></div><div class="fixed">[%]&nbsp;UBE: Исправлена ошибка неучета бонуса Альянсов в бою. ВНИМАНИЕ! Бонусы Альянса и от Наемников по-прежнему не будут видны в логе боя!<br /></div><div class="fixed">[%]&nbsp;Альянсы: Исправлена ошибка выхода из Альянса - у игрока не затирался тэг Альянса<br /></div><div class="admin">[@]&nbsp;Админка: Редизайн интерфейса просмотра логов (бывш. "Ошибки")<br /></div><div class="admin">[@]&nbsp;Аватары: Для корректной работы подсистемы аватаров в PHP должен быть корректно настроен временный каталог и движку должна быть разрешена запись в каталог /images/avatar<br /><ul>
<li>Максимальный размер аватара настраивается в таблице `config` переменные avatar_max_width и avatar_max_height<br />
</ul>
</div><div class="admin">[@]&nbsp;Пол: В скины добавлена иконка пола в подкаталог "images" скина. Файлы для мужского и женского пола называются соответственно "sex_male.png" и "sex_female.png". Встроенные скины обновлены автоматически<br /></div><div class="admin">[@]&nbsp;Новости: Изменения в редактировании новости<br /><ul>
<li>При редактировании новости галочка рассылки новости по умолчанию отключена<br />
<li>При редактировании новости не изменяется глобальное время написания последней новости - т.е. отредактированная новость не включает список последних новостей на обзоре планеты<br />
</ul>
</div><div class="admin">[@]&nbsp;JS: Обновлен jQuery до версии 1.7.1. Обновлен jQuery-UI до версии 1.8.17<br /></div><div class="admin">[@]&nbsp;БД: Доработан дамп. Теперь по умолчанию новосоздаваемый игрок имеет мужской пол - так же, как и дефолтный администраторский аккаунт<br /></div><div class="admin">[@]&nbsp;Строительство: Файлы с функциями строительства зданий/исследований/обороны перенесены в каталог /includes/includes и теперь подключаются только при вызове соответствующих страниц. Это позволило заметно сократить размеры кода в памяти сервера<br /></div><div class="admin">[@]&nbsp;Статистика: файл с функциями статистики /functions/sys_stat_functions.php перемещен в /includes/includes/sys_stat.php<br /></div><div class="admin">[@]&nbsp;Локализация: Все строки локализации, относящиеся к наемникам, вынесены в файл mrc_mercenary.mo<br /></div><div class="admin">[@]&nbsp;Исследования: Исследования теперь завернуты в транзакции - это позволит избежать злоупотреблений связанных с частым обновлением страницы на медленных соединениях<br /></div><div class="admin">[@]&nbsp;Файл todo.txt заменен на todo.xls<br /></div><div class="admin">[@]&nbsp;$sn_data['groups']['prod'] => $sn_data['groups']['factories']<br /></div><div class="admin">[@]&nbsp;Файлы: Удалены неиспользуемые файлы faq.php, faq1.php, faq2.php<br /></div><div class="admin">[@]&nbsp;Чёрный Рынок: Почищены языковые файы от неиспользуемых строк<br /></div><h1>Project "SuperNova.WS" Release 32 "Happy New Year v2012!"</h1><div class="important">[!]&nbsp;Исправлена работа с большими числами:<br /><ul>
<li>Все числовые значение в HTTP-запросах трактуются как числа с плавающей запятой. Все идентификаторы передаются как строки<br />
<li>Все идентификаторы в БД являются BIGINT(20). Соответствующим образом переконфигурированы (добавлены или изменены) FOREIGHN KEYS<br />
<li>Переработаны все таблицы, что бы исключить переполнение при любом разумном сценарии использования движка (скажем, вплоть до скоростей x1000000)<br />
</ul>
</div><div class="added">[+]&nbsp;Постройки: На ресурсогенерящие постройки добавлена подсказка по производительности<br /></div><div class="changed">[~]&nbsp;Скины: Обновлен скин СН/Иваш<br /></div><div class="changed">[~]&nbsp;Постройки: Показываются все возможные строения на планете/луне. Если невозможно осуществить постройку - показывается причина<br /><ul>
<li>Иконки информации и своза ресурсов поменялись местами, что бы соответствовать расположению иконки своза ресурсов на списке планет (Обзор/Империя)<br />
</ul>
</div><div class="changed">[~]&nbsp;Постройки: Теперь при невозможности постройки юнита не затемняется название и текущий уровень юнита<br /></div><div class="changed">[~]&nbsp;Постройки: В описании юнитов разнесены ссылки на постройку и уничтожение юнита во избежании случайного выбора не того действия<br /></div><div class="changed">[~]&nbsp;Постройки: Из темплейта постройки задний яваскрипт вынесен в отдельный файл<br /></div><div class="changed">[~]&nbsp;Постройки: Увеличено место для картинки здания до 150 пикселей. Это предотвратит "скачки" описания постройки при перемещении выделения на иконках<br /></div><div class="changed">[~]&nbsp;Экономика: Производство и потребление электроэнергии теперь масштабируется согласно скорости добычи<br /></div><div class="changed">[~]&nbsp;Верфь: Обновлен интерфейс верфи<br /></div><div class="changed">[~]&nbsp;Верфь: Ограничено максимальное количество строящихся юнитов на верфи<br /></div><div class="changed">[~]&nbsp;Экономика: Увеличена базовая добыча шахты кристаллов с 20 до 32. Соответственно увеличено энергопотребление с 10 до 16<br /></div><div class="changed">[~]&nbsp;Статистика: Статистика теперь считается не в транзакции, что бы не блокировать игроков. Сохраняется статистика за 10 дней<br /></div><div class="changed">[~]&nbsp;Рекорды: Переписана страница рекордов<br /></div><div class="changed">[~]&nbsp;Постройки: Ссылки на создание и уничтожение юнитов раскрашены в цвета, согласно CSS (по умолчанию: зеленый для создания, красный - для уничтожения)<br /></div><div class="fixed">[%]&nbsp;Вселенная: Исправлена ошибка с запуском отрицательного количества юнитов через AJAX<br /></div><div class="fixed">[%]&nbsp;Альянсы: Исправлена ошибка с неотображением тэга у членов новосозданного Альянса<br /></div><div class="fixed">[%]&nbsp;Постройки: Исправлена ошибка с невозможностью выбора превьюшки здания, которое нельзя построить<br /></div><div class="fixed">[%]&nbsp;Постройки: Исправлена ошибка с невозможностью уничтожить постройку, когда не хватает ресурсов на создание постройки, но хватает на её уничтожение<br /></div><div class="fixed">[%]&nbsp;Админка: Исправлена ошибка самопроизвольного сброса флага масштабирования хранилищ<br /></div><div class="fixed">[%]&nbsp;Друзья: Исправлена надпись с неправильной кодировкой при ответе на письмо друга/кандидата<br /></div><div class="fixed">[%]&nbsp;Исправлена уязвимость, позволяющая быстрыми многократными постройками или отменами добиться увеличения ресурсов<br /></div><div class="fixed">[%]&nbsp;Рекорды: Исправлена ошибка, когда в списке рекордсменов появлялись члены команды сервера<br /></div><div class="fixed">[%]&nbsp;Флоты: Исправлена уязвимость, позволяющая передавать флоты другим игрокам<br /></div><div class="admin">[@]&nbsp;DB: Обновлен дамп БД до версии 32<br /></div><div class="admin">[@]&nbsp;PTE: Парсер темплейтов теперь понимает конструкции вида {L_tech[D_CONST]}, которые будут развернуты в $lang['tech'][CONST]<br /></div><div class="admin">[@]&nbsp;eco_get_build_data() возвращает время постройки в отдельном подмассиве RES_TIME, а не в массивах действий BLD_CREATE/BLD_DESTROY<br /></div><div class="admin">[@]&nbsp;Числовые идентификаторы для строений заменены константами STRUC_xxx<br /></div><h1>Project "SuperNova.WS" Release 31 "Artifact governors edit localized inflation"</h1><div class="important">[!]&nbsp;Скины: Новый скин "supernova-ivash". Автор - Ivash<br /></div><div class="important">[!]&nbsp;Артефакты: Добавлена подсистема Артефактов - редких объектов с уникальными свойствами.<br /><ul>
<li>Артефакты можно купить за ТМ.<br />
<li>Артефакты являются одноразовыми - после использования Артефакт исчезает.<br />
<li>Некоторые Артефакты настолько мощные, что их количество в одной Империи ограничено.<br />
<li>Использование некоторых Артефактов привязано к планетам - т.е. их эффект будет распространятся только на эту планету. Эффекты других Артефактов распространяются на всю Империю. Особо мощные Артефакты могут оказывать влияние на солнечную систему, галактику или даже Вселенную<br />
<li>Добавлен Артефакт - "Большой Адронный Колайдер"<br />
<li>Добавлены Артефакты - Автономный Колонизирующий Комплекс трех уровней<br />
</ul>
</div><div class="important">[!]&nbsp;Наемники: Произведено разделение офицеров на "наемников" и "губернаторов". Наемники покупаются через общее меню слева и их бонусы распространяются на всю Империю. Губернаторы покупаются отдельно на каждую планету на странице "Управление планетой" и их бонусы распространяются только на ту планету/луну, на которой они куплены. Так же произведены следующие изменения:<br /><ol>
<li>Стоимость наемников и губернаторов теперь рассчитывается по формуле:<br />
<ul>
<li>БС * (Фактор ^ Уровень),<br />
<li>где БС - базовая стоимость наемника, Фактор - заранее заданная величина, ^ - операция возведения в степень, Уровень - новый уровень наемника<br />
</ul>
<li>По умолчанию БС = 3000, Фактор = 1<br />
<li>Максимальный уровень карго-мастера увеличен до 20<br />
<li>Упразднены наемники Геолог, Энергетик, Архиктектор, Конструктор, Фортификатор, Разрушитель - их функции переданы губернаторам (см. ниже) <br />
<li>Вся ТМ за упраздненных наемников возвернута игрокам<br />
<li>Реорганизованы ветки развития наемников<br />
<ul>
<li>"Шахтерская" теперь выглядит как "Карго-мастер" - "Шпион" - "Академик" - "Разрушитель" <br />
<li>"Рейдерская" теперь выглядит как "Адмирал" - "Координатор" - "Навигатор" - "Ассасин"<br />
</ul>
<li>Балансировка губернаторов проведена из расчета на "среднего игрока", имеющего 6 планет. Такие игроки не получат пенальти при оснащении всех планет губернаторами. Понятно, что общая производительность Империи уменшится, однако это те жертвы, на которые я готов пойти. В целом же изменение направлено на уменьшение среднего количества ТМ у игроков. В особенности - у топов и саб-топов<br />
<li>Новый губернатор "Технолог" объединяет функции Геолога и Энергетика БС = 800, Фактор = 1.06, стоимость 20 уровня - 29418 ТМ, не имеет ограничения по уровню. С 5-го уровня позволяет строить термоядерную электростанцию<br />
<li>Новый губернатор "Инженер" объединяет функции Архитектора и Конструктора БС = 400, Фактор = 1.25, стоимость 10-го уровне - 13298 ТМ, максимального 15-го - 43868 ТМ<br />
<li>Губернатор "Фортификатор" так же играет для планеты роль Защитника БС = 2000, Фактор = 1, стоимость максимального 8-го уровня - 16000 ТМ. С 3-го уровня позволяет строить Планетарную защиту. Дает хозяину планеты бонус 10% за каждый уровень к атаке, броне и щитам при обороне<br />
<li>Вследствие полной бессмысленности найма Технолога на лунах во избежание напрасных трат ТМ игроками он убран со страницы управления луной<br />
<li>Страница покупки губернаторов требует подтверждение операции при покупке губернатора, отличного от текущего. Страница покупки имеет защту от случайной покупки губернатора при обновлении страницы<br />
</ol>
</div><div class="important">[!]&nbsp;Локализация: СверхНовая использует кодировку UTF-8 при работе с БД и рендере HTML-страниц. Таким образом поддерживаются любые наборы символов<br /><ul>
<li>Все файлы локализации пропущены через редактор и приведены к одному виду<br />
<li>Добавлены заголовки в файлы локализации<br />
</ul>
</div><div class="important">[!]&nbsp;Редактор локализаций: В админке добавлен редактор локализаций - пункт меню "Локализация" в разделе "Утилиты"<br /><ol>
<li>Выбор пункта меню "Локализация" открывает выбор т.н. "домена" для редактирования. Домен - это совокупность строк локализации, относящихся к отдельному аспекту игры. Домен эквивалентен языковому файлу с соответствующим именем<br />
<li>После выбора домена и подтверждения выбора открывается страница редактирования строк локализации. Открытие больших файлов может занимать существенное время - поэтому запаситесь терпением<br />
<li>После редактирования строк локализации и подтверждения редактор создаст файлы "<имя домена>.mo.new" в каждой папке языка<br />
<li>Файлы .mo.new имеют приоритет перед обычными .mo файлами локализации. Т.е. если в одном языковом каталоге присутствуют оба типа файлов, редактор загрузит для редактирования .mo.new<br />
<li>Для того, что бы движок подгрузил новый файл локализации, требуется изменить его расширение с .mo.new на .mo. Обычно это перезапишет файл текущий файл локализации - поэтому следует заранее сделать его резервную копию<br />
<li>ВНИМАНИЕ! Следует соблюдать осторожность при замене старых файлов на новые! Редактор не сохраняет комментарии и игнорирует дополнительный код в файлах локализации! В результате простая перезапись файлов может нарушить нормальную работу подсистемы локализации движка! Если ваши файлы локализации содержат дополнительный PHP-код, то они требуют ручного вмешательства после обработке в редакторе!<br />
<li>Редактор локализаций корректно работает с константами внутри доменов<br />
<li>В редакторе есть возможность добавлять и удалять строки локализации<br />
</ol>
</div><div class="important">[!]&nbsp;Межгалактические Врата: Интерфейс Врат вынесен на отдельную страницу и доступен с Обзора планеты (куда вынесен таймер готовности врат)<br /><ul>
<li>Все таймеры врат заменены на sn_timer<br />
</ul>
</div><div class="important">[!]&nbsp;Экономика: ТМ смасштабирована в отношении 1 к 1000. Т.е. весь приход ТМ и все цены в ТМ увеличены в 1000 раз<br /></div><div class="important">[!]&nbsp;Темная Материя: За исследования начисляются опыт, за опыт - уровни, за уровни - ТМ. Таблица необходимого опыта для набора уровней эквивалентна таблице опыта за постройки (см. /docs/readme.txt). За каждый уровень начисляется 1000 ТМ<br /></div><div class="important">[!]&nbsp;Флот: Новый корабль - Гипертранспорт. Предназначен для ТОП игроков и/или скоростных Вселенных<br /></div><div class="added">[+]&nbsp;Обзор планеты/Обзор Империи: Таймер очереди строительства зданий под иконкой планеты теперь переключается на следующее здание в очереди при окончании строительства текущего. Ранее таймер показывал только прогресс постройки первого здания в очереди<br /></div><div class="added">[+]&nbsp;Список планет: На изображения планет добавлен индикатор текущего губернатора и его уровень<br /></div><div class="added">[+]&nbsp;Инфо/Флот: Показываются текущие характеристики корабля (с учетом наемников и технологий) <br /></div><div class="added">[+]&nbsp;Новости: Добавлена лента новостей на страницу обзора планеты. Выводятся только последние непрочитанные новости. Количество выводимых новостей настраивается на сервере (по умолчанию - 3)<br /></div><div class="added">[+]&nbsp;Вселенная: В попап Альянсов добавлен его ранг<br /></div><div class="added">[+]&nbsp;Экономика: Новая настройка сервера "Масштабировать склады от скорости добычи". Настройка доступна в общих настройках сервера в разделе "Прочие параметры". По умолчанию возможность отключена<br /></div><div class="added">[+]&nbsp;Строительство/Здания: В ссылке на уничтожение здания указывается количество требуемых ресурсов и время<br /></div><div class="added">[+]&nbsp;Новапедия: Включена страница информации для Артефактов. Добавлены описания всех стандартных ресурсов на русском и английском языках, а атк же включена страница информации для них<br /></div><div class="changed">[~]&nbsp;ТМ: Изменения в ТМ текущего игрока отображаются сразу по факту<br /></div><div class="changed">[~]&nbsp;Луна: Имя создаваемой луны теперь не такое длинное<br /></div><div class="changed">[~]&nbsp;Список планет: Добавлена всплывающая подсказка на иконку губернатора<br /></div><div class="changed">[~]&nbsp;Поиск: Оптимизированы запросы поиска<br /><ul>
<li>При поиске Альянса поиск подстроки происходит одновременно в имени и тэге<br />
</ul>
</div><div class="changed">[~]&nbsp;Статистика: Изменен расчет статистики. Теперь в тратах каждый ресурс считается согласно курсу обмена. Таким образом игроки с более ценными ресурсами получат больше очков<br /></div><div class="changed">[~]&nbsp;Вселенная: При обнаружении планеты с отсутствующим пользователем в БД планета удаляется с отсрочкой 24 часа<br /></div><div class="changed">[~]&nbsp;Партнерка: Добавлено ограничение по минимальному количеству ТМ, после которого начинается начисление бонусов реферралу - переменная "rpg_bonus_minimum" в таблице "config"<br /></div><div class="changed">[~]&nbsp;Шпионаж: Оптимизирована процедура генерации шпионского рапорта<br /></div><div class="changed">[~]&nbsp;Фаланга: Исправлен и переработан алгоритм работы фаланги. Добавлено два исключения:<br /><ol>
<li>Флот, летящий с луны, фалангой не виден<br />
<li>Флот, летящий на задание "Удержание" фалангой не виден<br />
</ol>
</div><div class="changed">[~]&nbsp;Технологии: Пересмотрены технологии. Устранены противоречия в ветках развития (например, ионный двигатель можно было исследовать без технологии). Технологии переупорядочены в более логичном порядке<br /></div><div class="fixed">[%]&nbsp;Флоты: Добавлен патч для mysql-серверов со включенным STRICT_TRANS_TABLES при отправке флотов<br /></div><div class="fixed">[%]&nbsp;Локализация: Добавлен патч для серверов с неправильно настроенной кодировкой в HTTP-заголовке<br /></div><div class="fixed">[%]&nbsp;Шпионаж: Корректно выставляется время шпионского рапорта<br /></div><div class="fixed">[%]&nbsp;Локализация/EN: Исправлены ошибки с двумя l в "Metall" и "Crystall"<br /></div><div class="fixed">[%]&nbsp;Исправлен неработающий просмотр бана при входе заблокированного пользователя<br /></div><div class="admin">[@]&nbsp;SYS: Устаревшие функции заменены актуальными аналогами:<br /><ul>
<li>int_buildCounter => tpl_parse_planet<br />
<li>GetTargetDistance, GetMissionDuration, GetFleetConsumption => <br />
<ul>
<li>flt_travel_data<br />
</ul>
<li>GetShipConsumption, get_ship_speed => get_ship_data<br />
<li>GetFleetMaxSpeed => flt_fleet_speed<br />
</ul>
</div><div class="admin">[@]&nbsp;SYS: В описании структуры кораблей (vars.php) данные о двигателях вынесены в отдельный массив 'engine'. Теперь можно указывать неограниченное количество двигателей для апгрейда корабля<br /></div><div class="admin">[@]&nbsp;Апдейтер: Доработан апдейтер, что бы предотвратить зацикливание<br /></div><div class="admin">[@]&nbsp;Админка: В "Утилиты" добавлена возможность форсировать только последний апдейт<br /></div><div class="admin">[@]&nbsp;Новости: На странице новостей, странице Императора и обзоре планеты рендерятся одной процедурой и используют один темплейт. Индикатор свежих новостей теперь ориентируется на дату просмотра, а не на количество новостей<br /></div><div class="admin">[@]&nbsp;ТМ: Исправлена лишняя ошибка в логах, если количество изменяемой ТМ равно 0 (например, при бесплатном рынке или офицерах)<br /></div><div class="admin">[@]&nbsp;ТМ: Изменение ТМ в переменной $user производится в теле rpg_points_change<br /></div><div class="admin">[@]&nbsp;БД: В таблице `users` убраны неиспользуемые поля. Изменены типы нескольких полей на более логичные.<br /><ul>
<li>Добавлено поле `ally_tag`<br />
<li>В таблицы `users` и `alliance` добавлены поля с текущими значениями ранга и очков статистики<br />
</ul>
</div><div class="admin">[@]&nbsp;Админка/Настройки: Состояние все чекбоксов (включен/выключен) теперь определются в темлейте<br /></div><h1>Project "SuperNova.WS" Release 30d4 "Emailing phalanx research antiSSF"</h1><div class="important">[!]&nbsp;Документация: Добавлен файл с английской версией инструкции по установке /docs/install-en.txt (google translated)<br /></div><div class="important">[!]&nbsp;Локализация: Доступен выбор языка до входа в игру на страницах регистрации, логина, восстановления забытого пароля. <br /><ul>
<li>Все доступные до входа в игру страницы (включая статистику, банлист, список контактов, настройки вселенной итд) используют выбранный при регистрации язык.<br />
<li>При регистрации выбранный язык сохраняется в настройках пользователя<br />
</ul>
</div><div class="fixed">[%]&nbsp;Отправка флотов: Исправлена ошибка на mySQL серверах со включенной опцией STRICT_TRANS_TABLES<br /></div><div class="fixed">[%]&nbsp;Сообщения: Исправлена ошибка отправки сообщений от системы на mySQL серверах со STRICT_TRANS_TABLES<br /></div><div class="fixed">[%]&nbsp;Локализация: Исправлена ошибка загрузки не-дефолтного языка<br /></div><h1>Project "SuperNova.WS" Release 30 "Emailing phalanx research antiSSF"</h1><div class="important">[!]&nbsp;Сообщения: Добавлена возможность пересылки личных сообщений на емейл игрока. Возможность включается администратором сервера в настройках - опция "Разрешить пересылку ЛС на email". После этого в настройках игрока появляются дополнительные опции для всех категорий входящих сообщений<br /></div><div class="important">[!]&nbsp;Фаланга: Переписан вывод фаланги с использованием функций СН. Теперь он выглядит аналогично списку событий флота на странице "Обзор планеты". Алгоритм работы - почти оффовский: <br /><ol>
<li>Показываются все флоты, летящие от сканируемой планеты или же к ней<br />
<li>Полет A --> B<br />
<ul>
<li>a) скан B => можно увидеть время прибытия флота<br />
<li>b) скан A => можно увидеть время возвращения флота (но не его прибытия на B) <br />
</ul>
<li>Возвращение B --> A<br />
<ul>
<li>a) скан B => не видно ничего<br />
<li>b) скан A => виден возвращающийся флот<br />
</ul>
<li>Особый случай: задание "Передислокация" A --> B<br />
<ul>
<li>a) флот виден только на B, но не на A<br />
<li>b) после отзыва флот нигде не виден<br />
</ul>
<li>Полнота информации о флотах зависит от уровня шпионажа (см. ниже)<br />
</ol>
</div><div class="important">[!]&nbsp;Админка: С нуля создан интерфейс редактирования юнитов/ресурсов на планете - пункт меню "Редактировать" в разделе "Планета". Он доступен членам команды начиная с Оператора (authlevel=2) и выше<br /></div><div class="important">[!]&nbsp;Исследования: Полностью переписан интерфейс Лаборатории<br /><ul>
<li>Очередь исследований приведена к стандартному виду<br />
<li>Обработка очереди исследований теперь производится при каждом обновлении страницы, а не только при входе в интерфейс Лаборатории<br />
</ul>
</div><div class="important">[!]&nbsp;АнтиРМФ: Если флот атакующего уничтожен за один раунд, то:<br /><ol>
<li>Атакующий не получает отчета о бое<br />
<li>Флоты, находящиеся в удержании так и остаются на орбите<br />
</ol>
</div><div class="added">[+]&nbsp;Антибашинг: Добавлена возможность настройки системы антибашинга на страницу настроек сервера<br /></div><div class="added">[+]&nbsp;Мировые константы: Добавлена информация о текущих настройках антибашинга<br /></div><div class="added">[+]&nbsp;Обновление: Добавлена возможность форсировать обновление в случае проблем с автоматическим обновлением. Возможность доступна в интерфейсе Администратора, пункт меню "Утилиты"<br /></div><div class="added">[+]&nbsp;Сообщения: Теперь настройки автоматических уведомлений включены по<br /><ul>
<li>умолчанию для новых игроков<br />
</ul>
</div><div class="added">[+]&nbsp;Верфь: Переверстан интерфейс Верфи и Обороны. Вид очереди построек обновлен. Теперь они выглядят так же, как и очередь постройки зданий<br /><ul>
<li>Добавлена возможность удалить последний добавленный элемент из очереди<br />
<li>Кнопка "Построить" дублируется возле каждого юнита. Функционал сохранен - по её нажатию будут построены все выбранные юниты<br />
</ul>
</div><div class="added">[+]&nbsp;Обзор планеты: Вид очереди построек верфи и очереди исследований теперь аналогичен очереди построек зданий<br /></div><div class="added">[+]&nbsp;Обзор планеты/Фаланга: На количество отображаемой информации о летящих чужих флотах влияет эффективный уровень шпионажа (технология+наемник):<br /><ul>
<li>Меньше 4 - нет информации о летящем флоте<br />
<li>Больше 4 - видно общее количество кораблей во флоте и везет ли флот ресурсы Больше 6 - виден качественный состав флота - т.е. сколько групп кораблей во флоте и сколько кораблей в каждой группе<br />
<li>Больше 8 - видно точное количество ресурсов в трюмах кораблей<br />
<li>Больше 10 - виден количественный состав флота<br />
</ul>
</div><div class="added">[+]&nbsp;Сообщения: Изменена цветовая кодировка сообщений. <br /><ul>
<li>Категории сообщений переупорядочены<br />
<li>Добавлена возможность очистить сообщения определенной категории, не открывая их - на случай переполнения почтового ящика<br />
<li>Добавлена подсказка<br />
</ul>
</div><div class="added">[+]&nbsp;Админка/Список планет: "Список планет", "Список лун" и "Активные планеты" используют один и тот же код и шаблон. Список планет теперь показывает тип планеты, хозяина планеты (имя и ИД), а для лун - родительскую планету и её ИД<br /></div><div class="added">[+]&nbsp;Чат: Боевые отчеты теперь преобразуются в ссылки. Из соображений безопасности работают только ссылки на текущем сервере. По клику на ссылку боевой отчет открывается в новом окне<br /></div><div class="added">[+]&nbsp;Сообщения: Изменена процедура генерации писем с уведомлением о боевом отчете следующим образом:<br /><ol>
<li>Если бой закончился за один раунд проигрышем атакующего, то он получает сообщение о том, что связь с флотом прервалась и не получает никакой дополнительной информации (включая ссылку на боевой отчет)<br />
<li>Теперь все участники боя (включая членов САБа и хозяинов флотов в удержании) получают одинаковые письма (кроме случая, описанного в п.1) 3. Уведомление о бое всегда содержит потери атакующих и оброняющихся и сведения о поле обломков<br />
<li>Сведения о вывозе ресурсов с планеты добавляются в отчет только при выигрыше атакующих<br />
<li>Уведомления теперь корректно окрашиваются для всех участников боя: красным, если участник проиграл, зеленым - если выиграл, оранжевым - в случае ничьи<br />
<li>Все числа в уведомлении теперь форматируются<br />
</ol>
</div><div class="changed">[~]&nbsp;Отладка: Теперь при отключенной глобальной отладке не генерируется лог запросов<br /></div><div class="changed">[~]&nbsp;Обновление: Автоапдейтер на время работы отключает отладку вне зависимости от глобальных настроек<br /></div><div class="changed">[~]&nbsp;Обновление: Оптимизирована работа апдейтера для апгрейда с 25-28 релизов<br /></div><div class="changed">[~]&nbsp;Обновление: Апдейтер использует собственные процедуры запросов к БД<br /></div><div class="changed">[~]&nbsp;Обновление: Ускорен автоапдейтер при повторном запуске на уже сконвертированных таблицах<br /></div><div class="changed">[~]&nbsp;Настройки: Включение защиты планет от атак доступно только для Администраторов во избежание злоупотреблений<br /></div><div class="changed">[~]&nbsp;Флоты: Переупорядочен список кораблей<br /></div><div class="changed">[~]&nbsp;Новапедия: Отредактировано короткое описание большого транспорта<br /></div><div class="changed">[~]&nbsp;Офицеры: Уровень офицеров указывается и при максимальном уровне<br /></div><div class="changed">[~]&nbsp;Админка/Бан: По умолчанию включена галочка РО и выставлен срок бана в 3 дня Бан и разбан объединены в один пункт меню и на одну страницу интерфейса<br /></div><div class="changed">[~]&nbsp;Админка/Меню: Объединены разделы "Планета" и "Луна" в раздел "Вселенная"<br /></div><div class="changed">[~]&nbsp;Админка/Меню: Под названием сервера добавлены часы серверного времени<br /></div><div class="changed">[~]&nbsp;Боевой отчет: Если в результате боя появилась луна, то в отчет пишется её имя, а не имя планеты, на орбите которой она была создана<br /></div><div class="changed">[~]&nbsp;Вселенная: Теперь при создании луны с орбиты списывается количество обломков, из которых сформировалась луна<br /></div><div class="fixed">[%]&nbsp;Вселенная: Исправлена ошибка создания новой планеты при регистрации, возникающая при определенных настройках MySQL<br /></div><div class="fixed">[%]&nbsp;Настройки: Исправлена ошибка сохранения настроек, возникающая при определенных настройках MySQL<br /></div><div class="fixed">[%]&nbsp;SQL: Исправлена ошибка с индексами в таблице users<br /></div><div class="fixed">[%]&nbsp;Обслуживание: Исправлена ошибка при обслуживании таблицы Альянсов<br /></div><div class="fixed">[%]&nbsp;Локализация/Английский: Исправлены баги в локализации<br /></div><div class="admin">[@]&nbsp;Логи: Изменения темной материи вынесены из глобального лога в отдельную таблицу. Это существенно облегчило поиск неисправностей на сервере и подозрительных действий пользователей. Старые записи перенесены в отдельную таблицу<br /></div><div class="admin">[@]&nbsp;БД: Все существующие таблицы сконвертированы в UTF8<br /></div><div class="admin">[@]&nbsp;БД: Все существующие таблицы переведены на InnoDB<br /></div><div class="admin">[@]&nbsp;sn_timer: Таймер корректно работает с очередью, в которой количество юнитов больше 1<br /></div><div class="admin">[@]&nbsp;Сообщения: Переработаны файлы локализации<br /></div><div class="admin">[@]&nbsp;Общие: Устаревшая функция SYS_mysqlSmartEscape заменена на соответствующие<br /></div><div class="admin">[@]&nbsp;Общие: Устаревшие массивы $pricelist, $resources, $reslist, $sn_groups, $CombatCaps заменены в коде на $sn_data <br /></div><div class="admin">[@]&nbsp;Обслуживание: Корректно пересчитывается количество аккаунтов в БД<br /></div><h1>Project "SuperNova.WS" Release 29 "Quest messaging"</h1><div class="important">[!]&nbsp;Readme: Добавил раздел "Благодарности". Желающие вычеркнуть себя могут написать мне об этом в личку<br /></div><div class="important">[!]&nbsp;Квесты: Добавлена подсистема квестов<br /><ol>
<li>Администратор сервера может самостоятельно добавлять новые квесты<br />
<li>В настоящий момент доступны квесты на постройку зданий и обороны, на исследование и на постройку кораблей (триггер срабатывает при наличии на планете Х кораблей одного типа)<br />
<li>За квесты можно выставлять награду - определенного количество одного из ресурсов: металл, кристалл, дейтрий или ТМ.<br />
<li>Доступ к конструктору квестов осуществляется из меню "Квесты" страницы администрирования. Создание квестов доступно только Администратору сервера (auth_level = 3)<br />
<li>Игрок может просматривать список доступных квестов и их статус (выполнен или не выполнен)<br />
<li>По выполнению квеста игроку высылается письмо с уведомлением<br />
<li>Общее количество и количество выполненных квестов видно игроку в навбаре<br />
<li>Администратор может посмотреть выполненные квесты игрока по ссылке в его профиле (Поиск через админпанель)<br />
<li>Игроки, превысившие условия квеста, автоматически получат вознаграждение при следующей проверке на критерии выполнения. Например, если целью квеста является постройка шахты 10го уровня, то при постройке шахты выше 9го уровня на любой планете игрок получит квестовое вознаграждение. То же самое верно и по отношению к уничтожению шахты. Однако, если при уничтожении шахты её уровень окажется ниже 10го, то игрок вознаграждения не получит, хотя он уже и имел шахту 10го уровня<br />
</ol>
</div><div class="important">[!]&nbsp;Сообщения: Полностью переписана система сообщений. В системе произошли следующие изменения:<br /><ol>
<li>Можно писать письма любому игроку! Форма создания нового письма теперь корректно обрабатывает имена игроков, введенных в строку "Кому". Эта возможность доступна из списка категорий сообщений по ссылке "Написать сообщение" в самом низу таблицы категорий<br />
<li>В списке писем теперь работает чекбокс в заголовке. Клик на нем приведет к выбору всех сообщений. Повторный клик - к снятию всех отметок<br />
<li>Добавлен дополнительный диапазон для удаления сообщений - "Все сообщения данной категории". Внимание! В категории "Все сообщения" его выбор приведет к полной очистке почтового ящика!<br />
<li>При первом открытии страницы создания нового сообщения больше не выскакивают угрожающие красные надписи<br />
<li>Счетчик сообщений в навбаре работает без задержек. Т.е. если игрок перешел в категорию с непрочитанными сообщениями, счетчик изменится соответствующим образом сразу же после перехода, а не при следующей загрузке страницы<br />
<li>Множество мелких стилистических доработок<br />
<li>Оптимизированы алгоритмы работы подсистемы сообщений, а так же почти в два раза уменьшен объем передаваемой информации от клиента к серверу. Особенно это заметно при удалении большого количества сообщений<br />
</ol>
</div><div class="important">[!]&nbsp;Сообщения: Настройка автоматических уведомлений. Теперь в настройках пользователя можно отключить получения определенных категории сообщений. В этот список входят: Шпионские отчёты, Военные отчёты, Отчеты переработки, Прибытие флота, Отчёты экспедиций, Сообщения очереди построек.<br /></div><div class="important">[!]&nbsp;Настройки: Полностью переписана система настроек пользователя<br /></div><div class="added">[+]&nbsp;Империя: Добавлено цветовое кодирование для производящих структур. Уровень производства, выставленный на странице "Ресурсы", кодируется цветом фона соответствующей ячейки: зеленый - 100%, желтый - 80-90%%, оранжевый - 70-50%%, красный - 40-10%%, цвет фона - 0% или структура не является производящей. Пропорционально уровню производительности меняется и длина кодированной полоски<br /></div><div class="added">[+]&nbsp;Интерфейс: Новый тип сортировки планет - по общему количество полей. Учитываются терраформеры (на планетах) и лунные базы (на лунах)<br /></div><div class="added">[+]&nbsp;Боевой отчет: Локализован<br /></div><div class="added">[+]&nbsp;Сообщения: Добавлена новый класс сообщений "Сообщения Администрации". К ним относятся:<br /><ol>
<li>Сообщения системы квестов<br />
<li>Новости сервера<br />
<li>Сообщения Администрации<br />
</ol>
<ul>
<li>Уведомления этого класса НЕ МОГУТ быть отключены в настройках пользователя<br />
</ul>
</div><div class="added">[+]&nbsp;Сообщения: Восстановлена функциональноксть класса сообщений "Сообщения очереди построек". К ним относятся:<br /><ol>
<li>Уведомления о завершении исследований. Уведомление высылается после входа на страницу исследований<br />
<li>Уведомления об окончании работы верфи на планете. Уведомление высылается по окончании очереди строительства Верфи<br />
<li>Уведомление об окончалии строительных работ на планете (постройка или разрушение здания). Уведомление высылается пакетно в полуавтоматическом режиме. Это означает, что сообщение генерируется каждый раз при обращении к планете (сканирование шпионажом или игроком, переключение активной планеты игроком итд). При этом в сообщение указываются все изменения, произошедшие на момент обращения<br />
</ol>
<ul>
<li>Уведомления этого класса могут быть отключены в настройках пользователя<br />
</ul>
</div><div class="changed">[~]&nbsp;Навбар: По клику на счетчике флотов и экспедиций открывается страница флотов в полете<br /></div><div class="changed">[~]&nbsp;Список планет: Изменена цветовая кодировка полосы застройки: зеленый - менее 50% застройки, желтый - не меньше 50% и меньше 80%, оранжевый - не меньше 80% и меньше 100%, красный - 100% застройки<br /></div><div class="changed">[~]&nbsp;Список планет: На полосы застройки добавилось застроенное и максимальное количество полей на планете<br /></div><div class="changed">[~]&nbsp;Список планет: Сортировка учитывается в списке планет на страницах "Обзор планеты" и "Империя"<br /></div><div class="changed">[~]&nbsp;Флоты: Переоформлена страница своза ресурсов. Теперь так же считается сумма выбранных для своза ресурсов по каждой планете<br /></div><div class="changed">[~]&nbsp;Империя: Переформатирована страница Империи<br /></div><div class="changed">[~]&nbsp;Боевой отчет: Добавлено количество убитых корблей в предыдущем раунде.<br /></div><div class="changed">[~]&nbsp;Флоты/Сообщения: Приглашение в САБ теперь относится к категории "Боевые отчеты", а не к категории "Сообщения от игроков"<br /></div><div class="changed">[~]&nbsp;Обзор планеты: Теперь если планет больше 5, то они показываются в две колонки<br /></div><div class="changed">[~]&nbsp;Мировые константы: Добавлен вывод информации о разешении прокачки и разрешении удержания на слабом соаловце<br /></div><div class="changed">[~]&nbsp;Шпионаж: Изменены сообщения при уничтожении разведфлота<br /></div><div class="changed">[~]&nbsp;Навбар: Клик на индикаторе сообщений Администрации, Альянса или от другого игрока сразу открывает просмотр соответствующих сообщений<br /></div><div class="changed">[~]&nbsp;Вселенная: Во всплывающем меню на поле обломков добавлена индикация количества летящих переработчиков игрока<br /></div><div class="fixed">[%]&nbsp;Альянсы: Исправлена ошибка невозможности выхода из Альянса<br /></div><div class="fixed">[%]&nbsp;Антибашинг: Исправлена ошибка в подсистеме техобслуживания из-за которой удалялись нужные записи из таблицы башинга и расчет волн сбрасывался<br /></div><div class="fixed">[%]&nbsp;Вселенная: Исправлена ошибка с неправильным наложением иконки летящего флота, когда флоту отдана команда "Обратно"<br /></div><div class="fixed">[%]&nbsp;Обзор планеты: Исправлена ошибка с добавлением лишнего события, когда флоту отдана команда "Обратно"<br /></div><div class="fixed">[%]&nbsp;Вселенная: Исправлена возможность появления фантомных лун. Существующие фантомные луны удалены<br /></div><div class="fixed">[%]&nbsp;JS: Исправлена ошибка в js_timer, приводящая к некорректной работе таймера после таймера с типом "date&time with delta"<br /></div><div class="fixed">[%]&nbsp;Флоты: Исправлена ошибка обработки миссии "Транспорт" если планета назначения не существует <br /></div><div class="fixed">[%]&nbsp;Флоты: Исправлена ошибка, позволяющая атаковать в САБе более слабого игрока<br /></div><div class="fixed">[%]&nbsp;Вселенная: Исправлены ошибка индикации на поле обломков чужих летящих переработчиков и ошибка невозможности послать переработчики через всплывающее меню, если уже на то же поле летят чужие переработчики<br /></div><div class="fixed">[%]&nbsp;Бой: В отчете правильно указывается количество захваченных ресурсов<br /></div><div class="fixed">[%]&nbsp;Бой: Исправлены предупреждения, выдающиеся в случае, когда какой-либо из флотов пустой<br /></div><div class="fixed">[%]&nbsp;Настройки: Исправлена ошибка, позволяющая уйти в отпуск когда что-то строится или исследуется на неосновной планете<br /></div><div class="admin">[@]&nbsp;SQL: Обновлен дамп БД до версии 29<br /></div><div class="admin">[@]&nbsp;Update: Изменен апдейтер так, что бы не выдавать ошибки при апгрейде с версии <26. Так же введена конфигурация времени блокировки базы апдейтером<br /></div><div class="admin">[@]&nbsp;Update: Добавлена процедура валидизации таблицы игроков по имени и ИД Альянса. Так же добавлены constraint на эти поля<br /></div><div class="admin">[@]&nbsp;GIT: GIT теперь так же игнорирует SQL-файлы в каталоге бэкапа<br /></div><div class="admin">[@]&nbsp;Локализация: Немного оптимизирована локализация<br /></div><div class="admin">[@]&nbsp;Настройки: Изменена подсистема дополнительных настроек пользователя<br /></div><div class="admin">[@]&nbsp;Системное: sys_get_param_int_val теперь так же обрабатывает непрописанные чекбоксы - те, которые возвращают "on" и "off". Для таких значение он возвращаеет соответственно "1" и "{$default}"<br /></div><div class="admin">[@]&nbsp;Флоты: Добавлена возможность разрешения прокачки транспортировкой ресурсов от более слабого игрока более сильному. Опция "Разрешить прокачку" на странице настроек сервера<br /></div><div class="admin">[@]&nbsp;Настройки: Добавлена опция сервера, разрешающая удержание на слабом со-аловце. Опция "Разрешить удержание на слабом соаловце" на странице настроек сервера<br /></div><div class="admin">[@]&nbsp;Апдейтер: Исправлена ошибка добавления внешних ключей к таблице users<br /></div><h1>Project "SuperNova.WS" Release 28 "Chatting Diplomacy Alliance Bashing"</h1><div class="important">[!]&nbsp;Чат: Полностью переписан внутренний чат.<br /><ol>
<li>Полностью переписана JS-часть. В частности - AJAX-вызовы теперь осуществляются через jQuery<br />
<li>Добавлена заплатка для корректной работы чата в глюкофоксе<br />
<li>Добавлена защита на стороне клиента от слишком частых обновлений<br />
<li>Полностью переработана PHP-часть чата<br />
<li>Корректно показывает заголовок в истории чата - "общий чат" и "чат альянса" соответственно<br />
<li>История чата теперь грузиться в виде нормальной страницы СН, а не в виде "обмылка", как раньше<br />
<li>Содержимое языкового файла chat.mo отфильтровано и влито в system.mo<br />
<li>Множество других добавлений и усовершенствований<br />
</ol>
</div><div class="important">[!]&nbsp;Альянсы: Добавленв подсистема дипломатии<br /><ul>
<li>Информация о текущих дипломатических отношениях Альянса отображается на странице информации об Альянсе и доступна для просмотра любому игроку<br />
<li>Глава Альянса может начинать переговоры и принимать предложения от других Альянсов, выбрав пункт "Переговоры" в заголовке таблицы дипломатии. Там же можно сделать предложение об изменении отношений другому Альянсу. Нельзя сделать предложение текущих отношений (т.е. если Альянсы находятся в отношениях "Война" нельзя опять предложить отношение "Война") В общем случае что бы изменилось отношения между Альянсами, другая сторона должна потвердить предложение об изменении по ссылке "Переговоры", доступной главе Альянса (исключения из данного правила изложены ниже).<br />
<li>Отношения между Альянсами бывают следующие:<br />
<ol>
<li>Нейтралитет. Отношение по умолчанию. Нет никаких ограничений или бонусов<br />
<li>Война. Отключается система защиты башинга между членами Альянса, находящимися в состоянии войны. Автоматически принимается второй стороной. Подробнее см.ниже в описании защиты от башинга<br />
<li>Мир. Рекомендуется выставлять этот статус после заключения пакта о ненападении. С точки зрения движка оно ничем не отличается от "Нейтралитета" и нужно для информирования остального игрового сообщества о неких устных договоренностях - буде в таком информировании возникнет нужда. Альянсы вольны следовать или не следовать данной рекомендации, а так же решать - хотят они оповестить Вселенную об изменении своих отношений или нет<br />
</ol>
</ul>
</div><div class="important">[!]&nbsp;Антибашинг: Добавлена система защиты от башинга. Защита не дает отправить больше флотов и волн, чем указано в правилах.<br /><ul>
<li>Настройки по умолчанию - в течении 24 часов 3 волны по 3 атаки не более 30 минут между атаками в одной волне.<br />
<li>Настроить систему защиты от башинга можно через таблицу `config` - группа параметров fleet_bashing_*.<br />
<li>Установка параметра fleet_bashing_attack в 0 означает полное отключение системы защиты.<br />
<ol>
<li>Атакой считаются миссии: "Атака", "Совместная атака" и "Уничтожить луну". Миссия "Ракетная атака" атакой не считается<br />
<li>Учитываются флоты в полете. Т.е. если игрок уже запустил две волны и еще одна находится в полете - он больше не сможет запускать флоты.<br />
<li>Атаки засчитываются по факту - т.е. если полностью отменить волну, находящуюся в полете, игрок сразу же сможет послать на планету новые флоты, не дожидаясь возвращения волны<br />
<li>Атаки учитываются вне зависимости от результата (выигрыш, ничья, проигрыш)<br />
<li>При САБе атака засчитывается ВСЕМ нападающим - дабы избежать "карусели", т.е. когда несколько игроков по очереди запускают САБы, а остальные к ним присоединяются<br />
<li>Все флоты одного игрока в одном САБе считаются как один флот<br />
<li>Если Альянсы находятся в отношении "Война", защита от башинга не работает<br />
<li>Объявление войны не требует согласия. Это означает, что когда Альянс А предложил Альянсу Б отношение "Война", это предложение принимается автоматически и отношения устанавливаются сразу для обоих Альянсов<br />
<li>Выход из состояния войны требует согласия обоих сторон<br />
<li>Выход из состояния войны обратной силы не имеет! Т.е. если было объявлено перемирие когда планеты одного из Альянсов находятся под атакой, то флоты все равно долетят и совершат нападение - какое бы ни было новое отношение между Альянсами (если, конечно, атакующий их не отзовет)<br />
<li>А вы знаете почему такой относительно простой вещи (40+ человекочасов) нет на Оффе? А что бы денежки снимать за разбан!<br />
</ol>
</ul>
</div><div class="important">[!]&nbsp;Экономика: Изменена выработка энергии.<br /><ul>
<li>Во-первых - модификатор скорости игры теперь не действует на энергию.<br />
<li>Во-вторых - температура планеты влияет на выработку солнечных электростанций<br />
<li>В-третьих - Производство энергии на термоядерной электростанции теперь считается по формуле оффа:<br />
<ul>
<li>(Э) * 30 * (1,05 + (Е) * 0,01) ^ (Э)<br />
</ul>
<li>где Э - уровень электростанции, Т - уровень энергетической технологии<br />
<li>В-четвертых - энергетическая технология больше не дает дополнительный бонус к производительности электроэнергии<br />
<li>Выработка энергии изменена исходя из следующих правил:<br />
</ul>
<ol>
<li>Электростанция может поддерживать одну шахту и один синтезатор рудника того же уровня (взято с оффа)<br />
<li>Формула выработки термоядерной электростанции взята с оффа<br />
<li>Средняя температура на планете - 20 градусов (это планеты с минимальной температурой 0 градусов и максимальной 40 градусов). На такой планете эффективность солнечной электростанции будет 100%<br />
</ol>
</div><div class="added">[+]&nbsp;Интерфейс: В списках летящих флотов к количеству кораблей во флоте добавляется в конце знак "+" если флот везет ресурсы<br /></div><div class="added">[+]&nbsp;Обзор Империи: Добавлена температура планеты. В колонке ИТОГО - минимальная и максимальная среди всех температур<br /></div><div class="added">[+]&nbsp;Новости: Добавлена возможность массовой рассылки новости всем игрокам<br /></div><div class="added">[+]&nbsp;Экономика: Изменена схема работы МИС. Теперь МИС работает следующим образом: 1. По каждой планете вычисляется эффективный уровень исследования (ЭУИ) = уровень лаборатории / (0,5 ^ уровень нанитки)<br /><ol>
<li>Планеты сортируются по эффективному уровню<br />
<li>Отсекаются планеты с уровенм лаборатории, недостаточным для проведения данного исследования<br />
<li>Выбирается верхние (уровень МИС + 1) планет в списке и суммируется ЭУИ этих планет<br />
<li>Получившееся число подставляется в формулу вычисления времени исследования Следствия:<br />
<li>Нанолаборатория теперь увеличивают эффективность лаборатории только на той планете, на которой они расположены<br />
<li>Время исследования теперь одинаково на всех планетах. На некоторых планетах чуть больше, на некоторых - чуть меньше, но в среднем - лучше, чем было раньше<br />
<li>Имеет смысл держать только (уровень МИС + 1) планет с лабораториями. Остальные просто не будут подключаться.<br />
<li>Примечание к следствию 3 - собственно, так было и раньше - все равно исследование могло проводиться только на одной планете<br />
</ol>
</div><div class="added">[+]&nbsp;Навбар: Переработана ячейка сообщений<br /></div><div class="added">[+]&nbsp;Навбар: Добавлено количество флотов и экспедиций в полете и всего. Количество флотов и экспедиций в полете интерактивно: оно автоматически изменяется в соответствие с происходящими событиями - прибытие, возвращение и окончание миссии флота (как они должны были произойти на момент загрузки страницы). При наведении курсора на соответствующую ячейку всплывает подсказка с описанием ближайшего события<br /></div><div class="added">[+]&nbsp;Список планет: Справа от иконки планеты добавлены три колонки, показывающие процент производительности шахт и синтезаторов: серый - шахта металла, голубой - синтезатор кристаллов, фиолетовый - синтезатор дейтрия. Высота колонки пропорциональна проценту производства, а фон кодирует диапазоны: желтый - 80-90%, оранжевый - 50-70%%, красный - меньее 50%. На высоту и фон колонки влияет ИСКЛЮЧИТЕЛЬНО процент производства, выставленный на странице "Ресурсы"<br /></div><div class="added">[+]&nbsp;Империя: Цифра производства ресурсов теперь кодируется цветом аналогично фону колонки прозиводства ресурсов (см. выше)<br /></div><div class="added">[+]&nbsp;Свезти ресурсы: Добавлен JS-счетчик общего количества свозимых ресурсов с учетом чекбоксов<br /></div><div class="added">[+]&nbsp;Свезти ресурсы: Добавлено отображение количества необходимых ресурсов при переходе по кнопке "Свезти ресурсы" со страницы постройки<br /></div><div class="added">[+]&nbsp;Император: Добавлена дата регистрации: "Император [Имярек] с [дата]"<br /></div><div class="changed">[~]&nbsp;Экономика: Энергия считается более аккуратно<br /></div><div class="changed">[~]&nbsp;Экономика: Изменена формула расчета МИС. Теперь нанолаборатории на планетах, включенных в МИС так же работают<br /></div><div class="changed">[~]&nbsp;Вселенная: Правильно считается минимальная и максимальная температура луны<br /></div><div class="changed">[~]&nbsp;Вселенная: Стартовая планета теперь имеет температуру 0/40<br /></div><div class="changed">[~]&nbsp;Чат: Ники модераторов (auth_level=1) и операторов (auth_level=2) в чате теперь тоже выделяются. По умолчании соответственно зеленым и красным цветом<br /></div><div class="changed">[~]&nbsp;Новости: Чекбокс "Разослать новость игрокам" включен по умолчанию<br /></div><div class="changed">[~]&nbsp;НоваПедия: "Ракетный двигатель" переименован в "Химический", а "Импульсный" - в "Ионный". Для них полностью изменено описание. Так же изменено соответствующе описание кораблей.<br /></div><div class="changed">[~]&nbsp;HTML: Исправлен хидер, что бы быть W3C-compliant<br /></div><div class="changed">[~]&nbsp;Флоты: Страница 0 - перемещена кнопка "Дальше" на одну строку вверх. Добавена кнопка "Свезти ресурсы"<br /></div><div class="changed">[~]&nbsp;Список забаненных: Полностью переписан. Список теперь сортируется по возрастанию даты бана - последние забаненные появляются в начале списка. Добавлено отображение разбанов<br /></div><div class="changed">[~]&nbsp;Чат: Добавлена трансляция в смайлы сочетания ":)" - :smile<br /></div><div class="changed">[~]&nbsp;Произведено разделение между "Релизом" и "Версией" в интерфейсе пользователя. "Релиз" - это крупное обновление движка, выкладываемое в виде одного файла в общий доступ. Версия - небольшое обновление, недостаточное для смены номера релиза. Подробнее об этом можно прочесть в файле /docs/html/developer.html<br /></div><div class="changed">[~]&nbsp;Флоты: Удалена ссылка на редактирование закладок со страницы 1 - теперь закладки можно редактировать через левое меню<br /></div><div class="fixed">[%]&nbsp;Рапорты: На странице просмотра рапортов максимальное количество в поле ввода кода выставлено в 32<br /></div><div class="fixed">[%]&nbsp;Флоты: Теперь при возврате последнего флота в САБе САБ корректно уничтожается<br /></div><div class="fixed">[%]&nbsp;Ракеты: Исправлена ошибка в процедуре ракетной атаки - технологии щитов и брони были перепутаны местами<br /></div><div class="fixed">[%]&nbsp;Экономика: Исправлен глюк с невычитанием дейтрия при отрицательном балансе<br /></div><div class="fixed">[%]&nbsp;JS: Исправлен глюк в скрипте таймера из-за которого не отсчитывало назад ресурсы при переполненных складах<br /></div><div class="fixed">[%]&nbsp;Империя: Исправлена ошибка отображения маскимального количества полей на луне<br /></div><div class="fixed">[%]&nbsp;НоваПедия: Исправлена очепятка из-за которой в списке кораблей на химических двигателях не показывался переработчик<br /></div><div class="fixed">[%]&nbsp;Фаерфокс: Исправлен ВНЕЗАПНЫЙ отказ глюкобага отправлять сообщения в чат. Тормозилла - так поддерживать! Ибо то, что висит можно только поддерживать.<br /></div><div class="fixed">[%]&nbsp;Альянсы: Исправлены ошибки редактирования информации Альянсов<br /></div><div class="fixed">[%]&nbsp;Статистика: Исправлено неправильно отображение даты последнего обновления статистики при просмотре статистики Альянсов<br /></div><div class="fixed">[%]&nbsp;Чат: Исправлена ошибка парсинга смайлов ":(" и ";)" (код последнего заменен на ":wink:" из-за непоняток с парсингом)<br /></div><div class="fixed">[%]&nbsp;Админка: Исправлены сообщения "Page not found" в формах<br /></div><div class="admin">[@]&nbsp;БД: Изменена структура таблицы банов banned<br /></div><div class="admin">[@]&nbsp;Система: Добавлена процедура ежедневного обслуживания: чистка таблицы башинга, чистка таблицы САБ<br /></div><div class="admin">[@]&nbsp;Админка: Проставлены права доступа к отдельным страницам в зависимости от уровня.<br /><ol>
<li>Модератор (authlevel=1) имеет доступ к следующим страницам: overview, activeplanet, banned, changelog, planetlist, statbuilder, tools, md5enc. Он может: видеть список игроков онлайн и их активность, видет список и активность планет, вручную обновлять статистику, банить и разбанивать пользователей<br />
<li>Оператор (authlevel=2) дополнительно имеет доступ к следующим страницам: add_building, add_def, add_money, add_moon, add_research, add_ship, del_building, del_def, del_money, del_research, del_ship, moonlist, showfliyingfleets. Дополнительно к функциям модератора он может: добавлять и убирать на планетах здания, корабли, защиту, ресурсы; добавлять и убирать технологии игрока; видеть все луны и добавлять луны к планетам; видеть и редактировать флоты в полете<br />
<li>Администратор (authlevel=3) имеет доступ ко всем страницам, включая delete_user, admin_darkmatter, errors, maintenance, maintenance_ajax, messagelist, messall, admin_chat, paneladmina, planetcompensate, settings, userlist. Дополнительно к функциям оператора он может: добавлять и убирать ТМ у игроков; видеть полный список игроков с IP-адресами; удалять игроков; запускать процедуру обслуживания БД; просматривать и удалять личные сообщения; просматривать и удалять сообщения чата; просматривать и удалять сообщения системы логов; изменять права пользователей; изменять настройки игры; возмещать игроку стоимость затрат на планету<br />
</ol>
</div><div class="admin">[@]&nbsp;Админка: Введена дополнительная защита от взлома. Теперь член команды игры не может назначить кому-либо уровень доступа, равный или больший своего. Таким образом через админку невозможно назначить второго Администратора. Однако это можно проделать напрямую в БД<br /></div><div class="admin">[@]&nbsp;Админка: Исправлено ложное срабатывание системы определения взлома при обновлении пользователем страницы "Флоты в полете" сразу после отдачи команды "Обратно" последнему из текущих флотов. Так же в предупреждение теперь логгится состав флот, который пытался вернуть пользователь<br /></div><div class="admin">[@]&nbsp;Разработка: добавлен каталог '.local' для облегчения разработки. Файлы в этом каталоге игнорируются GIT-ом, но при этом корректно подключают внешние файлы для обработки и выполнения<br /></div><div class="admin">[@]&nbsp;Разработка: добавлена процедура sn_db_perform(). Отныне для вставки<br /><ul>
<li>одиночных записей следует использовать только её. См. файл db.php<br />
</ul>
</div><h1>Project "SuperNova.WS" Release 27 - We speak English! (2011-03-15 00:10)</h1><div class="important">[!]&nbsp;Движок: Теперь СН может размещаться на веб-сервере на любом уровне вложенности каталогов<br /></div><div class="important">[!]&nbsp;Локализация: Добавлена английская локализация (с) madmax1991.<br /></div><div class="important">[!]&nbsp;Локализация: Серьезно переработаны файлы локализации: добавлена полноценная информация о локализации (файл language.mo в каталоге локализации); удалено множество неиспользуемых файлов; несколько маленьких файлов локализации "влиты" в system.mo. Формат файла language.mo на текущий момент объявляется финальным. Просьба всем локализаторам придерживаться этого формата<br /></div><div class="important">[!]&nbsp;Включена возможность выбора языка для пользователей<br /></div><div class="important">[!]&nbsp;Закладки: Полностью переписана система закладок. Теперь закладки хранятся в отдельной таблице и не захламляют данные пользователя. Полностью переделано редактирование закладок<br /></div><div class="important">[!]&nbsp;Боевой отчет: Добавлена страница для просмотра боевого отчета по его коду. В меню в раздел "Информация" добавлена соответствующая ссылка<br /></div><div class="important">[!]&nbsp;Интерфейс: Разнесены по разным страницам отправка флота и информация о флотах в полете. Теперь флот отправляется через пункт меню "Флот на орбите" раздела "Планета", а информация о летящих флотах доступна через пункт меню "Флоты в полете" раздела "Империя"<br /></div><div class="important">[!]&nbsp;"Крейсер" переименован в "Эсминец", а "Линкор" - в "Крейсер"<br /></div><div class="added">[+]&nbsp;Админка: Язык игры по умолчанию теперь выбирается из списка доступных языков<br /></div><div class="added">[+]&nbsp;ЧаВо: В настройках сервера добавлена возможность задать URL для ЧаВо. Добавлен соответствующий пункт в левое меню<br /></div><div class="added">[+]&nbsp;Добавлен файл /README на английском языке.<br /></div><div class="changed">[~]&nbsp;Экономика/Ресурсы: По многочисленным просьбам добавлена колонка "В час"<br /></div><div class="changed">[~]&nbsp;Админка: Процедура обслуживания БД теперь удаляет только сообщения с неизвестным адресатом и сообщения, старше 30 дней<br /></div><div class="changed">[~]&nbsp;Регистрация: Пароль теперь так же указывается на странице пост-регистрации - на случай, если письмо с паролем не дойдет до адресата<br /></div><div class="changed">[~]&nbsp;Флоты: Немного изменил страницу 1 отправки флотов - теперь закладки, базы и боевые союзы выводятся бок-о-бок в три колонки<br /></div><div class="changed">[~]&nbsp;Логин: Переработаны меню страниц логина, регистрации и восстановления забытого пароля. Теперь оно одинаково для всех страниц и кроме старых пунктов дополнительно включает блок ссылок логин/регистрация/восстановление пароля, ссылку на FAQ, ссылку на новости сервера (к ним теперь разрешен доступ незалогиненных/забаненных пользователей).<br /></div><div class="changed">[~]&nbsp;Интерфейс: Теперь если в настройках сервера отсутсвует какой либо из URL (адрес форума, ссылка на правила, ссылка на FAQ), то соответствующие пункты меню и ссылки скрываются или не подсвечиваются. В дампе БД по умолчанию все URL идут пустыми<br /></div><div class="changed">[~]&nbsp;Интерфейс: Переработана страница ТМ. Теперь если в конфигурации отсутствует URL с подробностями покупки ТМ - информация о возможности покупки просто не выводится<br /></div><div class="fixed">[%]&nbsp;Экономика/Ресурсы: Добавлена проверка на корректный процент производства на странице "Ресурсы"<br /></div><div class="fixed">[%]&nbsp;Исследования: Теперь невозможно исследовать технологии во время постройки лаборатории или нанолаборатории<br /></div><div class="fixed">[%]&nbsp;Вселенная: Исправлена ошибка с неправильной ссылкой на экспедицию при количестве планет в системе не равном 15<br /></div><div class="fixed">[%]&nbsp;Флот: Закрыта уязвимость к передаче неправильных ИД кораблей на странице флота<br /></div><div class="fixed">[%]&nbsp;Флот: Добавлена проверка на корректное время Экспедиций и Удержания<br /></div><div class="fixed">[%]&nbsp;Флот: Теперь корректно выводится сообщени об ошибке при попытке отправить флот на несуществующую планету<br /></div><div class="fixed">[%]&nbsp;Флот: исправлена ошибка создания САБа в случае, когда летит максимум флотов<br /></div><div class="fixed">[%]&nbsp;Флот: исправлена ошибка неудаления пустого САБа после атаки<br /></div><div class="fixed">[%]&nbsp;Флот: Исправлена ошибка дублирования списка САБов<br /></div><div class="fixed">[%]&nbsp;Альянсы: Исправлена ошибка вывода заявки на странице управления заявок. Теперь если в заявке есть переводы строк, то заявка корректно форматируется<br /></div><div class="fixed">[%]&nbsp;Админка: Исправлена баннерилка<br /></div><div class="fixed">[%]&nbsp;Вселенная: Корректно выводится сообщение при попытке нападения на игрока в отпуске<br /></div><div class="fixed">[%]&nbsp;Безопасность: Исправлена ошибка невозможности доступа незалогиненных пользователей к статистике, контактам итд<br /></div><div class="fixed">[%]&nbsp;Реклама: Исправлена ошибка несохранения параметров рекламного блока при перезапуске сервера<br /></div><div class="admin">[@]&nbsp;БД: Версия БД увеличена до 27. Обновлен дамп<br /></div><div class="admin">[@]&nbsp;Обновлены инструкции в файле /docs/install.txt<br /></div><div class="admin">[@]&nbsp;SQL: По умолчанию в дампе счетчик посещений - отключен, а игра - включена<br /></div><div class="admin">[@]&nbsp;Теперь можно отключить защиту слабых игроков, сбросив game_noob_factor в 0<br /></div><div class="admin">[@]&nbsp;Исправлено несколько участков кода, выдающих предупреждения в логи<br /></div><div class="admin">[@]&nbsp;Убрана запись сообщения в логи о постройке ПЗ/отмене очереди верфи<br /></div><div class="admin">[@]&nbsp;Чат: Изменилось выделение сообщений команды сервера. Теперь выделяется ник и в сообщениях можно использовать все стандартные цвета. Переменная конфигурации chat_admin_msgFormat заменена на переменную chat_admin_highlight. В ней можно использовать HTML коды. Место вставки ника обозначается как '$1' - см. пример в БД<br /></div><div class="admin">[@]&nbsp;Изменена система слежения за игроками. Теперь не логгируются неопасные запросы (SELECT, START TRANSACTION, COMMIT, ROLLBACK). При логгировании запроса так же записывается стандартный набор переменных<br /></div><div class="admin">[@]&nbsp;В процедуру апдейта добавлена очистка старого списка САБов<br /></div><div class="admin">[@]&nbsp;Альянсы: Страницы "Настройка прав доступа", "Список участиков Альянса", "Поиск Альянса", "Создание Альянса", "Управление заявками" переделаны под PTE<br /></div><h1>Project "SuperNova.WS" Release 26 - Speed It Up! (2011-02-07 13:02)</h1><div class="important">[!]&nbsp;Новый менеджер летящих флотов - теперь рядно-блокирующий, тразакционный и кэширующий! Обновленный код на порядок уменьшает нагрузку на сервер за счет отказа от табличной блокировки и встроенной системе кэширования запросов. Система "событий" гарантирует корректный порядок обработки флотов (с точностью до секунды - предела текущей организации таблиц). Целостность и валидность результатов обеспечена добавлением транзакций. Всё это позволило уменьшить дискретизацию обработки флотов до 4х секунд на серверах с 300+ онлайна.<br /></div><div class="important">[!]&nbsp;changelog.txt разделен на пользовательский и девелоперский. Все изменения в процессе разработки новой версии вносятся в changelog_dev.txt. При подготовке релиза в changelog.txt переносятся только финальные изменения<br /></div><div class="added">[+]&nbsp;Свезти ресурсы: Теперь можно отдельно выбирать типы ресурсов, которые нужно свезти<br /></div><div class="added">[+]&nbsp;Свезти ресурсы: Добавлены колонки "ВСЕГО" - общее количество ресурсов на планете и "Трюмы" - общая грузоподъемность транспортного флота с цветовым кодированием. Галочки в колонке "ВСЕГО" теперь не влияют на набор вывозимых ресурсов, а используются только для облегчения выбора<br /></div><div class="added">[+]&nbsp;Полностью переписана работа алгоритма миссии "Шпионаж". Теперь он полностью соответствует оффовскому (расчет разницы уровней, влияние зондов, шансы обнаружения шпионажа флотом итд). От старого кода осталась только генерация рапорта<br /></div><div class="added">[+]&nbsp;Скрипт обновления статистики завернут в транзакции. Это дало 50 кратное увеличение скорости исполнения<br /></div><div class="changed">[~]&nbsp;Вселенная: Теперь отображаются все планеты в зависимости от настройки game_max_planet, а не 16 штук<br /></div><div class="changed">[~]&nbsp;Восстановление пароля: Теперь в восстановлении пароля участвует адрес, указанный при регистрации<br /></div><div class="changed">[~]&nbsp;Автологин стал более параноидальным. Это позволило избавиться от большей части ошибок<br /></div><div class="changed">[~]&nbsp;Настройки: При попытке уйти в отпуск теперь выдается отдельное сообщение при летящих флотах и отдельное сообщение при постройке на планетах<br /></div><div class="changed">[~]&nbsp;Чёрный Рынок: Торговец ресурсами - Добавлена защита от повторного обмена<br /></div><div class="changed">[~]&nbsp;Сообщения: В навбаре теперь дополнительно отображаются количество сообщений от других игроков и количество сообщений от членов альянса. Цветовое кодирование зависит от скина и такое же, как на странице сообщений<br /></div><div class="changed">[~]&nbsp;Навбар: Стартовое время и количество ресурсов теперь прописывается в темплейте. На медленных соединениях до конца загрузки страницы в навбаре будут не заглушки, а значения, акутуальные на момент запроса<br /></div><div class="changed">[~]&nbsp;Император: Все числа теперь показываются с разделителем тысяч<br /></div><div class="changed">[~]&nbsp;Настройки пользователя: Ко всем чекбоксам добавлены label for на соответствующие надписи. Теперь можно кликать на надпись, что бы переключить чекбокс<br /></div><div class="changed">[~]&nbsp;Здания: По окончании очереди построек страница автоматически обновляется<br /></div><div class="changed">[~]&nbsp;Верфь: Теперь при отмене очереди открывается та же страница верфи (флот или оборона)<br /></div><div class="changed">[~]&nbsp;Обзор планеты: При выборе луны в списке колоний её иконка увеличивается на 50%. Изображение планеты, которой принадлежит луна, так же остается увеличенным<br /></div><div class="changed">[~]&nbsp;Обзор планеты/Обзор Империи: На превьюшку колонии добавлена иконка тележки. Щелчок на неё открывает интерфейс своза ресурсов на данную планету/луну<br /></div><div class="changed">[~]&nbsp;Обзор планеты/Обзор Империи: В списке планет полоса застроенности планеты перенесена под картинку<br /></div><div class="changed">[~]&nbsp;Обзор планеты: Иконка вражеской атаки на превьюшке луны составляет 70% для лучшей различимости при невыбранной луне<br /></div><div class="fixed">[%]&nbsp;Настройки: Исправлена ошибка с невозможностью ухода в отпуск<br /></div><div class="fixed">[%]&nbsp;Флоты: Исправлены ошибка "Не хватает топлива" при отправки миссий "Колонизация" и "Экспедиция"<br /></div><div class="fixed">[%]&nbsp;Чёрный Рынок/Торговец ресурсами: закрыт эксплойт, позволяющий обменивать ресурсы на ТМ<br /></div><div class="fixed">[%]&nbsp;Чёрный Рынок: Теперь невозможно продать/купить не-корабль на соответствующей странице Чёрного Рынка<br /></div><div class="fixed">[%]&nbsp;Боевка: Корабли теперь не будут увозить отрицательные ресурсы с планеты<br /></div><div class="fixed">[%]&nbsp;Экономика: Производительность теперь не может быть отрицательной<br /></div><div class="fixed">[%]&nbsp;Экономика: Исправлена ошибка, когда при отрицательной добыче ресурсы могли уйти в минус<br /></div><div class="fixed">[%]&nbsp;Таймер: JS-таймер теперь не будет считать ресурсы меньше 0<br /></div><div class="fixed">[%]&nbsp;Закрыта дыра, позволяющая поставить в очередь больше зданий, чем есть свободного места на планете<br /></div><div class="fixed">[%]&nbsp;Устранена ошибка зацикливания перенаправлений при удалении колонии<br /></div><div class="fixed">[%]&nbsp;Устранена ошибка неначисления опыта/уровня при атаках, если в процессе генерации рапорта произошел сбой<br /></div><div class="fixed">[%]&nbsp;Вселенная: Исправлена ошибка неотображения названий планет с символов "'"<br /></div><div class="fixed">[%]&nbsp;Своз ресурсов: перед свозом ресурсов не пересчитывались данные о ресурсах на планетах, поэтому свозилось количество ресурсов меньшее, чем могло<br /></div><div class="fixed">[%]&nbsp;Сообщения: Теперь при появлении нового внутриигрового сообщения (возвращение флота, шпионаж, отчеты переработчиков итд), счетчик сообщений реагирует сразу, а не после обновления страницы<br /></div><div class="admin">[@]&nbsp;Версия БД увеличена до 26. Обновленный дамп<br /></div><div class="admin">[@]&nbsp;Теперь админ тоже не может ходить по клиентской части при отключенном сервере во избежание порчи БД при бэкапе или апгрейде<br /></div><div class="admin">[@]&nbsp;Таблица `errors` влита в `logs`. Новая таблице переформирована:<br /></div><div class="admin">[@]&nbsp;Изменены коды операции со статистикой. Раньше код 102 пересекался с операцией "изменение темной материи"<br /></div><div class="admin">[@]&nbsp;Добавлена обработка ситуации, когда после установки движок сначала запустили на пустой базе, а только затем залили в неё дамп<br /></div><div class="admin">[@]&nbsp;Вселенная: Добавлена обработка исключительной ситуации, когда у планеты нет хозяина: в цикл просмотра системы, в выгрузку кэша в темплейт, в самом темплейте<br /></div><div class="admin">[@]&nbsp;Счетчик посещений теперь можно отключить из настроек сервера<br /></div><div class="admin">[@]&nbsp;Чёрный Рынок/Торговец ресурсами: Переработан внутренний алгоритм работы. Модуль теперь использует коды событий 9xx<br /></div><div class="admin">[@]&nbsp;Унифицированы алгоритмы и файлы постройки флота и защиты. Это должно полностью снять проблемы с отрицательными ресурсами после верфи и с постройкой лишних единиц флота/защиты на верфях<br /></div><div class="admin">[@]&nbsp;Добавлена защита от выполнения файлов .INC вне основного кода<br /></div><h1>Project "SuperNova.WS" Release 25 (2011-01-20 12:24)</h1><div class="date"><br />2011-01-20 12:24 V25c2<br />
</div><div class="fixed">[%]&nbsp;Здания: Теперь ссылки "Построить Уровень" и "Уничтожить Уровень" в описании здания отображаются только если здание действительно можно построить или уничтожить<br /></div><div class="date"><br />2011-01-20 00:21 V25c1<br />
</div><div class="added">[+]&nbsp;Свезти ресурсы: Добавлена дополнительная колонка "Время", в которой<br /><ul>
<li>указывается время полета флота для перевозки максимально возможного количества ресурсов<br />
</ul>
</div><div class="date"><br />2011-01-19 20:46 V25c<br />
</div><div class="fixed">[%]&nbsp;Верфь/Защита: Исправлена ошибка, которая могла приводить к отрицательному количеству ресурсов на планете и к дублированию защитных сооружений, имеющих ограничение по количество (планетарных щитов и ракет)<br /></div><div class="date"><br />2011-01-19 01:26 V25beta2<br />
</div><div class="added">[+]&nbsp;Свезти ресурсы: Теперь в форме выбора планет видно количество ресурсов на каждой планете.<br /></div><div class="changed">[~]&nbsp;Свезти ресурсы: Координаты и имя колонии разделены на две колонки<br /></div><div class="admin">[@]&nbsp;Обновлен дамп БД до версии 25<br /></div><div class="date"><br />2011-01-19 01:26 V25beta1<br />
</div><div class="added">[+]&nbsp;Мировые константы: Добавлена информация о версиях компонентов сервера<br /></div><div class="added">[+]&nbsp;Текущая версия движка теперь выводится в футере вместе с копирайтом<br /></div><div class="date"><br />2011-01-19 00:57 V25beta<br />
</div><div class="changed">[~]&nbsp;Версия БД увеличена до 25<br /></div><div class="date"><br />2011-01-19 00:52<br />
</div><div class="added">[+]&nbsp;Файл readme.txt приведен в соответствие с реальным состоянием движка<br /></div><div class="date"><br />2011-01-18 23:34<br />
</div><div class="important">[!]&nbsp;Переписана с нуля система отпусков. Теперь работает серверная опция "Отключить режим отпуска".<br /></div><div class="added">[+]&nbsp;Настройки: Переформатирован блок "Управление профилем": добавлен таймер, указывающий минимальный срок отпуска; добавлено пояснение по отключению профиля<br /></div><div class="changed">[~]&nbsp;Настройки: Убрано поле IPCheck, поскольку этот параметр все равно не работал<br /></div><div class="date"><br />2011-01-18 18:12<br />
</div><div class="changed">[~]&nbsp;Кнопка "Свезти ресурсы" перенесена под расписание движения флотов<br /></div><div class="changed">[~]&nbsp;Исправлена ошибка неотображения планеты в списке на вывоз ресурсов, если колония только одна<br /></div><div class="date"><br />2011-01-18 16:01<br />
</div><div class="fixed">[%]&nbsp;Исправлена ошибка при колонизации планеты игроком, в имени которого содержится апостроф. Это так же устраняет зависание флотов, если в очереди событий есть задание "Колонизация" от такого игрока<br /></div><div class="date"><br />2011-01-18 15:26<br />
</div><div class="admin">[@]&nbsp;Добавлены дополнительные проверки в систему безопасности. Это должно полностью убрать два вида с неправильными запросами тип "SELECT * FROM sn_fleets WHERE fleet_owner=" и "SELECT * FROM sn_fleets WHERE (fleet_start_galaxy = AND fleet_start_system = AND ...[итд])"<br /></div><div class="date"><br />2011-01-17 22:22 Свезти ресурсы<br />
</div><div class="important">[!]&nbsp;Флоты: Добавлена новая возможность - свезти ресурсы с остальных планет на текущую. Возможность доступна из левого меню "Флоты" через кнопку "Свезти ресурсы"<br /></div><div class="date"><br />2011-01-17 17:55<br />
</div><div class="fixed">[%]&nbsp;Вселенная: Исправлена ошибка отображения названий с символами "\" и """"<br /></div><div class="date"><br />2011-01-15 22:22 Ребалансировка офицеров<br />
</div><div class="important">[!]&nbsp;Перебалансированы офицеры. Характеристики чуть-чуть изменены. Кое-где добавлены дополнительные уровни.<br /><ul>
<li>Основное новвоведение - офицеры разбиты на две независимые подветки - "шахтерскую" и "рейдерскую".<br />
<li>"Шахтерская" ветка начинается с Геолога и включает Энергетика, Карго-мастера, Архитектора, Шпиона, Координатора.<br />
<li>"Рейдерская" ветка начинается с Адмирала и включает Конструктора, Академик, Фортификатор, Защитника, Навигатора.<br />
<li>Открытие второго офицера в ветке требует 5 уровней первого офицера, а каждого - следующего - по 5 уровней двух предыдущих (каждый раз пары разные).<br />
<li>Топ-офицеры Разрушитель и Ассасин кроме полного открытия своей подветки ("рейдерской" и "атакерской" соответственно) требуют открытия соседней ветки примерно до половины<br />
</ul>
</div><h1>Project "SuperNova.WS" Release 24.2 (2011-01-15 20:08)</h1><div class="date"><br />2011-01-15 17:53<br />
</div><div class="changed">[~]&nbsp;Экономика: Теперь нельзя ставить в очередь занятые здания (лаборатории - при текущем исследовании, верфь - при постройке кораблей или защиты). Так же нельзя запустить постройку кораблей/защиты при наличии в очереди верфи и нельзя запустить исследование при наличии в очереди любого типа лаборатории<br /></div><div class="fixed">[%]&nbsp;Экономика/Здания: Исправлена ошибка, позволяющая строить здания, для которых не выполнены требования постройки<br /></div><div class="fixed">[%]&nbsp;Экономика/Здания: Исправлена ошибка, позволяющая строить лаборатории во время исследования при отключенном BuildLabWhileRun<br /></div><div class="fixed">[%]&nbsp;Экономика: Исправлена ошибка, позволяющая апгрейдить верфь при постройке кораблей<br /></div><div class="fixed">[%]&nbsp;Экономика: Исправлена ошибка, позволяющая строить корабли во время стройки на верфи<br /></div><div class="date"><br />2011-01-15 15:18<br />
</div><div class="admin">[@]&nbsp;Каталог /docs/coding-guidelines переименован в /docs/html<br /></div><div class="admin">[@]&nbsp;/docs/readme_dev.txt переформатирован в /docs/html/developer.html<br /></div><div class="date"><br />2011-01-15 15:07<br />
</div><div class="admin">[@]&nbsp;Из global.css в отдельный файл вынесены опции для IE. Это позволило сделать CSS-код W3C-валидизируемым<br /></div><div class="date"><br />2011-01-14 15:51<br />
</div><div class="changed">[~]&nbsp;Здания: Добавлена заглушка против особенно тупых пользователей - теперь после обработки команды (постройка/удаление/очистка очереди итд) страница редиректится на страницу построек с пустым запросом. Это должно убрать все возможные глюки с нажатием кнопки Refresh (F5)<br /></div><div class="date"><br />2011-01-14 15:23<br />
</div><div class="added">[+]&nbsp;Симулятор: Добавлена поддержка Адмирала<br /></div><div class="date"><br />2011-01-14 15:02<br />
</div><div class="changed">[~]&nbsp;Обзор Империи: Уровни сносимых зданий выделяются в списке уровней красным цветом<br /></div><div class="date"><br />2011-01-14 14:49<br />
</div><div class="fixed">[%]&nbsp;Исследования: Исправлена ошибка, позволявшая исследовать технологии во время постройки лаборатории при отключенной опции "Строить лабораторию во время исследования"<br /></div><div class="date"><br />2011-01-14 14:23<br />
</div><div class="changed">[~]&nbsp;Постройка/Здания: Модифицирован код темплейта для совместимости с Хромом<br /></div><div class="date"><br />2011-01-14 13:55<br />
</div><div class="changed">[~]&nbsp;Вселенная: Добавлен статус для игрока "Начинаюшщий игрок" в зоне абсолютной нубзащиты (по умолчанию меньше 5000 очков)<br /></div><div class="changed">[~]&nbsp;Вселенная: Статус активности игрока теперь выделяется стилем текста: жирный - активный игрок, обычный - игрок неактивный больше 7 дней, наклонный - игрок неактивный больше 28 дней<br /></div><div class="date"><br />2011-01-14 09:58<br />
</div><div class="fixed">[%]&nbsp;Интерфейс/Инфобар: Баланс энергии опять отображается красным цветом<br /></div><div class="date"><br />2011-01-14 09:47<br />
</div><div class="fixed">[%]&nbsp;Обзор планету/Управления: Исправлена ссылка "Вернуться к обзору"<br /></div><div class="date"><br />2011-01-14 09:18<br />
</div><div class="changed">[~]&nbsp;Очередь построек: Перенесена номер строящегося уровеня с середины на верхнюю границу иконки<br /></div><div class="date"><br />2011-01-14 09:08<br />
</div><div class="fixed">[%]&nbsp;Постройки: Исправлена конструкция JS что бы её воспринимал долбанный IE<br /></div><div class="date"><br />2011-01-14 08:54<br />
</div><div class="fixed">[%]&nbsp;Корабли: Исправлена ошибка RR - у Сверхновой в требованиях для постройки был только один офицер. Добавлены требования по технологиям<br /></div><div class="date"><br />2011-01-14 07:51<br />
</div><div class="fixed">[%]&nbsp;Поиск: Исправлена ошибка RR, не дающая возможность искать игрока вне Альянсов<br /></div><div class="date"><br />2011-01-13 23:12<br />
</div><div class="changed">[~]&nbsp;Строительства/Здания: Добавлена возможность удалять последнее здание из очереди<br /></div><div class="date"><br />2011-01-13 19:31<br />
</div><div class="changed">[~]&nbsp;Мировые константы: Добавлено слово "Скорость" к соответствующим пунктам. Добавлен пробел между "Базовая добыча" и названием ресурса <br /></div><div class="date"><br />2011-01-13 19:09<br />
</div><div class="fixed">[%]&nbsp;Строительства/Здания: Исправлена ошибка в начислении опыта за строительство. Опыта давалось в 100 раз больше, чем должно было <br /></div><div class="date"><br />2011-01-13 18:51<br />
</div><div class="admin">[@]&nbsp;Чат: Добавлена возможность настраивать таймаут чата через интерфейс Настроек сервера (раздел "Настройки чата"/"Таймаут по неактивности"). Значение "0" означает, что таймаут отключен (не рекомендуется, потому что при неправильных настройках сервера большое одновременное количество запросов может привести к DoS)<br /></div><div class="date"><br />2011-01-13 18:05<br />
</div><div class="fixed">[%]&nbsp;САБ: Исправлена ошибка, когда можно было отправить флот более быстрый корабль с заданием "Атака". Теперь при выборе САБа доступно единственное задание: "Совместная атака"<br /></div><div class="date"><br />2011-01-13 15:42<br />
</div><div class="fixed">[%]&nbsp;Строительство/здания: Общее время постройки теперь в конце строительства обнуляется<br /></div><div class="date"><br />2011-01-13 12:55<br />
</div><div class="fixed">[%]&nbsp;Исправлена ошибка неначисления опыта при постройке зданий<br /></div><div class="date"><br />2011-01-13 09:36<br />
</div><div class="changed">[~]&nbsp;Чёрный рынок/Тоговец ресурсами: Добавлена обработка попытки обменять нулевое количество ресурсов. Раньше просто списывались ТМ, теперь выдается сообщение об ошибке<br /></div><div class="fixed">[%]&nbsp;Чёрный Рынок/Тоговец ресурсами: Исправлена уязвимость, позволявшая указать отрицательное количество ТМ и получить прибавление ТМ у пользователя. Код атаки 305 в таблице logs<br /></div><div class="date"><br />2011-01-13 08:28<br />
</div><div class="changed">[~]&nbsp;Информация/Верфь: Изменена индикация эффекта скорострела. Теперь высчитывается и показывается реальный скорострел (через поле 'amplify')<br /></div><div class="fixed">[%]&nbsp;Информация/Защита: Исправлена ошибка RR с неотоображением скорострела от юнитов<br /></div><div class="fixed">[%]&nbsp;Информация: Исправлена опечатка RR "Планетарный защита"<br /></div><div class="date"><br />2011-01-11 23:06<br />
</div><div class="changed">[~]&nbsp;Империя: Изменено форматирование по желанию пользователей<br /></div><div class="date"><br />2011-01-11 22:35<br />
</div><div class="fixed">[%]&nbsp;Империя: Исправлена ошибка форматирования количества прилетающих кораблей<br /></div><div class="date"><br />2011-01-11 22:24<br />
</div><div class="added">[+]&nbsp;Файл readme.txt приведен в соответствие с реальным состоянием движка<br /></div><h1>Project "SuperNova.WS" Release 24.1 (2011-01-11 22:17)</h1><div class="admin">[@]&nbsp;Обновлен дамп supernova.sql до версии 24<br /></div><div class="date"><br />2011-01-11 21:09<br />
</div><div class="fixed">[%]&nbsp;CSS: Исправлена очепятка в CSS<br /></div><div class="date"><br />2011-01-11 11:04<br />
</div><div class="changed">[~]&nbsp;Строительство: Полностью убран из игры старый строительный интерфейс<br /></div><div class="date"><br />2011-01-10 15:46<br />
</div><div class="changed">[~]&nbsp;Офицеры: Фортификатор дает теперь уменьшает время постройки защитных сооружений на 10% за уровень<br /></div><div class="changed">[~]&nbsp;Офицеры: Описания офицеров, ускоряющих постройки, изменены на более<br /><ul>
<li>корректные - вместо "-X% к скорости постройки" стало "-X% ко времени постройки"<br />
</ul>
</div><div class="date"><br />2011-01-10 15:41<br />
</div><div class="fixed">[%]&nbsp;Офицеры: Исправлена ошибка c Фортификатором: вместо того, что бы ускорять постройку защиты он её замедлял<br /></div><div class="date"><br />2011-01-10 15:19<br />
</div><div class="fixed">[%]&nbsp;Офицеры: Исправлена ошибка с нерабочими Шпионом и Координатором<br /></div><div class="date"><br />2011-01-10 04:00<br />
</div><div class="admin">[@]&nbsp;В целях защиты сервера возможность для членов команды (authlevel > 0) сбрасывать пароль через страницу "Забытого пароля" заблокирована<br /></div><div class="date"><br />2011-01-10 03:58<br />
</div><div class="changed">[~]&nbsp;Империя: Переработано форматирование названия строящегося здания, что бы таблицу сильно не распирало<br /></div><div class="date"><br /></div><h1>2011-01-10 02:39 Project "SuperNova.WS" (Release 24)</h1><div class="date"><br />2011-01-10 02:18<br />
</div><div class="added">[+]&nbsp;Добавлено отображение общего времени на постройку всех юнитов в очереди<br /></div><div class="date"><br />2011-01-09 22:30<br />
</div><div class="changed">[~]&nbsp;Офицеры: добавлена информация о бонусах офицера на страницу найма<br /></div><div class="changed">[~]&nbsp;Офицеры: добавлена информация о бонусах офицера на страницу информации<br /></div><div class="changed">[~]&nbsp;Изменен копирайт<br /></div><div class="date"><br />2011-01-09 06:23<br />
</div><div class="fixed">[%]&nbsp;Исправлена ошибка при колонизации с луны с приданным флотом или ресурсами - флот/ресурсы не появлялись на новой колонии<br /></div><div class="date"><br />2011-01-09 05:08<br />
</div><div class="fixed">[%]&nbsp;Исправлена проблема с кодировками в письмах подсистемы "Забыл пароль"<br /></div><div class="date"><br />2011-01-09 04:53<br />
</div><div class="fixed">[%]&nbsp;Исправлена ошибка в предыдущем коммите, не дающая отсылать новый пароль<br /></div><div class="date"><br />2011-01-09 04:43 "Я забыл пароль!"<br />
</div><div class="important">[!]&nbsp;Полностью переписана система восстановления забытого пароля: добавлена процедура подтверждения емейла перед сбросом пароля; добавлена процедура генерации случайного пароля.<br /></div><div class="date"><br />2011-01-09 00:46<br />
</div><div class="changed">[~]&nbsp;Название луны теперь генерируется в виде "Луна планеты <Навзание планеты>"<br /></div><div class="date"><br />2011-01-08 20:35<br />
</div><div class="admin">[@]&nbsp;БД версии 23<br /></div><div class="date"><br />2011-01-08 20:05<br />
</div><div class="fixed">[%]&nbsp;Офицеры: Исправлена ошибка неотображения портретов офицеров<br /></div><div class="date"><br />2011-01-08 19:56<br />
</div><div class="fixed">[%]&nbsp;Исправлена ошибка неотображения иконок летящих своих/враждебных флотов в списке планет на страницах Обзор Империи и Обзор планеты<br /></div><div class="date"><br />2011-01-08 19:50<br />
</div><div class="admin">[@]&nbsp;Исправлена ошибка запуска процедуры обслуживания<br /></div><div class="date"><br />2011-01-05 08:50<br />
</div><div class="fixed">[%]&nbsp;Баннеры: Исправлена ошибка, требовавашая авторизации при запросе баннера<br /></div><div class="date"><br />2011-01-03 17:53<br />
</div><div class="fixed">[%]&nbsp;Обзор планеты: Исправлена ошибка, не дающая возможность покинуть колонию<br /></div><div class="date"><br />2011-01-03 17:34 ПкВН-6.УС-3.Здания.RC3<br />
</div><div class="changed">[~]&nbsp;Обзор планеты: индикатор строительства зданий и таймер строительства в списке планет справа теперь использует новую систему очередей<br /></div><div class="changed">[~]&nbsp;Обзор Империи: индикатор строительства зданий и таймер строительства в списке планет и лун теперь использует новую систему очередей<br /></div><div class="changed">[~]&nbsp;Обзор Империи: Зеленые цифры изменения уровня зданий теперь используют новую систему очередей. Так же корректно показывается постройка/удаление зданий<br /></div><div class="date"><br />2011-01-02 01:06<br />
</div><div class="fixed">[%]&nbsp;Вселенная: Исправлена ошибка с исчезновением луны из Вселенной, внесенная последним коммитом<br /></div><div class="date"><br />2011-01-01 15:19<br />
</div><div class="fixed">[%]&nbsp;Обзор планеты: Исправлена несовместимость с PHP 5.2.2<br /></div><div class="date"><br />2011-01-01 15:04<br />
</div><div class="fixed">[%]&nbsp;Вселенная: Исправлено отображение названий с апострофами (')<br /></div><div class="date"><br />2010-12-30 14:27 ПкВН-6.УС-3.Здания.RC2<br />
</div><div class="important">[!]&nbsp;Полностью рабочая очередь построек зданий<br /></div><div class="changed">[~]&nbsp;"Обзор планеты": Временно отключены счетчики и индикаторы построек в списке планет<br /></div><div class="changed">[~]&nbsp;"Обзор Империи": Временно отключены счетчики и индикаторы построек в списке планет<br /></div><div class="date"><br />2010-12-28 15:57 ПкВН-6.УС-3.Здания.RC1<br />
</div><div class="added">[+]&nbsp;Постройки: Добавлена возможность очистки очередей<br /></div><div class="added">[+]&nbsp;Постройки: Локализованы все новые строчки<br /></div><div class="fixed">[%]&nbsp;Интерфейс/Здания: Исправлена ошибка отображения иконок "Построить" и<br /><ul>
<li>"Разрушить" на превьюшках юнитов<br />
</ul>
</div><div class="date"><br />2010-12-28 04:11<br />
</div><div class="admin">[@]&nbsp;Обновлен Sypex Dumper до версии 2.0.8 Release<br /></div><div class="date"><br />2010-12-28 03:58 ПкВН-6, УС-3 (нет, это не новый фильм Михалкова)<br />
</div><div class="changed">[~]&nbsp;Переверстан блок информации о здании на странице зданий<br /></div><div class="changed">[~]&nbsp;Теперь корректно вычисляется количество свободных секторов на планете с учетом событий в очереди зданий (постройка или уничтожение)<br /></div><div class="date"><br />2010-12-23 10:35 ПкВН-5, bugfix<br />
</div><div class="fixed">[%]&nbsp;Добавлена проверка на время строительства в процедуру обработки очереди<br /></div><div class="fixed">[%]&nbsp;Время разрушения теперь не может быть меньше 1с, а время строительства - меньше 2с <br /></div><div class="fixed">[%]&nbsp;Количество строящихся юнитов теперь не может быть меньше 1<br /></div><div class="date"><br />2010-12-05 22:41 ПкВН-4, унификация строительств<br />
</div><div class="admin">[@]&nbsp;Оптимизирован код в includes/functions/rpg_points.php<br /></div><div class="admin">[@]&nbsp;Процедуры, относящиеся к очереди строений перенесены в файл BatimentBuildPage<br /></div><div class="admin">[@]&nbsp;Переписана процедура CheckPlanetUsedFields<br /></div><div class="admin">[@]&nbsp;Начата унификация кода для строительства/покупки. Оптимизация страницы покупки зданий. Новый менеджер очередей<br /></div><div class="date"><br />2010-12-03 14:32<br />
</div><div class="changed">[~]&nbsp;Переработана страница управления планетой<br /></div><div class="admin">[@]&nbsp;Переименованы процедуры, относящиеся к начислению ТМ<br /></div><div class="date"><br />2010-12-03 12:51<br />
</div><div class="changed">[~]&nbsp;Верхняя панель: Убраны названия ресурсов - они всплывают при наведении мышкой на иконки. Это уменьшило высоту верхней панели на две строки<br /></div><div class="fixed">[%]&nbsp;Интерфейс/Строительство: Исправлено пропадание кнопки "Удалить здание" с превьюшек<br /></div><div class="admin">[@]&nbsp;Часть ссылок на ресурсы заменена на константы<br /></div><div class="admin">[@]&nbsp;Подготовка к замене eval() на процедуры - вычисления производительности шахт вынесены из строковых переменных<br /></div><div class="date"><br />2010-12-02 15:28 Подготовка к введению наемников-3<br />
</div><div class="important">[!]&nbsp;Добавлена подсистема губернаторов. Пока функционирует не полностью<br /></div><div class="changed">[~]&nbsp;Обзор планеты: Добавилось отображение текущего губернатора<br /></div><div class="changed">[~]&nbsp;Обзор планеты/Управление: Переверстана. Добавился список губернаторов<br /></div><div class="admin">[@]&nbsp;Описание юнитов теперь хранится в файле languages/*/infos.mo, а не разбросано по файлам fleet.mo и tech.mo<br /></div><div class="admin">[@]&nbsp;mrc_modify_value теперь принимает в качестве параметра и планету. Это нужно для поддержки губернаторов. Соответствующим образом изменены все вызовы функции<br /></div><div class="date"><br />2010-12-02 03:37<br />
</div><div class="fixed">[%]&nbsp;Интерфейс/Строительство: Исправлено пропадание кнопки "Удалить здание" с превьюшек при полной застройке планеты<br /></div><div class="date"><br />2010-12-01 15:57 Подготовка к введению наемников (временных офицеров)<br />
</div><div class="changed">[~]&nbsp;Офицеры переименованы в соответствии с будущими функциями<br /></div><div class="admin">[@]&nbsp;Все текущие офицеры отвязаны от цифровых идентификаторов и названий полей<br /></div><div class="admin">[@]&nbsp;Идентификаторы офицеров задаются в includes/constants.php<br /></div><div class="admin">[@]&nbsp;Поля в БД определяются по константам и задаются в файле includes/vars.php<br /></div><div class="admin">[@]&nbsp;Параметры офицеров (стоимость, величина бонуса, тип бонуса) теперь задаются в includes/vars.php, а не жестко закодированы в коде<br /></div><div class="admin">[@]&nbsp;Значения, на которые влияют офицеры (скорость производства, объем хранилища, количество флотов итд) теперь обсчитываются в отдельной процедуре mrc_modify_value.<br /></div><div class="date"><br />2010-11-06 16:07<br />
</div><div class="fixed">[%]&nbsp;Вселенная/Ракеты: Исправлена опечатка, не позволявшая атаковать ракетами отдельно выбранное здание<br /></div><div class="date"><br />2010-11-05 08:21<br />
</div><div class="admin">[@]&nbsp;Добавлена система логов попытки изменить количество ТМ за пределами специально обученной функции. Это должно устранить любую возможность манипуляции ТМ<br /></div><div class="date"><br />2010-11-05 08:13<br />
</div><div class="fixed">[%]&nbsp;Исправлена уязвимость к SQL-injection в модуле редактирования закладок<br /></div><div class="date"><br />2010-11-02 00:58<br />
</div><div class="changed">[~]&nbsp;Офицеры: Переработана страница офицеров<br /></div><div class="changed">[~]&nbsp;Офицеры: Изменены названия и описания некоторых офицеров<br /></div><div class="admin">[@]&nbsp;Изображения офицеров теперь хранятся в скинах<br /></div><div class="admin">[@]&nbsp;Страница офицеров теперь использует PTE<br /></div><div class="admin">[@]&nbsp;Теперь название и описание офицеров на странице найма берется из информационной таблицы. Это означает, что описание и название офицеров теперь будет одинаковым на странице информации и странице найма. Больше не нужно изменять описание офицеров в двух местах<br /></div><div class="date"><br />2010-10-31 12:46<br />
</div><div class="admin">[@]&nbsp;Переписан алгоритм работы автоматического обновления статистики. Теперь невозможно запустить два экземпляра обновления одновременно<br /></div><div class="date"><br />2010-10-30 22:56<br />
</div><div class="admin">[@]&nbsp;Теперь в причине отключения сервера нельзя использовать HTML - тэги HTML вырезаются при сохранении<br /></div><div class="date"><br />2010-10-30 21:57<br />
</div><div class="fixed">[%]&nbsp;Строительство/Оборона: Исправлена ошибка, когда при одновременной постановке МП и ПРО в очередь можно было построить больше ракет, чем емкость ракетной шахты<br /></div><div class="date"><br />2010-10-30 21:45<br />
</div><div class="fixed">[%]&nbsp;Альянсы: Исправлена ошибка, когда при существующей форме запроса приема в Альянс кандидату показывалась стандартная заглушка<br /></div><div class="date"><br />2010-10-30 21:36<br />
</div><div class="changed">[~]&nbsp;Торговец ресурсами: Теперь при смене типа ресурсов, на которые будет произведен обмен, все ячейки ресурсов обнуляются<br /></div><div class="date"><br />2010-10-30 21:31<br />
</div><div class="changed">[~]&nbsp;Верхняя панель: Количество ресурсов и склад теперь окрашиваются в красный цвет когда количество ресурсов больше или равно емкости склада (а не просто больше, как раньше)<br /></div><div class="date"><br />2010-10-30 21:16<br />
</div><div class="fixed">[%]&nbsp;Обзор планет: Исправлена ошибка индикации отосланных переработчиков при использовании ссылки "Переработать"<br /></div><div class="changed">[~]&nbsp;Изменен CSS для страницы входа и регистрации при использовании PDA<br /></div><div class="date"><br />2010-10-30 12:13<br />
</div><div class="admin">[@]&nbsp;Переработана админская страница компенсации планет<br /></div><div class="date"><br />2010-10-28 01:36<br />
</div><div class="changed">[~]&nbsp;Немного изменен внешний вид пользовательских настроек<br /></div><div class="date"><br />2010-10-27 18:46<br />
</div><div class="fixed">[%]&nbsp;Регистрация: Исправлена ошибка регистрации с несозданием главной планеты<br /></div><div class="date"><br />2010-10-26 15:25<br />
</div><div class="fixed">[%]&nbsp;Вселенная: Исправлен баг с неправильным отображением активности на планете<br /></div><div class="date"><br />2010-10-26 12:45<br />
</div><div class="added">[+]&nbsp;Полностью переделана страница с описанием Темной Материи<br /></div><div class="admin">[@]&nbsp;Добавлена новая переменная url_dark_matter, указывающая на УРЛ со способами внеигрового получения ТМ. Изменяется на странице настройки сервера, секция "Ссылки и баннеры". По умолчанию указывает на файл /dark_matter_get.php<br /></div><div class="admin">[@]&nbsp;Переменные forum_url и rules_url переименованны соответственно в url_forum и url_rules<br /></div><div class="date"><br />2010-10-26 11:22<br />
</div><div class="changed">[~]&nbsp;Флоты: Кнопка "Обратно" теперь не перекидывает на дополнительную страницу, а возвращает на страницу отправки флота<br /></div><div class="changed">[~]&nbsp;Переработана JS-библиотека таймеров. Теперь обратный отчет (например - в очереди построек) идет правильно даже при возврате на страницу кнопкой "Back" браузера<br /></div><div class="date"><br />2010-10-26 10:19<br />
</div><div class="changed">[~]&nbsp;Переработана JS-билиотека таймеров. Теперь простые счетчики правильно идут даже при возврате на страницу кнопкой "Back" браузера<br /></div><div class="changed">[~]&nbsp;Увеличена точность простых счетчиков. Это должно уменьшить рассинхронизацию между сервером и клиентом. Например - ресурсы будут идти точнее <br /></div><div class="changed">[~]&nbsp;Разница времени между сервером и клиентом теперь определяются AJAX-запросом<br /></div><div class="fixed">[%]&nbsp;Вселенная: Исправлена ошибка отсылки переработчиков: переработчики отправлялись на планету, а не на луну<br /></div><div class="date"><br />2010-10-26 00:42<br />
</div><div class="changed">[~]&nbsp;Сообщения: Перекрашены сообщения. Цвета заголовков теперь соответствуют цветам сообщений и, в свою очередь, синхронизированны с раскраской флотов - там, где это имеет смысл<br /></div><div class="date"><br />2010-10-25 23:24<br />
</div><div class="changed">[~]&nbsp;Строительство/Здания: В превьюшке масштабируется размер шрифта, если каких-то ресурсов с учетом прилетающих флотов остается больше 100 млрд<br /></div><div class="fixed">[%]&nbsp;Строительство/Здания: Теперь если здание разрушается в графе уровня пишется "-1", а не "+1", как раньше<br /></div><div class="changed">[~]&nbsp;Строительство/Здания: В старом интерфейсе на время строительства или уничтожения здания убирается иконка "Уничтожить здание"<br /></div><div class="date"><br />2010-10-25 22:01<br />
</div><div class="fixed">[%]&nbsp;Исправлена ошибка, дававшая в определенных условиях атаковать слабого игрока<br /></div><div class="date"><br />2010-10-25 15:11<br />
</div><div class="changed">[~]&nbsp;Нельзя становиться на удержание к слабому игроку<br /></div><div class="date"><br />2010-10-25 01:59<br />
</div><div class="fixed">[%]&nbsp;Инфо/Защита: На странице информации о защитных сооружения броня теперь показывается правильно, а не завышенная в 10 раз<br /></div><div class="date"><br />2010-10-25 00:42<br />
</div><div class="changed">[~]&nbsp;Теперь в статистике учитываются ресурсы, вложенные в строящиеся корабли и оборону<br /></div><div class="date"><br />2010-10-24 22:49<br />
</div><div class="fixed">[%]&nbsp;Инфо/Юниты: На странице информации о юнитах броня теперь показывается правильно, а не завышенная в 10 раз<br /></div><div class="date"><br />2010-10-24 22:07<br />
</div><div class="changed">[~]&nbsp;Теперь игроки в нубзоне могут атаковать друг друга. При этом так же применяется ограничение по разнице очков<br /></div><div class="changed">[~]&nbsp;Вселенная: Учитывая предыдущий пункт статус игрока может иметь одновременно маркер слабого игрока (игрок находится в нубзоне) и маркер сильного игрока (игрок сильнее текущего). Такое отображение не является ошибкой<br /></div><div class="fixed">[%]&nbsp;Вселенная: Исправлена ошибка неотображения статуса сильного игрока<br /></div><div class="fixed">[%]&nbsp;Исправлена ошибка, не дававшая атаковать ракетами планету игрока, находившуюся на грани дальности действия ракет<br /></div><div class="admin">[@]&nbsp;Несколько коротких функций перенесены из индивидуальных файлов в functions.php<br /></div><div class="date"><br />2010-10-24 19:57<br />
</div><div class="changed">[~]&nbsp;Ракетная шахта теперь требует для сторительства технологию импульсных двигателей 1го уровня<br /></div><div class="changed">[~]&nbsp;Вселенная: Ракеты теперь отправляются через JS без обновления страницы<br /></div><div class="changed">[~]&nbsp;Вселенная: Переработана легенда<br /></div><div class="admin">[@]&nbsp;Полностью переписан код проверки возможности отправки флота с определенной миссией<br /></div><div class="date"><br />2010-10-23 14:49<br />
</div><div class="fixed">[%]&nbsp;Вселенная: Опять исправлена ошибка, приводившая к дублированию статуса планеты с активной на неактивную<br /></div><div class="date"><br />2010-10-23 04:51<br />
</div><div class="fixed">[%]&nbsp;Экономика/Строительство: Исправлена ошибка отображения очень больших чисел (десятки миллиардов) на превьюшке<br /></div><div class="date"><br />2010-10-23 03:44<br />
</div><div class="admin">[@]&nbsp;Админка: Добавлена страница уничтожения планеты с компенсацией. Стоимость всех построек, защиты, флота и ресурсы с уничтожаемой планеты зачисляются на планету, указываемую администратором. Планеты должны принадлежать одному игроку<br /></div><div class="admin">[@]&nbsp;Админка: Немного доработана страница параметров сервера<br /></div><div class="date"><br />2010-10-22 14:27<br />
</div><div class="added">[+]&nbsp;Программно введен запрет на прокачку - пересылку ресурсов игрокам выше уровнем<br /></div><div class="changed">[~]&nbsp;Изменен алгоритм рассчета нубзащиты. Теперь за неё отвечают два параметра.<br /><ul>
<li>Первый - game_noob_points (по умолчанию 5000) - указывает, какое количество очков должен набрать игрок, что бы выйти из зоны абсолютной нуб-защиты. В этой зоне игрока не может атаковать никто.<br />
<li>Второй - game_noob_factor (по умолчанию 5) - указывает во сколько раз должны отличатся очки игрока, что бы для противника он был нубом. Т.е. игрок с 10000 очков будет нубом для игроков от 50000 очков.<br />
</ul>
</div><div class="changed">[~]&nbsp;Из кода убрано понятие "сильный игрок" - нуб может атаковать кого угодно. Обозначение во Вселенной сильных игроков осталось, но ограничение на атаку снято<br /></div><div class="fixed">[%]&nbsp;Исправлена ошибка, позволяющая атаковать ракетами нубов<br /></div><div class="fixed">[%]&nbsp;Исправлена ошибка, позволяющая атаковать ракетами отпусников<br /></div><div class="date"><br />2010-10-22 12:48<br />
</div><div class="fixed">[%]&nbsp;Статистика: Не считались ресурсы в летящих флотах. Исправлено<br /></div><div class="date"><br />2010-10-22 09:41<br />
</div><div class="fixed">[%]&nbsp;Вселенная: Исправлена недоработка, вызывающее предупреждение PHP на пустой системе<br /></div><div class="date"><br />2010-10-22 09:34<br />
</div><div class="fixed">[%]&nbsp;Обзор планеты: Исправлена ошибка, позволяющая оптравлять переработчиков на орбиту даже если уже нет свободных слотов для флотов<br /></div><div class="date"><br />2010-10-22 05:49<br />
</div><div class="added">[+]&nbsp;Вселенная: в попапе на поле обломков показывается сколько еще нужно переработчиков, что бы переработать обломки (с учетом уже летящих) и сколько всего их нужно, что бы переработать поле<br /></div><div class="changed">[~]&nbsp;Вселенная: теперь через попап на обломках отсылается не полное количество переработчиков, необходимых для переработки поля, а разница между уже летящими переработчиками и общим количеством (естественно, с учетом количества переработчиков на планете)<br /></div><div class="date"><br />2010-10-22 03:24<br />
</div><div class="changed">[~]&nbsp;Изменена стоимость солнечных спутников, что бы соответствовать бэкграунду<br /></div><div class="date"><br />2010-10-22 03:10 А не посчитать ли нам, многоуважаемые Кроты?<br />
</div><div class="added">[+]&nbsp;Добавлена статистика по ресурсам<br /></div><div class="changed">[~]&nbsp;Исправлена ошибка, не позволявшая переключать параметры статистики при просмотре со страницы логина или регистрации<br /></div><div class="date"><br />2010-10-21 17:24 Компенсируй ЭТО!<br />
</div><div class="added">[+]&nbsp;Добавлена админская страничка, позволяющая уничтожить планету игрока и компенсировать ему стоимость построек, обороны и флота<br /></div><div class="date"><br />2010-10-21 17:05<br />
</div><div class="changed">[~]&nbsp;Изменен алгоритм генерации координат для домашней планеты новых игроков<br /></div><div class="date"><br />2010-10-21 14:19 Работай языком<br />
</div><div class="changed">[~]&nbsp;Все локализации из admin/*.mo перенесены в файл admin.mo<br /></div><div class="changed">[~]&nbsp;Перетасованы локализации между файлами admin.mo, system.mo и overview.mo<br /></div><div class="date"><br />2010-10-20 22:59<br />
</div><div class="fixed">[%]&nbsp;Вселенная: Исправлен баг с дублированием активности чужих планет на планету пользователя<br /></div><div class="date"><br />2010-10-20 22:19<br />
</div><div class="changed">[~]&nbsp;Страницы статистики, списка банов, списка контаков сервера, списка настроек доступны для просмотра находящимся в отпуске или забаненных<br /></div><div class="fixed">[%]&nbsp;Исправлена неправильная работа страниц статистики, списка банов, списка контаков сервера, списка настроек для залогиненных пользователей<br /></div><div class="date"><br />2010-10-20 21:55<br />
</div><div class="important">[!]&nbsp;Полностью переписан код страниц логина и регистрации<br /></div><div class="important">[!]&nbsp;Полностью переписана система авторизации<br /></div><div class="date"><br />2010-10-20 14:59<br />
</div><div class="fixed">[%]&nbsp;Вселенная: Исправлена ошибка с показом попапа планеты вместо попапа луны<br /></div><div class="date"><br />2010-10-19 19:22<br />
</div><div class="fixed">[%]&nbsp;Регистрация: Исправлена ошибка c невозможностью зарегестрироваться<br /></div><div class="fixed">[%]&nbsp;Регистрация/Логин: Исправлена ошибка с невозможностью посмотреть страницы "Статистика", "О сервере", "Администрация" и "Список забаненных"<br /></div><div class="changed">[~]&nbsp;Теперь если у пользователя неправильные куки, они чистятся и пользователь может зайти в игру еще раз<br /></div><div class="date"><br />2010-10-19 18:34<br />
</div><div class="fixed">[%]&nbsp;Обзор Империи: Исправлена ошибка с пропажей количества прибывающих кораблей<br /></div><div class="date"><br />2010-10-19 16:18<br />
</div><div class="fixed">[%]&nbsp;Император: Исправлена ошибка неотображения ссылки на подробные новости<br /></div><div class="date"><br />2010-10-19 04:56<br />
</div><div class="admin">[@]&nbsp;Сообщения: Из файла messages.php HTML-код, относящийся к показу сообщений, вынесен в файл messages.tpl. Остаток кода сильно переработан<br /></div><div class="date"><br />2010-10-19 00:56<br />
</div><div class="fixed">[%]&nbsp;Экономика/Верфь: Исправлена ошибка, позволяющая при наличии выше в очереди медленно строящегося юнита использовать его время постройки для создания более быстрого юнита путем добавления последнего в очередь. Например, эта ошибка использовалась для быстрой постройки множества ракет<br /></div><div class="admin">[@]&nbsp;Полностью переписана процедура HandleElementBuildingQueue и переименована в eco_bld_handle_que. Соответственно переименован и файл<br /></div><div class="date"><br />2010-10-19 00:11<br />
</div><div class="changed">[~]&nbsp;Экономика: Изменены характеристики Рудника: цена увеличена на треть для соответствие возросшей добычи (см. 2010-09-28 21:10); потребление энергии немного снижено<br /></div><div class="changed">[~]&nbsp;Экономика: Уровень всех существующих Рудников выше 5-го уровня уменьшен на единицу для соответствия увеличенной стоимости строения<br /></div><div class="fixed">[%]&nbsp;Исправлена дурацкая ошибка в автоапдейтере. Теперь корректно работает система защиты от параллельного запуска нескольких копий апдейтера<br /></div><div class="admin">[@]&nbsp;Версия БД увеличина до 20<br /></div><div class="date"><br />2010-10-18 20:21<br />
</div><div class="added">[+]&nbsp;Вселенная: Теперь индикатор входящего своего флота и попап с перечнем кораблей отображается и на луне<br /></div><div class="fixed">[%]&nbsp;Вселенная: Исправлена ошибка отображения планетарного флота на луне<br /></div><div class="date"><br />2010-10-18 09:12<br />
</div><div class="changed">[~]&nbsp;Обзор планеты: Теперь на иконке своего флота на картинке планеты появляется попап с составом флота, прибывающего на планету<br /></div><div class="changed">[~]&nbsp;Империя: Теперь на иконке своего флота на картинке планеты появляется попап с составом флота, прибывающего на планету<br /></div><div class="date"><br />2010-10-18 05:21<br />
</div><div class="changed">[~]&nbsp;Вселенная: Теперь иконка и состав флотов показывается и на чужих планетах<br /></div><div class="date"><br />2010-10-18 04:37<br />
</div><div class="changed">[~]&nbsp;Вселенная: на иконках своих планет отображается индикатор прилетающих флотов. В попапе приводятся подробные сведения о сумарном составе прибывающих кораблей и ресурсов у них на борту<br /></div><div class="date"><br />2010-10-18 01:28<br />
</div><div class="changed">[~]&nbsp;Вселенная: на иконке обломков отображается количество переработчиков пользователя, летящих на эти обломки<br /></div><div class="date"><br />2010-10-17 19:55<br />
</div><div class="admin">[@]&nbsp;Убран каталог /scripts. Для поддержки старых ссылок на баннер используйте средства веб-сервера (см. install.txt)<br /></div><div class="date"><br />2010-10-17 18:36<br />
</div><div class="changed">[~]&nbsp;init.inc переименован в init.php<br /></div><div class="fixed">[%]&nbsp;Исправил работу старой ссылки на баннер /scripts/createbanner.php<br /></div><div class="date"><br />2010-10-17 02:44<br />
</div><div class="fixed">[%]&nbsp;Кажется, исправлена ошибка с очень редким неначислением ресурсов<br /></div><div class="date"><br />2010-10-17 01:48<br />
</div><div class="admin">[@]&nbsp;Каталоги /fonts, /css, /images и /templates перемещены из корня в каталог /desing<br /></div><div class="date"><br />2010-10-16 18:35<br />
</div><div class="fixed">[%]&nbsp;Исправлен неправильный формат времени - 12 часовый вместо 24<br /></div><div class="changed">[~]&nbsp;Заменены везде даты и время константами<br /></div><div class="date"><br />2010-10-16 15:05<br />
</div><div class="fixed">[%]&nbsp;Исправлен баг, позволявший отправлять флоты со шпионами в экспедиции<br /></div><div class="date"><br />2010-10-16 13:09<br />
</div><div class="fixed">[%]&nbsp;Исправлен баг с расположением окна чата в ИЕ<br /></div><div class="date"><br />2010-10-16 06:42<br />
</div><div class="admin">[@]&nbsp;Автоапдейтер использует БД для хранения информации о последнем апдейте. Ему теперь не нужен доступ на запись к файловой системе<br /></div><div class="fixed">[%]&nbsp;Исправлен баг в процедуре вычисления IP-адреса пользователя<br /></div><div class="date"><br />2010-10-16 05:37<br />
</div><div class="changed">[~]&nbsp;Теперь при входе на страницу строительства зданий со страницы обзора Империи правильно отображается количество ресурсов на планете<br /></div><div class="date"><br />2010-10-15 21:03<br />
</div><div class="admin">[@]&nbsp;Левое меню: Теперь не нужно писать в коде рекламного баннера дополнительный код для вставки в таблицу - баннер центрируется в темплейте<br /></div><div class="admin">[@]&nbsp;Админка: Переработана страница настроек сервера<br /></div><div class="admin">[@]&nbsp;Вызов автоапдейтера БД опять перенесен из common.php в init.inc и исполняется раньше - предыдущая схема давала сбой, если апдейтились таблицы пользователей<br /></div><div class="admin">[@]&nbsp;Изменены процедуры в автоапдейтере - проверка условий выполнения отдельных операций внесены в сами функции операций<br /></div><div class="admin">[@]&nbsp;Изменена процедура определения IP-адреса пользователя. Теперь движок так же пытается определить цепочку прокси-серверов. Данные о прокси теперь вносятся в таблицу пользователей и таблицу счетчика посещений<br /></div><div class="admin">[@]&nbsp;Функция sys_logHit переименована в sys_log_hit<br /></div><div class="admin">[@]&nbsp;Добавлена возможность отключить встроенный счетчик посещений. Переменная game_counter в таблице `config`<br /></div><div class="admin">[@]&nbsp;Убраны лишние подкаталоги sgo, install, oparators из /templates/OpenGame<br /></div><div class="admin">[@]&nbsp;Переменная game_date_withTime заменена двумя: int_format_date и int_format_time. В игре им соответствуют константы FMT_DATE и FMT_TIME. Константа DATE_TIME переименована в FMT_DATE_TIME и является конкатенацией через пробел двух вышеприведенных констант<br /></div><div class="date"><br />2010-10-15 04:02<br />
</div><div class="changed">[~]&nbsp;Симулятор: Симулятор опять при пустых технологиях атакующего подставляет значения технологий текущего пользователя<br /></div><div class="date"><br />2010-10-15 03:47<br />
</div><div class="changed">[~]&nbsp;Вселенная: На обломках показывается также общее количество ресурсов<br /></div><div class="date"><br />2010-10-15 03:02<br />
</div><div class="changed">[~]&nbsp;Флот/Страница0: Добавлено цветовое кодирование в список флотов.<br /></div><div class="changed">[~]&nbsp;Флот/Страница0: Теперь можно кликать на координатах планет в списке флотов - откроется Вселенная в указанной галактике и системе<br /></div><div class="date"><br />2010-10-15 01:56<br />
</div><div class="changed">[~]&nbsp;Флот/Страница0: Клик на названии корабля перебросит на подробное описание<br /></div><div class="date"><br />2010-10-15 01:12<br />
</div><div class="admin">[@]&nbsp;Новости: Добавлена дополнительная строка, в которую можно вбить URL с подробностями новости. URL добавится в конце новости в виде гиперссылки со слова "Подробнее..."<br /></div><div class="date"><br />2010-10-15 00:06<br />
</div><div class="changed">[~]&nbsp;Обзор Планеты: В графике полета флотов изменено цветовое кодирование для своих флотов<br /></div><div class="date"><br />2010-10-14 19:32<br />
</div><div class="changed">[~]&nbsp;Изменена картинка для линейного крейсера на более подходящую по гамме<br /></div><div class="admin">[@]&nbsp;Страницы логина и регистрации теперь подгружают свой собственный CSS, а не используют global.css для хранения стилей<br /></div><div class="admin">[@]&nbsp;Почищены лишние стили в CSS-файлов встроенных скинов<br /></div><div class="date"><br />2010-10-14 16:32<br />
</div><div class="changed">[~]&nbsp;Строительство/Здания: Количество ресурсов в табличке ресурсов в описании юнита теперь выравниваются по правой стороне<br /></div><div class="date"><br />2010-10-14 02:20<br />
</div><div class="changed">[~]&nbsp;Добавлены сведения о копирайте на все страницы (через overal_footer.tpl)<br /></div><div class="admin">[@]&nbsp;Перераспределены функции в файлах /includes/unlocalized.php, /includes/functions.php, /includes/functions/sys_template.php между файлами /includes/functions.php и /includes/template.php<br /></div><div class="date"><br />2010-10-14 02:20<br />
</div><div class="admin">[@]&nbsp;В CheckInputStrings deprecated функция eregi_replace заменена на preg_replace. Соответствующим образом изменено значение $ListCensure в /includes/constants.php<br /></div><div class="admin">[@]&nbsp;Функции CheckInputStrings, PrintPlanetCoords, sys_logHit перенесены из индивидуальных файлов в /includes/functions.php<br /></div><div class="date"><br />2010-10-14 01:57<br />
</div><div class="changed">[~]&nbsp;Строительство/Здания: Изменен цвет рамки превьюшки юнита<br /></div><div class="admin">[@]&nbsp;Строительство/Здания: Для рамки выделения превьюшки теперь используются стили из CSS. Добавлены цвета для встроенных стилей. См., например, /skins/EpicBlue/formatte.css, стиль ".unit_preview"<br /></div><div class="date"><br />2010-10-14 00:40<br />
</div><div class="admin">[@]&nbsp;Содержимое файла /db/mysql.php перенесено в /includes/db.php - все равно в текущем виде SQL-код непортабелен и сильно привязан к MySQL. Каталог /db вместе с содержимым уничтожен<br /></div><div class="date"><br />2010-10-14 00:30<br />
</div><div class="changed">[~]&nbsp;Флоты: Немного изменен попап с описанием флотов. Добавлено общее количество ресурсов, которое везет флот<br /></div><div class="changed">[~]&nbsp;Небольшое редактирование описания зданий и их названий<br /></div><div class="date"><br />2010-10-13 20:52 Работа над ошибками<br />
</div><div class="admin">[@]&nbsp;Добавлена дополнительную информацию в запись об ошибке: лог запросов, $_GET, $_POST<br /></div><div class="admin">[@]&nbsp;Улучшено отображение ошибок на странице ошибок<br /></div><div class="admin">[@]&nbsp;Теперь игрокам показывается ID ошибки в БД, а не её порядковый номер. Это должно ускорить поиск нужной записи об ошибке<br /></div><div class="admin">[@]&nbsp;Deprecated процедура mysql_escape_string() заменена везде на mysql_real_escape_string<br /></div><div class="date"><br />2010-10-13 20:08<br />
</div><div class="admin">[@]&nbsp;Исправленв ошибка отображения ошибки на странице ошибок администратора<br /></div><div class="date"><br />2010-10-13 10:21<br />
</div><div class="changed">[~]&nbsp;Немного изменен порядок зданий на странице постройки. Теперь все здания сгруппированы по типам: первая линейка - добывающие, вторая линейка - производящие, третья линейка - склады. На луне и/или при не всех доступных для постройки зданиях порядок пока может меняться<br /></div><div class="date"><br />2010-10-13 09:39<br />
</div><div class="admin">[@]&nbsp;Добавлены новые переменные game_default_language, game_default_skin, game_default_template. Подробнее см. includes/classes/cache.php . Их можно изменить на странице настройки сервера<br /></div><div class="admin">[@]&nbsp;Отформатирован update.php в PCG1<br /></div><div class="date"><br />2010-10-13 07:59<br />
</div><div class="admin">[@]&nbsp;Небольшие изменения для подготовки ко включению профилирования SQL-запросов<br /></div><div class="date"><br />2010-10-13 04:50<br />
</div><div class="changed">[~]&nbsp;Строительство/Здания: Переверстан блок информации о здании. Новая верстка более статична. Кроме того, устранена проблема из старой верстки: слишком широкая таблица требуемых ресурсов (например, когда количество какого-то ресурса превышала сотню миллионов) сбивала описание<br /></div><div class="admin">[@]&nbsp;Строительство/Здания: Переписаны функции вывода блока информации о здании. Теперь генерируется не вся информация о здании, а заполняются отдельные поля. Это дает возможность легко изменять верстку этого блока<br /></div><div class="date"><br />2010-10-13 02:19<br />
</div><div class="changed">[~]&nbsp;Симулятор: добавлены кнопки "0" и "макс" для автозаполнения поля значением флота с текущей планеты/технологии текущего игрока. Так же добавлены кнопки массового заполнения всех полей соответствующего типа<br /></div><div class="changed">[~]&nbsp;Симулятор: Теперь нормально работает табуляция: кнопки "0" и "макс" исключены из очереди табуляции, а поля со значениями проходятся в более логичном порядке - сначала все поля атакующего, затем - все поля оброняющегося<br /></div><div class="date"><br />2010-10-13 00:44<br />
</div><div class="admin">[@]&nbsp;Сммулятор: почти полностью переписан. Нетронутым остался только код генерации отчета<br /></div><div class="admin">[@]&nbsp;Симулятор: simulator.tpl теперь использует возможности PTE<br /></div><div class="admin">[@]&nbsp;Симулятор: Новая система генерации REPLAY-линка<br /></div><div class="date"><br />2010-10-11 16:25<br />
</div><div class="fixed">[%]&nbsp;Дополнительные изменения, что бы не допустить одновременного старта нескольких обсчетов статистик<br /></div><div class="fixed">[%]&nbsp;Дополнительные изменения, что бы не допустить одновременного старта нескольких апгрейдов базы данных<br /></div><div class="date"><br />2010-10-11 16:12<br />
</div><div class="changed">[~]&nbsp;Немного переписал chat.js и включил автообновление чата<br /></div><div class="date"><br />2010-10-11 14:57<br />
</div><div class="added">[+]&nbsp;Империя: Добавлено количество строящихся юнитов - выделены зеленым цветом<br /></div><div class="date"><br />2010-10-11 13:36<br />
</div><div class="added">[+]&nbsp;Империя: Добавлено количество прилетающих кораблей - выделены желтым цветом<br /></div><div class="fixed">[%]&nbsp;Изменен шедуллер, что бы минимизировать вероятность двойного обсчета статистики<br /></div><div class="date"><br />2010-10-10 10:10<br />
</div><div class="added">[+]&nbsp;В шпионские отчеты добавлена ссылка на симуляцию боя с указанными параметрами. После тестирования фича будет ВРЕМЕННО добавлена на игровые сервера. После введения системы Наемников она будет доступна только при определенном активном Наемнике<br /></div><div class="added">[+]&nbsp;В левое меню в раздел "Информация" добавилась ссылка "Мировые константы", ведущая на страницу с перечнем настроек Вселенной<br /></div><div class="changed">[~]&nbsp;Максимальное количество колоний у игрока по умолчанию увеличено до 9<br /></div><div class="changed">[~]&nbsp;Доработан новый интерфейс строительства зданий<br /></div><div class="changed">[~]&nbsp;Добавлено время строительства к превьюшке на новой странице строительства зданий<br /></div><div class="changed">[~]&nbsp;Баланс ресурсов на превьюшке теперь показывается с учетом ресурсах в прибывающих собственных флотах<br /></div><div class="admin">[@]&nbsp;На админскую страницу настройки сервера добавлена возможность изменять следующие параметры: режим игры (Сверхновая или оГейм); количество галактик во Вселенной, систем в галактике, планет в системе; максимальное количество КОЛОНИЙ (см. ниже); курсы обмена металла, кристалла, дейтрия и ТМ; ссылка на страницу с правилами.<br /></div><div class="admin">[@]&nbsp;Переменная player_max_planets изменена на player_max_colonies и теперь это максимальное количество колоний у игрока (НЕ СЧИТАЯ главную планету)<br /></div><div class="admin">[@]&nbsp;Переменные game_speed и fleet_speed теперь кратны единице (а не 2500, как раньше). Можно вводить дробную скорость. Например скорость флота 0.5 (с точкой!) означает уменьшение скорости флота в два раза. Соответствующим образом изменены все формулы<br /></div><div class="admin">[@]&nbsp;Две новые процедуры get_game_speed() и get_fleet_speed() - для корректного получения скорости игры и флота соответственно<br /></div><div class="admin">[@]&nbsp;В скрипте sn_timer теперь используются объекты, а не массивы. Подробности см. в файле js/sn_timers.js . Соответствующим образом везде изменен код, использующий таймеры<br /></div><div class="admin">[@]&nbsp;Версия БД увеличена до 17. Подробности см. в файле includes/update.php<br /></div><div class="admin">[@]&nbsp;Исправлена ошибка, приводящая к исчезновению пунктов меню "Обслуживание" и "Резервное копирование"<br /></div><div class="date"><br />2010-10-08 17:06<br />
</div><div class="changed">[~]&nbsp;Текущая дата-время и количество игроков онлайн перекочевали со страницы обзора планеты в верхнюю панель<br /></div><div class="changed">[~]&nbsp;Новости с "Обзора планеты" перенесены на страницу "Император"<br /></div><div class="changed">[~]&nbsp;Немного переработан "Обзор планеты"<br /></div><div class="changed">[~]&nbsp;Теперь если есть непрочитанная новость, в левом меню возле пункта "Новости" появляется статус "Обновленно"<br /></div><div class="date"><br />2010-10-08 12:34<br />
</div><div class="changed">[~]&nbsp;Немного изменен алгоритм расчета восстановления защитных сооружений при атаке. Теперь при количестве сооружений одного типа меньше 10, шанс восстановления кидается для КАЖДОГО сооружения этого типа отдельно. Для особых тугодумов - теперь МОЖНО уничтожить защитные купола и ПЗ. Это НЕ является изменением, а лишь исправление ошибки, когда невозможно было уничтожить атаками всю защиту до конца<br /></div><div class="changed">[~]&nbsp;Немного изменен новый экран постройки зданий<br /></div><div class="date"><br />2010-10-04 01:43<br />
</div><div class="important">[!]&nbsp;Добавлена новая страница "Император" в левое меню. На нее вынесена вся статистика игрока со страницы "Обзор планеты"<br /></div><div class="date"><br />2010-10-03 23:27<br />
</div><div class="changed">[~]&nbsp;На странице "Обзор Империи" количество ресурсов теперь показывается актуальное. Раньше нужно было зайти на планету для того, что бы информация о ней обновилась<br /></div><div class="date"><br />2010-10-03 22:08<br />
</div><div class="added">[+]&nbsp;Чёрный Рынок: добавились слайдеры на страницы продажи и покупки кораблей<br /></div><div class="changed">[~]&nbsp;"Биржа ресурсов" из левого меню переехала в "Чёрный Рынок"<br /></div><div class="changed">[~]&nbsp;Переработана структура левого меню<br /></div><div class="date"><br />2010-10-01 23:16<br />
</div><div class="added">[+]&nbsp;В настройки пользователя временно добавлена возможность включить старый интерфейс строительства зданий - галочка "Старый интерфейс строительства зданий" в разделе "Совместимость - старые интерфейсов", меню "Настроки"<br /></div><div class="date"><br />2010-10-01 20:26<br />
</div><div class="important">[!]&nbsp;Изменен интерфейс строительства. Из-за хакерской атаки пришлось накатывать полусырую спешно доделанную заготовку. Интерфейс будет дорабатываться<br /></div><div class="date"><br />2010-09-29 12:30<br />
</div><div class="changed">[~]&nbsp;Изменил картинку на экранах Логин и Регистрация. Теперь она подходит даже для широкоформатных мониторов.<br /></div><div class="changed">[~]&nbsp;Добавил картинку на режим отпуска<br /></div><div class="date"><br />2010-09-28 21:10<br />
</div><div class="changed">[~]&nbsp;Изменены характеристики Шахты Металлов. Для соответствия внутренним обменным рейтингам (4-2-1) её скорость производства увеличена на треть. Соответствующим образом увеличено её энергопотребление<br /></div><div class="date"><br />2010-09-28 07:54<br />
</div><div class="changed">[~]&nbsp;На картинки планет тултип на иконках исследований теперь показывает время, оставшееся до конца исследования на момент обновления страницы<br /></div><div class="date"><br />2010-09-28 01:08<br />
</div><div class="added">[+]&nbsp;МИС теперь работает корректно. Присоединяется количество лабораторий, эквивалентное уровню МИТ+1. Лаборатории присоединяются в порядке убывания уровня и только те, которые могут в одиночку исследовать данную технологию.<br /></div><div class="fixed">[%]&nbsp;Исправлен баг в МИС, когда лаборатория с более низким уровнем на планете с меньшим ИД блокировала присоединение лаборатории с более высоким уровнем <br /></div><div class="fixed">[%]&nbsp;Исправлен баг в МИС, дававший возможность участвовать в исследованиях лабораториям слишком низкоуровневым для исследований данной технологии в одиночку<br /></div><div class="fixed">[%]&nbsp;Исправлен баг в МИС, когда игнорировался уровень МИТ и присоединялись все лаборатории на всех планетах. Хотя бы один игрок об этом сказал за год!<br /></div><div class="date"><br />2010-09-26 04:00<br />
</div><div class="changed">[~]&nbsp;В отчете Симулятора в самом низу теперь два линка, которыми можно поделится. Один сразу же запустить симуляцию с аналогичными параметрами, а второй позволяет сначала отредактировать параметры.<br /></div><div class="date"><br />2010-09-25 23:46<br />
</div><div class="changed">[~]&nbsp;Переделан внешний вид страницы логина<br /></div><div class="changed">[~]&nbsp;Переделан внешний вид страницы регистрации. Так же добавлена ссылка на правила<br /></div><div class="date"><br />2010-09-25 02:53<br />
</div><div class="important">[!]&nbsp;Начато заполнение будующей энциклопедии Сверхновой. Добавлены: таймлайн, история мира, описание джамп-технологии, описание кристаллов<br /></div><div class="changed">[~]&nbsp;Изменения в коде для дальнейшего облегчения модификаций. Подготовка к разделению движка на СН и ОГ<br /></div><h1>Project "SuperNova.WS" Release 17 (2010-09-23 14:01)</h1><div class="important">[!]&nbsp;"Сверхновая" стала публичным проектом! Загрузить исходный код можно из репозитория<br /><ul>
<li>git://github.com/supernova-ws/SuperNova.git<br />
<li>Disclaimer aka Отмазка: Внимание! Проект находится в стадии альфа-версии! В настоящее время он не предназначен для production-использования! Код предоставляется "as-is". Вы используете его на свой страх и риск! Автор не несет ответственности за материальный, моральный, кармический, душевный и любой другой ущерб, причиненный вам от использования, неиспользования, самим фактом существования этого кода или любым другим способом.<br />
<li>Код распространяется под лицензией GNU GENERAL PUBLIC LICENSE Version 2, June 1991. Сама лицензия находится в файле docs/license.txt дистрибутива.<br />
</ul>
</div><div class="added">[+]&nbsp;Добавлен новый корабль "Супертранспорт". Его описание, характеристики и требования для постройки можно посмотреть в игре<br /></div><div class="changed">[~]&nbsp;Размер иконки "Уничтожить" на странице строительства зданий уменьшен с 25% до 15% от оригинального изображения<br /></div><div class="changed">[~]&nbsp;Множество мелких багфиксов, оптимизаций и исправлений<br /></div><div class="date"><br />2010-09-14 09:17<br />
</div><div class="fixed">[%]&nbsp;Исправлено исчезновение некоторых надписей на странице "Обзор Империи"<br /></div><div class="date"><br />2010-09-13 20:01<br />
</div><div class="changed">[~]&nbsp;Добавлена иконка предупреждения о летящем вражеском флоте на картинку планеты на странице "Обзор Империи"<br /></div><div class="changed">[~]&nbsp;Добавлена название строющегося здания на странице "Обзор Империи"<br /></div><div class="changed">[~]&nbsp;На картинке планеты на страницах "Обзор Империи" и "Обзор Планеты" добавлена иконка, сигнализирующая о летящем собственном флоте. Щелчок мышью на иконке переведет на страницу "Флот" соответствующей планеты<br /></div><div class="changed">[~]&nbsp;Если есть летящие свои флоты на текущую планету, на странице постройки зданий под описанием здания появляется строка "С учетом летящих флотов:". В ней содержатся те же расчеты, что и в строке "Останется ресурсов", но (СЮРПРИЗ!!!) с учетом ресурсов на летящих собственных флотах<br /></div><div class="date"><br />2010-09-13 12:08<br />
</div><div class="changed">[~]&nbsp;На страницах "Обзор планеты" и "Обзор империи" подложил под иконки строительства фон с 75% прозрачности - это улучшает видимость иконок на картинках очень светлых планет<br /></div><div class="date"><br />2010-09-13 11:55<br />
</div><div class="changed">[~]&nbsp;На странице выбора кораблей (ссылка "Флоты") в "Текущие параметры флота" добавлено общее количество ресурсов на планете<br /></div><div class="date"><br />2010-09-13 08:28<br />
</div><div class="changed">[~]&nbsp;По многочисленным просьбам игроков добавлено время прибытия и возвращения на страницу выбора цели полета при отправке флота<br /></div><div class="date"><br />2010-09-12 13:06<br />
</div><div class="changed">[~]&nbsp;По многочисленным просьбам игроков добавлены кнопки "-" и "+" к метаэлементу ввода числовых значений<br /></div><div class="date"><br />2010-09-12 12:07<br />
</div><div class="fixed">[%]&nbsp;Исправлена ошибка, когда счетчик сообщений увеличивался лишний раз на 1 при достижении переработчиками поля обломков.<br /></div><div class="date"><br />2010-09-10 23:25<br />
</div><div class="changed">[~]&nbsp;Теперь на страницах "Обзор планеты" и "Империя" над всеми иконками строительства всплывает тултип с текущим объектом строительства<br /></div><div class="changed">[~]&nbsp;На странице "Империя" под изображением планеты добавился таймер текущего строящегося здания (если таковое есть)<br /></div><div class="changed">[~]&nbsp;Теперь на страницах "Обзор планеты" и "Империя" можно кликать на иконки строительства. Клик перебросит на соотвутствующую страницу строительства на указанной планете<br /></div><div class="date"><br />2010-09-10 22:48<br />
</div><div class="fixed">[%]&nbsp;Исправлены ошибки отображения скорости флота на при отправке флота (страница выбора кораблей и страница выбора цели)<br /></div><div class="date"><br />2010-09-10 21:31<br />
</div><div class="added">[+]&nbsp;Флоты: При выборе количества кораблей во флоте и выборе загрузки ресурсов в трюме дополнительные элменты "0", "-", "+" и "макс" заменены слайдерами<br /></div><div class="added">[+]&nbsp;Флоты: На странице выбора количества кораблей теперь доступна предварительная информация об отправляемом флоте: скорость, грузоподъемность, расход, время полета в один конец, дальность. Последние три цифры актуальны при переходе на страницу флота через меню "Вселенная" - будут показаны точные данные для выбранных кораблей. В случае перехода на страницу через пункт меню "Флот" эти три цифры будут показаны для перелета на ту же самую планету<br /></div><div class="changed">[~]&nbsp;Флоты: Существенно почищен код яваскриптов. Скрипты флотов оптимизированы, а сам файл значительно "похудел"<br /></div><div class="changed">[~]&nbsp;Флоты: Так же некоторые оптимизации в темплейтах и PHP-коде отправки флотов<br /></div><div class="changed">[~]&nbsp;На странице "Империя" на изображениях планеты теперь показываются иконки строительств и заполненности планеты. Иконка атаки пока НЕ показывается<br /></div><div class="changed">[~]&nbsp;Некоторое количество небольших чисток кода<br /></div><div class="date"><br />2010-09-07 22:19<br />
</div><div class="important">[!]&nbsp;Полностью переделан модуль отправки флотов. Уменьшено количество передаваемых данных между страницами и активно используется JavaScript. Добавлены дополнительные кнопки к выбору количества кораблей и загрузке трюма. Переделан алгоритм определения доступных миссий<br /></div><div class="important">[!]&nbsp;Изменен алгоритм генерации событий флота на странице "Обзор". Теперь корректно отображаются флоты, прибывающие/отлетающие в одно и то же время - нельзя замаскировать флот в САБе.<br /></div><div class="important">[!]&nbsp;Начата миграция с wz_tooltip (overlib) на jQuery_ui. Это улучшит кросс-браузерную совместимость - в частности, всплывающие окошки будут корректно позиционироваться во всех браузерах. В настоящий момент на новую библиотеку переведена страница "Обзор" и страница "Флот"<br /></div><div class="changed">[~]&nbsp;Теперь флот, в котором есть хоть один шпион, можно на вражескую планету только с заданием "Шпионаж"<br /></div><div class="fixed">[%]&nbsp;Исправил отображение количества игроков онлайн при большом количестве игороков на сервере<br /></div><div class="fixed">[%]&nbsp;Исправлен баг с невозможностью отправки переработчиков на поле обломков через меню "Флот"<br /></div><div class="fixed">[%]&nbsp;Исправлен баг, дающий возможность отправлять шпионов в атаку или в САБ<br /></div><div class="date"><br />2010-09-07 04:11<br />
</div><div class="fixed">[%]&nbsp;Пофиксил дурацкий баг в sn_timer.js, который приводил к "порче" правильного запомненного времени в случае, когда на странице было несколько часов реального времени (например - на странице "Обзор планет" на самой странице и в верхнем меню).<br /></div><div class="date"><br />2010-09-07 03:45<br />
</div><div class="fixed">[%]&nbsp;Исправлен глюк с неотображением в некоторых случаях загрузки хранилищ на странице "Ресурсы"<br /></div><div class="date"><br />2010-09-07 02:14<br />
</div><div class="changed">[~]&nbsp;Обзор планеты: Переделан внешний вид индикатора застройки<br /></div><div class="changed">[~]&nbsp;Обзор планеты: Иконка атаки на изображениях луны и планеты теперь click-through. Это означает, что при выборе планеты/луны можно спокойно кликать на иконку атаки, а не выцеливать место для клика, как раньше<br /></div><div class="changed">[~]&nbsp;Обзор планеты: Строка с названием планеты и ссылкой на переименование/уничтожение планеты переехала под График движения флотов (сразу над расписанием строительств)<br /></div><div class="changed">[~]&nbsp;Обзор планеты: Объединил вместе строки "Время" и "Игроки on-line", а так же вынес её поверх уведомлений о новых сообщениях и получении ТМ<br /></div><div class="fixed">[%]&nbsp;Обзор планеты: Исправил баг с индикатором застройки на изображении луны. Раньше показывался индикатор планеты, а не луны<br /></div><div class="date"><br />2010-09-07 00:04<br />
</div><div class="changed">[~]&nbsp;По многочисленным просьбам игроков, таки добавил колонку "Откуда" в График движения флотов на странице "Обзор планеты"<br /></div><div class="date"><br />2010-09-06 23:05<br />
</div><div class="fixed">[%]&nbsp;Пофиксил отображение процента загруженности хранилищ на странице "Ресурсы". Если процент загрузки был 0% это отображалось как "%".<br /></div><div class="date"><br />2010-09-06 12:25<br />
</div><div class="added">[+]&nbsp;Переделан список флотов в полете. Теперь они представляются в виде таблицы и имеют два раздела: флоты, летящие на текущую планету и флоты, летящие на другие планеты, а так же ракетные атаки. Кратенький FAQ:<br /><ul>
<li>Q: Почему когда я отправил флот с фун-ей Транспорт, то возврат пишется вверху?<br />
<li>A: График флотов разделен на события для текущей планеты и для всех остальных. Т.е. что бы когда твою планету атакуют, ты бы не путался в десятках событий от двадцати флотов, а переключился на планету и видел сразу - когда твои флоты прибывают, когда вражеские итд.<br />
<li>Q: Странно отображаются мои ракетные атаки...<br />
<li>A: Ракетная атака в графике движения указывает планету назначения. При этом если выбрать планету, с которой её отправили, ракетная атака перекочует в верхний список.<br />
</ul>
</div><div class="changed">[~]&nbsp;Переделал верхнюю панель - избавился от встроенного кода в темплейте, перевел счетчик ресурсов на sn_timer.js<br /></div><div class="changed">[~]&nbsp;Перевел календарь на странице Обзор планеты на sn_timer.js. Полностью избавился от файла timer.js<br /></div><div class="fixed">[%]&nbsp;Пофиксил логику вычисления производства (ресурсы в час). Оно, правда, кроме отображения ни на что не влияло, зато теперь правильно тикают ресурсы в навбаре и правильно показывает производство на странице "Империя"<br /></div><div class="date"><br />2010-09-03 23:21<br />
</div><div class="changed">[~]&nbsp;Добавлен большой восклицательный знак на изображение планеты, на которую идет вражеская атака<br /></div><div class="date"><br />2010-09-03 16:13<br />
</div><div class="changed">[~]&nbsp;Добавлен индикатор застройки на изображениях планеты/луны. Легенда, такая же, как и в Обзоре планет: красный - планета застроена полностью; желтый - на 80%; зеленый - меньше 80%<br /></div><div class="changed">[~]&nbsp;Изображение луны теперь накладывается в правый верхний угол соответствующей планеты<br /></div><div class="date"><br />2010-09-03 08:22<br />
</div><div class="changed">[~]&nbsp;Миссия флота на странице Обзора выделяется белым цветом<br /></div><div class="date"><br />2010-09-02 01:50<br />
</div><div class="changed">[~]&nbsp;В попапах с описанием флота добавлен разделитель тысяч<br /></div><div class="changed">[~]&nbsp;Миссия флота на странице Обзора выделяется италиком<br /></div><div class="fixed">[%]&nbsp;Поправлен баг с раскраской атакующего флота на странице Обзора планет. Теперь он выделяется как полгается по скину<br /></div><div class="date"><br />2010-08-30 15:18<br />
</div><div class="fixed">[%]&nbsp;Исправлен баг, не позволяющий перейти на ссылку во вселенной при нажатии на координаты планеты в Графике полета флотов<br /></div><div class="fixed">[%]&nbsp;Исправлен баг с отображением события "Возвращение флота" для миссий "Колонизировать" и "Передислокация". Теперь оно отображается только если игрок сам вернул флот с задания<br /></div><div class="date"><br />2010-08-13 23:33<br />
</div><div class="changed">[~]&nbsp;Добавлен большой восклицательный знак на изображение луны, на которую идет вражеская атака (включая миссию "Уничтожить")<br /></div><div class="changed">[~]&nbsp;Империя: Убрал со страницы "технологии" - их можно посмотреть в соответствующем меню и нет смысла добавлять кучу строк в таблицу Империи с дублирующейся информацией<br /></div><div class="changed">[~]&nbsp;Империя: Используется цветовое кодирование для полей. Застроенные планеты отмечаются красным в соответствующей ячейке строки "Поля"<br /></div><div class="changed">[~]&nbsp;Империя: Используется цветовое кодирование для энергии. Планеты с отрицательным балансом энергии отмечаются красным в соответствующей ячейке строки "Энергия"<br /></div><div class="changed">[~]&nbsp;Империя: Используется цветовое кодирование для ресурсов. Планеты с заполненными складами отмечаются красным в соответствующей ячейке ресурса<br /></div><div class="changed">[~]&nbsp;Империя: Теперь список полей на странице учитывает Терраформеры - раньше не учитывал<br /></div><div class="fixed">[%]&nbsp;Должен быть исправлен глюк с многократным повторением обоих меню<br /></div><div class="fixed">[%]&nbsp;Исправлен один из глюков с зависанием флотов в САБе<br /></div><div class="date"><br />2010-08-07 15:27<br />
</div><div class="fixed">[%]&nbsp;Исправил баг с временем возврата из экспедиции<br /></div><div class="date"><br />2010-08-06 09:56<br />
</div><div class="fixed">[%]&nbsp;Исправил баг с временем возврата с удержания<br /></div><div class="date"><br />2010-08-06 08:46<br />
</div><div class="fixed">[%]&nbsp;Исправил баг с многократным обсчетом САБа<br /></div><div class="fixed">[%]&nbsp;Исправил баг, не позволявший снести здание, если ресурсов на снос хватало, но не хватало на постройку следующего уровня<br /></div><div class="changed">[~]&nbsp;Теперь новые новости отмечаются тегом "НОВАЯ". Новость считается новой, если ей меньше трех дней<br /></div><div class="date"><br />2010-08-04 17:03<br />
</div><div class="changed">[~]&nbsp;Теперь на странице флота при наведении на количество единиц в списке флотов в полете показывается в красивом виде не только летящий флот, но и ресурсы на борту<br /></div><div class="changed">[~]&nbsp;Теперь на странице обзора на изображении планет добавлены иконки гаечного ключа, реторты и космического корабля соответственно для строящихся зданий, исследований и кораблей/обороны<br /></div><div class="added">[+]&nbsp;Включено кэширование темплейтов. Там, где используется новая система темплейтов, должна увеличиться скорость генерации страниц<br /></div><div class="date"><br />2010-08-01 16:19<br />
</div><div class="changed">[~]&nbsp;Оптимизированный менеджер флотов. Количество запросов при обновлении флотов уменьшено на 20%. Это уменьшило загрузку сервера<br /></div><div class="added">[+]&nbsp;Включена система реферралов. Теперь за каждые 10 ТМ, заработанные приведенным вами игроком, вы получите 1 ТМ. Подробнее - по ссылке "!!!ЗАРАБОТАЙ ТМ!!!" в левом меню на каждом из серверов<br /></div><div class="changed">[~]&nbsp;Пачка мелких исправлений и оптимизаций<br /></div><div class="date"><br />2010-07-30 07:41<br />
</div><div class="fixed">[%]&nbsp;Исправил ошибку в именовании новых планет - бралось имя не владельца планеты, а того, в чей ход запускалась обработка флота<br /></div><div class="changed">[~]&nbsp;Добавил часы локального времени в топ-бар под дропдауном переключения планет<br /></div><div class="date"><br />2010-07-30 00:13<br />
</div><div class="changed">[~]&nbsp;Теперь можно посылать один колонизатор с ресурсами без флота - ресурсы будут корректно выгружены на новосозданную колонию<br /></div><div class="changed">[~]&nbsp;Тепрь новое название планеты не такое безличное - оно включает имя пользователя и номер колонии по счету. Это облегчает навигацию между колониями<br /></div><div class="date"><br />2010-07-29 20:38<br />
</div><div class="added">[+]&nbsp;Все таймеры на стороне клиента теперь корректируют свои показания в соответствии с сервером. Это означает, что: а) Дата и время показывается в пересчете для локальной машны и б) Таймеры синхронизированы с сервером с точностью до нескольких секунд (ошибка возможно при большем времени отправки-получения запроса плюс время реакции сервера)<br /></div><div class="changed">[~]&nbsp;Переработана страница флотов: переставлены колонки таблицы в более логичном порядке, добавлен таймер для времени прибытия в пункт назначения (а не только таймер возвращения в пункт отправления), в пункты отправления/назначения добавлены указатели на тип цели (планета, луна, поле обломков) и еще кое-какие мелочи<br /></div><div class="date"><br />2010-07-25 17:36<br />
</div><div class="changed">[~]&nbsp;Пофиксен баг с отправкой многострочных сообщений членам Альянса. Теперь сообщения приходят в корректном виде<br /></div><div class="changed">[~]&nbsp;Пофиксен глюк интерфейса, когда при сохранении настроек пользователя вместо отчета об удачном сохранении выдавало пустую плашку<br /></div><div class="changed">[~]&nbsp;Пофиксен баг в JS на второй странице флота. Суть бага - если через интерфейс "Вселенной" выбрать задание "Транспорт" или "Передислокация", на второй странице флота не будет виден трюм, до тех пор, пока не перещелкнешь по миссиям<br /></div><div class="changed">[~]&nbsp;Пофиксен баг с вычислением скорости у малых транспортников при переходе на импульсный двигатель и у бомберов при переходе на гипердвигатель<br /></div><div class="admin">[@]&nbsp;Системное: Процедура отсылки сообщений теперь может работать с несколькими адресатами. Это уменьшает количество запросов к БД при массовой рассылке ровно в N-раз, где N - количество членов рассылки. В частности, это сильно ускоряет рассылку всем членам Альянса.<br /></div><div class="date"><br />2010-07-17 21:10<br />
</div><div class="fixed">[%]&nbsp;Установлен багфикс, устраняющий проблему с образованием поля осколков на недавно созданных планетах.<br /></div><div class="date"><br />2010-07-16 02:32<br />
</div><div class="fixed">[%]&nbsp;Установлен патч, устраняющий проблему с необразованием поля обломков.<br /></div><div class="date"><br />2010-07-14 02:43<br />
</div><div class="changed">[~]&nbsp;Изменен алгоритм отправки флотов. Теперь для некоторых миссий ресурсы в трюмы флота в принципе незагружаемы. Список таких миссий: атака, САБ, Удержание, Шпионаж, Уничтожение, Переработка, Исследование. Для всех их нет никакого смысла загружать ресурсы в трюмы.<br /></div><div class="fixed">[%]&nbsp;Добавлена цветовая кодировка флотов на странице "Обзор" для скина EpicBlue.<br /></div><div class="fixed">[%]&nbsp;Исправлена ошибка отправки сообщений новому игроку с одной планетой.<br /></div><div class="fixed">[%]&nbsp;Исправлены некорректные ссылки на страницу офицеров при получении новых ТМ.<br /></div><div class="fixed">[%]&nbsp;Исправлена ошибка Чёрного Рынка с продавцом Б/У кораблей.<br /></div><div class="date"><br />2010-07-12 13:20<br />
</div><div class="important">[!]&nbsp;Обзор планеты: Для таймеров используется написанная с нуля JS-библиотека.<br /></div><div class="changed">[~]&nbsp;Обзор планеты: Очередь построек флота убрана - теперь показывает только текущую постройку на верфи<br /></div><div class="changed">[~]&nbsp;Обзор планеты: ОБновление очереди построек флота сделана без обновления страницы<br /></div><div class="changed">[~]&nbsp;Обзор планеты: Список планет вынесен справа от основного блока информации. Все планеты, луны кликабельны. Для планет со строительством показывается текущий уровень постройки и оставшееся время. На планеты распространяются настройки сортировки на странице настроек игрока.<br /></div><div class="changed">[~]&nbsp;Обзор планеты: Множество мелких исправлений и ускорений на странице<br /></div><div class="date"><br />2010-07-03 14:50<br />
</div><div class="fixed">[%]&nbsp;Куча открытых окон неиспользуемого чата сильно грузит сервер. Уже несколько раз куча окон доводила сервера до состояния 500 Imternal Error, когда не грузились другие страницы. Поэтому введен таймаут неактивности 15 минут, по истечении которого чат отключается.<br /></div><div class="date"><br />2010-06-29 20:00<br />
</div><div class="important">[!]&nbsp;Полностью с нуля написан "Чёрный Рынок". Код вылизан, интерфейс сделан максимально удобным (по моим понятиям). В Торговце ресурсами добавлена возможность обмена ТМ на ресурсы (обратный обмен - невозможен). Торговец флотом полностью переработан и позволяет теперь в одну транзакцию продавать сразу несколько типов кораблей.<br /></div><div class="added">[+]&nbsp;Серьезно переработана "Вселенная" (бывш. "Галактика"). Несмотря на то, что вид "Вселенной" практически не изменился, была проделана грандиозная работа: переработано с десяток файлов. Темплейты выкушены из кода и перенесены в отдельный файл. Поп-апы (инфо о планете, луну, альянсе, обломках, пользователе) вынесены в отдельные JS-процедуры, что в отдельных случаях позволило уменьшить финальный размер страницы в два-три раза, а количество запросов к БД снизить от двух до десяти (!) раз - особенно в системе, густо заселенной одним игроком. Специально под переработку "Вселенной" в движок была добавлена система темплейтов из phpBB3. В целом новая "Вселенная" существенно меньше грузит сервер и должна работать на клиенте гораздо быстрее.<br /></div><div class="date"><br />2010-05-25 15:52<br />
</div><div class="added">[+]&nbsp;Запущена Партнерская программа<br /></div><div class="date"><br />2010-04-26 01:24<br />
</div><div class="changed">[~]&nbsp;Теперь Инженер улучшает проивзодство энергии на всех генерирующих мощностях (включая спутники и солнечные электростанции)<br /></div><div class="changed">[~]&nbsp;Во времени постройки теперь учитывается дейтрий. Соответственно, время постройки всех юнитов, использующих дейтрий, возросло<br /></div><div class="date"><br />2010-03-03 16:58<br />
</div><div class="changed">[~]&nbsp;Луна. Максимальный шанс луны уменьшен до 30%. Стоимость лун - 1% на каждый 1кк ресурсов до капа в 30%. Таким образом, максимальный размер луны составит 8999 км.<br /></div><div class="fixed">[%]&nbsp;Фикс, устраняющий проблемы с начислением ресурсов и дюпы ракет/шпионов<br /></div><div class="date"><br />2009-10-12 23:20<br />
</div><div class="changed">[~]&nbsp;Луна: Изменена формула расчета размера луны<br /><ul>
<li>$SizeMin = 1000 + ( $Chance * 100 );<br />
<li>$SizeMax = 2999 + ( $Chance * 200 );<br />
<li>Т.е. от 1000 км до 9999 км.<br />
</ul>
</div><div class="date"><br />2009-10-12 22:32<br />
</div><div class="changed">[~]&nbsp;Теперь для постройки Звезды Смерти требуется 1 уровень Разрушителя. Без Разрушителя Звезда Смерти не строится. При Разрушителе строится одна Звезда Смерти.<br /></div><div class="date"><br />2009-07-05 14:28<br />
</div><div class="fixed">[%]&nbsp;Найдена ошибка отображения в игре - вместо уровня ресерча щитов отображался уровень ресерча брони и наоборот. Поэтому не удивляйтесь, если они поменялись местами.<br /></div><h1>Project "SuperNova.WS" Initial Revision</h1><div class="important">[!]&nbsp;Движок Сверхновой базируется на XNova RageRepack v.226<br /></div><div class="important">[!]&nbsp;Боевка: альтернативная версия боевого движка - рабочие САБы; новая система расчета боя; унифицированный код между обсчетом боя, уничтожением луны и симулятором; частичный возврат ресурсов от обороны; оптимизированый код итд.<br /></div><div class="important">[!]&nbsp;Симулятор боя: почти полностью переписан<br /></div><div class="important">[!]&nbsp;Ракетная атака: полностью переписан скрипт<br /></div><div class="important">[!]&nbsp;Ролевая система: Полностью переписана система начисления опыта и ТМ<br /></div><div class="important">[!]&nbsp;Новости: Полноценный модуль новостей<br /></div><div class="important">[!]&nbsp;Google AdSense (слева внизу под меню, плашка 125х125)<br /></div><div class="important">[!]&nbsp;Безопасность: закрыты все обнаруженные дыры в безопасности (SQL-injection через параметры страницы) на страницах, доступных пользователям.<br /></div><div class="important">[!]&nbsp;Альянсы: Полностью переписан модуль управления Альянсами.<br /></div><div class="important">[!]&nbsp;Друзья: Полностью переписан модуль "Друзей"<br /></div><div class="important">[!]&nbsp;Админка/Статистика: Полностью переписан модуль обновления статистики.<br /></div><div class="important">[!]&nbsp;Темплейты: Добавлен движок рендеринга темплейтов от phpBB3. Движок доработан до обратной совместимости с темплейтами XNova <br /></div><div class="important">[!]&nbsp;Чёрный Рынок: Полностью переписан Чёрный Рынок<br /></div><div class="important">[!]&nbsp;Баннеры: Переработана система генерации баннеров/юзербаров. Унифицированы процедуры их генерации, слиты в один файл процедур и один файл-враппер, вынесены PHP-файлы из каталога scripts в соответствующие места<br /></div><div class="important">[!]&nbsp;Вселенная (бывш. "Галактика") - почти полностью переписана<br /></div><div class="important">[!]&nbsp;Интерфейс/Обзор: Переработана страница "Обзор планеты"<br /></div><div class="important">[!]&nbsp;Движок: Поддержка xCache<br /></div><div class="added">[+]&nbsp;Админка/Баннерилка: Полностью переписан код<br /></div><div class="added">[+]&nbsp;Админка/ТМ: с нуля написана страница добавления/удаления ТМ<br /></div><div class="added">[+]&nbsp;Админка/Ошибки: переработан список ошибок<br /></div><div class="added">[+]&nbsp;Почта: Оптимизированы запросы к БД. Добавлены индексы к таблице messages. Добавлена возможность просмотра отправленных сообщений (только тех, которые не удалил адресат)<br /></div><div class="changed">[~]&nbsp;Движок: Корректное отображение количества пользователей<br /></div><div class="changed">[~]&nbsp;Движок: Убрано множество неиспользуемых файлов<br /></div><div class="changed">[~]&nbsp;Движок: Написана с нуля библиотека таймеров js/sn_timer.js. Формат и примеры использования - см. в файле библиотеки<br /></div><div class="changed">[~]&nbsp;Другие изменения в движке<br /></div><div class="changed">[~]&nbsp;Интерфейс/Альянсы: Теперь по клику на координатах участника альянса работает переход в его систему <br /></div><div class="changed">[~]&nbsp;Интерфейс/Верфи: На странице видны боевые данные кораблей и обороны (броня/щиты/оружие)<br /></div><div class="changed">[~]&nbsp;Интерфейс/Меню: добавлен пункт меню "Закладки"<br /></div><div class="changed">[~]&nbsp;Интерфейс/Ресурсы: оптимизирована страница; убрана ненужная строка заполненности хранилищ (их всегда видно в верхней строке статуса); добавлена возможность изменить производство сразу для всех заводов<br /></div><div class="fixed">[%]&nbsp;Движок: Исправлен глюк, не отображавший несколько летящих на планету флотов, если их время прибытия было одинаковое. В частности, это позволяло скрывать все флоты САБа, кроме последнего<br /></div><div class="fixed">[%]&nbsp;Множество мелких багфиксов и исправлений<br /></div>