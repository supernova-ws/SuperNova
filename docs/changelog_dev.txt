Stay out of my shed

Обозначения
===========
[!] Нововведение или важное изменение/New features or important change
[+] Добавлено/New functions
[-] Убрано/Removed
[~] Изменено/Changed functions
[%] Исправление - багфикс/Bugfixes
[@] Эта информация будет интересна только админам и/или разработчикам/This information is only for administrators and/or developers
[#] Модуль, не входящий в публичную версию
[*] ToDo - см. todo.txt & todo.xls


todo.actual.txt
===============

[*] Покупка ММ - 15% бонус. Округлять вверх до тысяч

[*] Закладки
    Отдельные иконки на "Заметки", "Закладки" и "Полётные задания"
        - Так же отдельные вкладки "Все" + см. выше

[*] Модули
        - Поле autoinit - для автоматической инициализации модуля
            - Для упрощения работы суб-модулей - которые будут иницилизироваться самими модулями
                - Например - Highspot и HighspotAction инициализируются в Festival, который грузится в core_festival


$supernova->design -> classSupernova::$design;

payment_currency_exchange_mm_ -> get_mm_cost();

payment_currency_exchange_ - проверить на MM

ВООБЩЕ ИЗБАВИТЬСЯ ОТ $config! Все данные должны вытаскиваться соответствующими функциями!

getElementById - убрать

[*] icon-info - просмотреть, поменять icon-info-1

[*] Планета/Управление
    - Вице-губернатор
    - Трансфер губернатора
    - Сделать "управление" и "возврат" ссылками

[*] Строительство
    - Отфлекбоксить блок информации о юните на странице построек и переделать на шаблоны

[*] В Опере12 длинные страницы при скролле до конца вниз норовят вспрыгнуть вверх - проверить почему

Экспы - в зависимости от левела давать летать дальше. В зависимости от дальности - увеличивать риск и награду


Хайспоты - межсерверные хайспоты

!!!!!!!!! Поменять назад константы во флаинг_флит_хандлер

В списке игроков печатать ИМЯ АККАУНТА - для начисления ММ



Changelog
=========

units_used - хранить в NULL ячейке

МАСШТАБИРОВАНИЕ ИВЕНТОВ ОТ СРЕДНЕСУТОЧНОГО ОНЛАЙНА!

Фиксировать вид картинки между рефрешами - т.е. записывать имя картинки

ФИЛЬТР "УДАЧЛИВЫХ" игроков

НЕ ВЫДАВАТЬ КАРТИНКУ, ЕСЛИ РАЗМЕР ЭКРАНА - МЕНЬШЕ МИНИМУМА!


core_festival->mvc_proxy вызывается дважды для ('view', '') - посмотреть, в чём там дело


onhover или онклик - посмотреть полную картинку

В 6 раз больше
1782*6 = 10692


МАСШТАБИРОВАНИЕ ПРИЗА НА ПАЗЗЛ ОТ КОЛИЧЕСТВА ЁЛОЧЕК!

Осада - удержание наоборот. Враждебный флот ставится на орбиту и мешает приходящим-уходящим флотам

На плашке "Наука" показывать процент обязательных исследований
    - Строить дерево один раз после ресета и запоминать куда-нибудь

fleet_array
{{fleets }}
{{iraks}}
tpl_parse_fleet_db - унифицировать окружающий код при вызове


db_normalize_id - REMOVE!

Флоты в полёте - фильтр по планете прибытия/отправления


classSupernova::db_get_record_list - внести обратно в функции, не использовать напрямую!

Изолировать aks
fleet_aks_invite (page4) - выставить список игроков-друзей и соаловцев


Проверить систему работы проверки версии сервера


Преобразование чисел с нулями через intval/floatval - если число начинается с 0 или 0х - оно будет преобразовано как восьмеричное/шестнадцетиричное
Особенно неприятно это в яваскрипте - проверить


При отправке флота добавить сортировку по расходу и ёмкости трюма

Перевод ресов между планетами - 0.8% от суммы перевода в ТМ. Типа - вебмани, кошельки WMD, WMC, WMM

ФлитПейдж0 - сделать общую информацию о флоте флексбоксом



[22.01.2016 23:50:12] 	Сингулярность[БАС]>	Еще надо добавить цветовое кодирование по скорости корабля - и вообще будет зашибись
[22.01.2016 23:50:27] 	Сингулярность[БАС]>	Вот сейчас всем удобнее - но вот я теряюсь, когда пытался подобрать корбали в экспу по скорости
[22.01.2016 23:50:39] 	Иван[Феникс]>	(Сингулярность[БАС]) разрабу не понравилось творение. ..... хотя мож привыкнем
[22.01.2016 23:51:24] 	Сингулярность[БАС]>	Где я сказал, что "не понравилось"?
[22.01.2016 23:52:00] 	Сингулярность[БАС]>	По большему количеству критериев новый интерфейс - удобнее. Единственный минус - теряется видение скорости кораблей и подбора по скорости во флот
[22.01.2016 23:53:01] 	Сингулярность[БАС]>	В принципе - понятно, что сделать. Заменить надписи иконками и прописать цветовое кодирование для скорости. И сразу попустит


PTE тест - Доделать
    - Блоки
    - Условные структруры


BONUS_ABILITY - deprecated ???

На новых наградах 8 марта-2016 не отображается надписи

инфа для размышления. добавить страницу заказа модулей в админку публичной версии игры



init.php@241 // TODO - костыль, что бы работали старые модули. Убрать!


Альтернативный next для туториала - если не установлен модуль (?)
Позволять писать премодеренные новости игрокам (за карму? за ТМ?)


Апдейтер - полностью сбрасывать кэш после обновления
userOptions - get() должен возвращать значение по умолчанию если нет значения в БД

doquery()
    - убрать параметр table и посортировать по типам вызова
    - переписать на DbQuery

AccessorsV2
    - добавить возможность мерджить пачку аццессоров - как массивом так и из другого AccessorsV2

Заменить
    - htmlentities($text, ENT_COMPAT, 'UTF-8');
    - Заменить nl2br хелпером ?

Мигрировать опции
    $options = sys_user_options_pack($user);

Убрать classSupernova::$db_prefix и classConfig::db_prefix и сделать protected db::db_prefix

Обучение
    + Продолжение туториала - добавление нового текста после окончания
        + Проверить добавление новой записи
        + Новая запись не должна открывать следующий текст
    + Ресет - сбрасывать финишед
    + Локализация кнопок и надписей - доделать в JS
    + Парсинг bbCode
    Окно
        + Хранить настройки интерфейса - окно, позиция - в куках
        + Не меняется хеадер
        + Окно перекрывается результатами голосования в голосовалке (?!) - проблемы с z-index?
        - Закрывается по Esc - отключить
        - Менять размер окна ????
    + Код
        + public function htmlize($result, $jsSafe = false) { -> перенести в Text\TextEntity/Text\TextModel
    + Сделать перетаскивание на мобилках
    - Сделать мигание глазами у советника
    - Загнать настройки туториала в JS объект
    - Базовое обучение
    - Сделать кнопку "Закрыть" рабочей как-то по-другому


display()
    - Поубирать параметры из процедуры - использовать темплейтовые переменные



- проверить начисление статуса "бессмертный"
    - Статус Бессмертного у тебя есть - просто звезды нету

Добавить в релиз
  case ADM_TOOL_FORCE_ALL:
    classSupernova::$config->db_saveItem('db_version', 37);


jQueryUI https://jqueryui.com/download/#!version=1.12.1&components=111111111111101011011101010010110000000000000000
http://jqueryui.com/download/#!version=1.11.4&components=1111101011010111010110000000000000000&zThemeParams=5d00000100e105000000000000003d8888d844329a8dfe02723de3e5701db9777083d4196cdf2e05cb978ae1580fa707593b54f9fa4872d22569ccccc82e2c2cdd85acf9679c8ad3251f01fea6685b5f8aea5ad2ddab3da975e5144ce275b688fe0a64167e7a2d21024b7f1f458ff6a48bf95e55fdc5bd887a91e8cbb37e0660da11fd2094ccae6bc54c98e52d552c92378136f82c5ba2a6e53fe9fce674ba617ff41e5ec8e32578838b23fc8cb8222c7ec8b787c68d9fe33c907d0e639559740a1265d5bd42493bc8730c59825b1166b5bd0c9a2e37fdd3049cedb6e4cede8edc70921014560433bd45d7a5b752579d27044cb984d5c17d5a3b444194304032b03e854284f39ccecc06daa5a2b4478ff730484ae0454a7d3d6bc5624ecc4f9a1234d98c89f346052e06c3f8d59ff0286613c38d746f5477fb2d120006d250174991366691d2cf8b8c1fba17b31c12339d492eaa7c948687edf4436abf9644fc98fdb0c811d60a50af0a1cd0561044a51198ab80e144d7f19fb5fc81fb6d332d001f08c78ec16a45d6e36cedbf096b742ef7f6d4c02c7009044519998202183a8fb57608dc92b7e71857163dbd5498fdd44f6e


Компиляция веб-ресурсов на сервере
    - Компилировать все зарегестрированные CSS в один файл
    - Комплировать все зарегестрированные js в один файл

Настройки
    - Разобраться, почему не работают ссылки второго уровня
    - Разобраться, почему не выделяются табы


Навбар
    + Свернуть очереди - унифицировать и вынести их в отдельный файл


Ресурс-бар
    + Переделать
        + Flex
    + Тесты
        + Вертикальный
        + Горизонтальный
        + В Альянсе
        + Адаптивный дизайн
    + Попап
        + Разделители тысяч
    + Заменить буквы-маркеры на картинки
    + Раскидать стили и JS-код по файлам из темплейта
    + Возможно, разбить на две части - МК-ДЭ, что бы красивее врапалось на маленьких экранах
    + Сделать опцию включения нового навбара в Настройках
    ? Прогрессбар заполнения
        - Отдельный таймер изменения заполнения
    Попап:
        - Отдельный для энергии
        - Цветовое кодирование заполнения - зел-жел-оранж-крас
        ? Добавить летящие флоты
    ? Перенести опции настройки в куки
    - Проверить как работает на мобилках
    + Добавить склады
        ? Иконка склада


Обучение
    - добавить выделение цветом в текст - ссылки, кнопки итд

Экстратеха
    - См.

Убрать из списка кораблей те, что нельзя строить по расовым ограничениям


? Заменить ainput на спиннеры

- Сделать страницу подобора цветов под тему
    - Включить её для игроков - сохранять в настройках


Постройки
    - Инфа о производстве - сжираются пустые колонки - там где 0


Обслуживание
    - Удалять кумулятивы (32) с нулевыми данными
    - Удалять кумулятивы удалённых игроков
        - Сделать FOREIGN KEY

Архивация аккаунтов


Навбар
    ? может добавить флекса и при вертикальном ресурсбаре?

Подтверждение автоконвертации
    - Переделать попап под стандартный конфирейшн диалог


Поставить что-нибудь с реквайр лаб-левел 1, что бы игроки сразу могли че-то исследовать

[*] prettyNumberStyledDefault() - избавиться и перенести формат на сторону темплейта
[*] HelperString::numberFloorAndFormat() - избавиться и перенести формат на сторону темплейта


JS/CSS
    - В постройках - вынести загрузку JS-файла в PHP
    - Сделать автоматическое определение наличие min-файлов
    $sn_mvc['javascript']
    $sn_mvc['css']


#test {
  z-index: 0;
  color: red
}

.class_test {
  color: white;
  width: 40%;
  position: absolute;
  right: 0;
  border: 1px solid red;
  background-color: rgba(0,255,0,0.5);

  z-index: -1;
}

$(document).ready(
function() {
  $('#test').append("<span class='class_test'>Q</span>");
}
);

autoexpanded textarea
http://codepen.io/vsync/pen/frudD


- Таки унифицировать опции
      - $options = sys_user_options_unpack($user);



- Обзор планеты
    - сделать уникальные глобальные счётчики по классам - одновременно обновлять данные в нескольких элементах, а не по ИД


- Плохо нажимается кнопко постройки в Опере

- ИЕ11
    Не работает адаптивный навбар от слова "совсем"

- Проверить работу модуля menu_customize с новой вёрсткой

- Переделать управление альянсом на табы

дубликаты assign_recursive - поубирать

- Больше тестов богу тестов!
    - Проверить работу _inherit в скинах

История чата - добавить нормальную паджинацию

MENU => GLOBAL_DISPLAY_MENU
NAVBAR => GLOBAL_DISPLAY_NAVBAR
Работа PAGE_TITLE и PAGE_HEADER

- Вертикальный навбар
    - Переключение темплейтов
        - Фоллбэки, если темплейта нет
        - Инхеритед-темлпейты
            - Фоллбэки, если нет файла темплейта
        - Опция в Настройках
            - Добавить в таблицу user поле для имени темплейта
    - В таблице user - переименовать dpath
        - Сделать хранение только имени скина, а не пути к скину

- Автоматический выбор ближайшей фаланги

- За ТМ - сохрнение результатов скана фаланги и показ их в попапе

Упростить вот это вот всё
  public function getImageCurrent($image_tag, $template = null) {
    return $this->getImageFrom($this->activeSkin->getName(), $image_tag, $template);
  }

  public function getImageFrom($skinName, $image_tag, $template) {
    return $this->getSkin($skinName)->imageFromStringTag($image_tag, $template);
  }
        $skin = $this->model->getSkin($params[self::PARAM_SKIN]);
        $image_string = $skin->imageFromStringTag($ptlTag->resolved, $ptlTag->template);

Убрать
        navbar_v
        Упростить вёрстку


Император
    - сделать выбор и настройку выводить статистику за Х дней
        - Для себя
        - Для других
    - Вертикальная статистика


Tools::fillPercentStyle
    - сделать аналог для JS
    - сделать аналог для TPL
    - Позаменять везде самопал на этот код

Global message! aka notifications

Техи:
    - Общая технология Супертеха (бустер?)
        - Позволяет добавить к одной выбранной технологии количество левелов супертехи
    - Рассовая абилка Экстратеха
        - Как экстратеха - только к разным?
    - Артефакт на +к технологии
        - Временный ?
        - Патч?

pretty_number
   - Растащить на функции, а то слишком много в одном месте

Инфу по ТЭ - в новапедию

[01.03.2017 16:28:30] 	AyaaN[SPIRIT]>	Блин
[01.03.2017 16:28:39] 	AyaaN[SPIRIT]>	Впервые строю термо
[01.03.2017 16:29:00] 	AyaaN[SPIRIT]>	Потому что СолЭс работают в минус
[01.03.2017 16:29:14] 	AyaaN[SPIRIT]>	15 лвл
[01.03.2017 16:29:33] 	AyaaN[SPIRIT]>	СолЭс а энергии наоборот -374
[01.03.2017 16:29:52] 	Сингулярность[БАС]>	(AyaaN[SPIRIT])Забавно
[01.03.2017 16:30:01] 	Сингулярность[БАС]>	В принципе - так и должно быть, но вижу какое-то кидалово
[01.03.2017 16:30:04] 	Сингулярность[БАС]>	Какая планета?


Позаменять global:
    - $debug
    - $lang
    - $config
    - $user (!)


Расшить работу с чейнджсетами
    static::db_changeset_apply();





Use DbQuery:
    public static function db_ins_record($location_type, $set) {
    public static function db_del_record_by_id($location_type, $safe_record_id)
    public static function db_del_record_list($location_type, $condition)


Quest
    - quest_conditions - в отдельную таблицу
    - мультикондишн
    - Фильтр квестов

События

function doquery($query, $table = '', $fetch = false, $skip_query_check = false) {
    => doqueryNew - без $table


Туториал - свернуть/развернуть

Найти аналогичные куски и оформить отдельным кодом
  foreach ($lang['qst_status_list'] as $statusId => $statusName) {
    $template->assign_block_vars('status', array(
      'ID' => $statusId,
      'NAME' => $statusName,
    ));
  }


Альянсы:
    - История названий и тэгов Альянса а-ля история имён

JS:
    - parseInt => parseInt(x, 10)
        - Или вообще - Math.intVal


Платежи
    - Кнопка "очистить незавершенные старше 2 месяцев"
    - Показывать платежи по дефолту только за последние 2 месяца
        - Кнопка "Показать все платежи"
    - При клике на иконку платежа - делать письмо по шаблону
    - Уменьшить точность суммы до двух цифр
    - Добавить форматирование количества ММ и сумм


+ Сделать интерфейс для подарков на 8е марта
    + Кавалер
        - JS-код, если не хватает ММ
        + Место в конкурсе
        - Галочка disclosure:
            - По умолчанию - не пишется имя дарившего
            - Если стоит галочка - имя пишется
    + Дама
        + Список входящих подарков
        - Королева Весны
    - Оно
        - Ссылка на "Настройки", профиль
    - Письмо о подарке
        - Сумма и кто подарил, если стоит disclosure
    - Выдача ПЗ сразу по факту подарка
    - Обсчёт и выдача результатов конкурса

Рекорды:
    - Рекордсменам давать какие-нибудь бонусы

Настройки:
    - Ужать темплейт - переделать на блоки
    - Убрать старый опции, которые хранятся в таблице `users`

Ранняя загрузка
    - Для включения - выставить $sn_mvc['pages'][<имя страницы>][PAGE_OPTION_EARLY_HEADER] в true;
        - Сделать возможность быть каллабле - анализировать строки запросов и отключать там, где нинада
            - Например, где оно может быть редиректом или вывод другого header
            - Такие случаи конечны и легко просчитываются
    - $sn_mvc['pages'][<имя страницы>][PAGE_OPTION_TITLE]
        - Поддержка $lang в содержимом
            - Грузить языки заранее - тоже через $sn_mvc
        - Тайтл можно менять после вывода страницы через JS!


Предупреждение при возврате флота на удалённую планету (!)
    - Подтверждение удаление планеты на которую летит / возвращается СВОЙ флот


Сделать в игре рекламу ФИЧ ИГРЫ!

На странице квестов написать, что награды начисляются автоматически.

Отключать донаторам рекламу

Запихнут иконки меню в один файл
Сделать настройки отображения displaymenu итд свойствами страниц - тогда можно будет выводить раньше хидер

В мобильном виде
    - вместо ввода чисел (ainput в частности) делать по тапу/клику попап, в котором отдельные элементы ввода - типа спин-бокса или даже тот же аинпут

Опция:
    - Обновление страницы по окончании очереди


ELO


Пакетные функции должны быть вынесены из Энтитей в модели, например (?) - типа, получение списка итд
    - А вот работа над данными энтити должны быть в самих энтити


Вернуть сообщения о получении уровня и начислении ТМ

Биржа:
    - Обмен ресурсов
        - Фиксированный курс
        - Плавающий курс

Статистика
    - Убрать ТМ и ММ из расчёта рейтинга ?


Сделать classSupernova контейнером Pimple саму по себе

https://tech.yandex.ru/money/doc/dg/reference/notification-p2p-incoming-docpage/
https://money.yandex.ru/embed/quickpay/small.xml

Курс белорусского рубля к доллару: 2 бр за 1 усд


- Админка, стата - не считать ботов!

- Глобальные сообщения (player_notifications)
    - Фаза 0:
        - Таблица в БД
        - Автоочистка таблицы по обслуживанию
        - Вывод сообщений:
            - Тикер на каждой странице
                - Кнопка на закрытие
            - Lastread
            - Страница для просмотра всех сообщений
        - ГС:
            - Покупка ММ
            - Увеличение уровня
                - Здания
                - Рейд
                - Теха
                - Экспа
    - Фаза Х:
        - Поддержка BBcode
        - ГС на квесты
            - Ссылка на квест, к которому имеет отношение ГС
        ? ГС на новости?

[*] ? Дописать начисление ТМ
        - Начисление по имени ID/имени/емейлу АККАУНТА, а не игрока

[*] Переписать начисление ММ
    - Вытаскивать имя/ИД игрока если ММ меняется по аккаунту, а не по игроку
    - Расчёт ММ по валюте
    - Отсылка письма с уведомлением

[*] core_auth.php:437
        $account_translate = PlayerToAccountTranslate::db_translate_get_account_by_user_id($user_selected['id'], self::$main_provider->provider_id);
    replace with
        Account::dbGetByPlayerId($player_id_unsafe)



[*] Релиз 43:
    - PHP 5.4 + PHP 7 compatibility
    - Убрать патчи по 39й включительно
    - Интегрировать модули GIT-сабмодулями


[*] Убрать global
        - global $ListCensure;
        - $ListCensure = array ( '/</', '/>/', '/script/i', '/doquery/i', '/http/i', '/javascript/i');


[*] class OldDbChangeSet
    - deprecate

[*] FleetLock - блокировать в МЛФ записи в зависимости от типа ивента - отдельно по прибытию, удержанию, возвращению
[*] protected function flt_flyingFleetsSort($a, $b) - Переписать на более чёткую сортировку по ивентам
        - Из двух флотов первее обратаывается события флота с меньшим ID
        - FLEET_ARRIVE всегда наступает первым
        - За ним - FLEET_ACOMPLISH
        - И только за тем - FLEET_RETURN

[*] // init constants from db - TODO - REMOVE

[*] Убрать \phpbb_hook из кода и ссылки на его использование

[*] mrc_get_level - разбить на разные функции:
        - unitGetLevelOnUser
        - итд

[*] Заменить двойные кавычки одинарными

[*] Проверить все таймлимиты - и использовать константы:
    - TIMEOUT_SHORT
    - TIMEOUT_MEDIUM
    - TIMEOUT_LONG
    - или PERIOD ???? - лучше TIMEOUT, что бы не смешивать с остальными периодами

[*] Класс TimeMeasure:
        - start($mark)
        - mark($mark)
        - end
        - diff($mark)
        - format($mark)

[*] Аккаунт для поисковых пауков


[*] DB:
        - `alliance`:
            - Убрать поле ally_request_waiting

    global $ally_rights;


[*] ActiveRecord - а нужен ли теперь reload()?
        - Теперь перед insert/update устанавливаются дефолтные значения из БД

[*] После окончания update должен редиректить на какую-нибудь страничку - что бы перечитались данные


[*] Кэширование схем БД/таблиц

[*] AR - проверка существования полей в схеме БД

[*] deprecate Invoker class

[*] AccessLogged::_startValues - не нужны?!


[*] ActiveRecordAbstract
    - вынести всё, относящееся к работе с DB в отдельные функции
    - Унаследовать от этого класса ActiveRecord и перекрыть абстрактные методы
    - Написать тесты


[*] Учитывать тип ядер и размер планеты в exploration bonus


[*] Мультики
        - Ограничивать передачу ресурсов нижележащим
            [21.09.2017 20:29:08] 	rival[NewSTAR]>	вобщем не важно - мульты разрешенные - позволяют задействовать все механизмы прокачек ) выживают самые толстые) Топу мелкого не достать - быстро вкачивается мульт свежий - и имея ресусную базу топа - мультом сносится вся мелочь
            [21.09.2017 20:29:34] 	марк рикман[Казаки]>	(rival[NewSTAR]) ну и что в этом плохого?
            [21.09.2017 20:30:27] 	марк рикман[Казаки]>	вылез топ вверх. внизу никого достать не может. сваял мульта и игра получает новый импульс. опять же... если топ будет занят только мультом, то его будут лупить и грабить.
            [21.09.2017 20:30:30] 	Сингулярность[абиБАС]>	(rival[NewSTAR])Что значит "быстро"? Каким-таким механизмом?
            [21.09.2017 20:31:36] 	rival[NewSTAR]>	(Сингулярность[абиБАС]) условно быстро ) а тут вообще мгновенно практически - через рынок флота можно делать) ну да - минус по ресам - зато муха надоедлевая сбита)
        - Подумать о пересчёте скорости ресёча в Альянсе в зависимости от уровня игроков - что бы не набирали мелочь
            [21.09.2017 20:38:08] 	KAPACb>	2. мультами можно задирать скорость изучения технологий в альянсе
            [21.09.2017 20:38:10] 	Сингулярность[абиБАС]>	(KAPACb)То же самое он может сделать союзником/членом Академии
            [21.09.2017 20:38:11] 	rival[NewSTAR]>	(Сингулярность[абиБАС]) я говорю чем плохи мульты - своими возможностями - абсолютным совпадением онлайна
            [21.09.2017 20:38:32] 	Сингулярность[абиБАС]>	(KAPACb)То же самое можно сделать, набрав ВОТ ВСЕХ в Альянс. Были тут одни, с 70+ членами... Брали всех
            [21.09.2017 20:38:36] 	марк рикман[Казаки]>	(KAPACb) это хорошо по твоему мнению, или плохо?
        - Разобраться с ботами и ситтерами
            [21.09.2017 20:50:09] 	rival[NewSTAR]>	а бывает ещё ситтинг
            [21.09.2017 20:50:23] 	rival[NewSTAR]>	тоже боты) только живые
        - Разобраться с прокачкой - передачей ресурсов через и-шки
            [21.09.2017 21:18:08] 	Сингулярность[абиБАС]>	Прокачку - да, надо закрывать. Примерно понятно - как. Надо еще подумать немного и сделать
            - Противопрокачка
                - Отключить транспорт на Iшки и i-шки - в общем, когда там прокачка снимается
                - Ввести ограничение на транспорт в зависимости от уровня Станции Альянсов - переименовать её, кстате
                - Ввести ограничение на принципиальное количество транспорта слабому игроку
                - Добавить ресурсы на Удержание (?)
                - Удержание только на планете со Станциями - час за уровень станции
                - Сбрасывать на планеты без Станций можно только ограниченное количество ресурсов
                - Режимы работы станции: всем, только соаловцам, только друзьям, соаловцам и друзьям, никому
                - Проверять наличие Склада Альянса в момент установки УД (или во время боя?)
                    [27.09.2017 14:41:38] 	jeka_ua[™]>	(rival[NewSTAR]) для начала склад альянса везде построй
                    [27.09.2017 15:20:02] 	rival[NewSTAR]>	(jeka_ua[™]) а зачем тебе склад, если я склад грохнул на одной за 35 минут до прилёта, а ты всё равно повис без склад
        - Ограничить передачу ресурсов
        - Подумать, как переделать реферралку, что бы куча мультиков не давала особых бонусов
            [23.09.2017 06:59:45] 	Morhold[Казаки]>	О, вот еще что. На мультов наверное не должны распространяться реферальные ссылки. Иначе начнут абузить ТМ за первоначальные квесты. Выжал мультика, бросил, завел следующего. И так далее
        - Дополнительные ограничения для:
            - Играющих через тор-ноды
            - Играющих через анонимные проксики
            - Играющих с одного пула адресов

[*] Ультрапул - моментальная постройка кораблей

[*] Использование SVG в качестве Placeholder’a https://habrahabr.ru/company/edison/blog/342848/

[*] Ракетный автостроитель - платный, дорогой, временный

[*] Вход по аккаунту
        [1:56:29] SNP-A-Morhold: Гор, ты тут?
        [1:56:56] SNP-A-Morhold: Так ты же сам писал, когда логинился после переыва, что не мог зайти по емейлу...
        У старых игроков логин - это имя игрока (в силу очевидных причин). У новых - емейл.
        [1:57:23] Project "SuperNova.WS": И?
        [1:57:44] SNP-A-Morhold: Все так. И я стормозил. А чего взять с новичка. Ну он тупой, не прологинился, матернулся и пошел на новый проект
        [1:58:30] SNP-A-Morhold: Поэтому я и подумал, не уходят ли лишние игроки из за того, за что я плюху на почту получил :)


[*] Заменить serialize/unserialize на json_encode/json_decode

[*] Разобраться с mail.ru
        - http://php.net/manual/en/function.mail.php


[*] Возмещение
    - !!! Наверное, всё-таки, юниты - ресы можно передать и так
    - Возможность возместить ресурсы на потерянный флот (возместить юниты?)
    - Должен иметь ETA что бы не стать эксплоитом
    - Запоминаем скользящим окном, сколько стоит флот
    - В момент Возмещения - считаем количество ресурсов во флоте (без загрузки)
    - Разница может быть Возмещена с коэффициентом и, возможно, за ММ
    - Должна действовать нуб-защита - не более /5 от текущего уровня
    - ВВЕРХ ВОЗМЕЩАТЬ НЕЛЬЗЯ - ПРОКАЧКА!


[*] EXPLOSIVE ACCELERATORS
        https://lurkmore.to/Оружие_в_компьютерных_играх#mws_52JPLKA
        EXPLOSIVE ACCELERATORS
        http://www.islandone.org/LEOBiblio/SPBI134.HTM


[*] Проверять
        - sql_mode = ''
        - Права на SET
        - Если sql_mode не тот - менять



[*] classConfig->db_loadItem - заменить на конструкцию pass()->переменная
    - То же самое с db_saveItem
    ? А сам pass() переименовать в direct()


[*] /includes/template.php 323
    Use $template_result to turn menu and navbar or ond off instead of
      - isset($page->_rootref['MENU']) ? $isDisplayMenu = $page->_rootref['MENU'] : false;
      - isset($page->_rootref['NAVBAR']) ? $isDisplayTopNav = $page->_rootref['NAVBAR'] : false;


[*] Поощрилка за регулярную игру
        - Буст настарте новичку

[*] Собрать статистику по потреблению памяти игрой:
        - PHP
        - xCache
        - MySQL

[*] Ускорять исследования в зависимости от постоянности состава Альянса и срока его существования (?)


#ctv

[*] Логгировать "Прибытие" как самую длинную операцию флота. В файл?

[?] Не работает нормально "Обслуживание" - не возвращает результат

[*] Стата
    - Если пересчёт происходит повторно - т.е. ДО того как посчитается новая стата:
        - то надо постить данные как новую стату и затем при следующем пересчётё заменять эти данные
        - Так не будет лишних "шагов" статы при внеплановых пересчётах
    - В админке не показывается результат расчёта статистики

[*] Отключить пока лысого
        - Проанализировать стату
        - Сделать отключение по красному крестику


[*] При расчёте статы не лочить всё сразу - или не держать лок так долго


[*] ActiveRecordAbstract - разбить на два-три класса


[*] scheduler_process - sys_maintenance подвесить выше для того, что бы удалять лишние Альянсы/юниты ДО расчётов


[*] Экспа
        - Искать чертежи по кусочкам. По 10к на кусочек

[*] Наёмники - цена для Альянсов должна быть выше кратно


[*] template - модификаторы показа через параметры {VALUE|parms...}, что бы не надо было везде дублировать через pretty_number


[*] Империя
    Добавить еще кнопок в начале для "сохранить", если ОЧЕНЬ много планет/лун



[*] !!!! Логгировать изменения емейлов!



[*] Листание сообщений (?)

[*] Шпионаж - генерировать отчёты не в форме текста



Скорость - на самом деле не скорость, а ускорение - сектора/секунду^2

[*] Дейтреедобывающий корабль с отрицательным потреблением
        Звездный ковш (?)


#ctv



[*] Добавить точки - разделители тысяч.
        - Про экран симулятора я подумаю основательно. В строке ввода может и не получится красиво сделать -
         но вот, например, можно добавить прямо под строкой ввода отдельно добавить еще и введённое количество,
         наверное, можно

[*] Сообщения
        - Редирект после удаления - что бы при рефреше не повторилась операция
        - Рефакторинг
        - Пейджинация - учесть, что при удалении "неотмеченных" на странице NOT IN должны инвертировать выбор и давать конкретные ИД
        - messageLastRead - тотал и по категориям
        - Использование DBQuery - переписать куски
        - Полноценный Outbox с копиями сообщений
        - Унифицировать рендеринг сообщений
        - (?) Архивная папка - даже отдельная архивная таблица (?)
        - "Чёрный список" у игроков - фильтрация адресатов
        - (после "черного списка") Пересылка сообщений - форвард. В частности - шпионских отчётов

#ctv

OldDbChangeSet - избавиться

ActiveRecord не транслирует ID-поле в $this->id - и тесты этого не ловят!
    - ActiveRecordAbstract надо разбивать на подклассы
    - В следующем классе должны быть операции с ID и методы DELETE, UPDATE, findById
    - Проверить все унаследованные от ActiveRecordAbstract классы - что бы они по-прежнему работали корректно
    - И тесты

ActiveRecordAbstract
    - Вынести вниз функционал пересчёта имён полей в названия свойств



Перейти на новый ResourceCalculator
Закомментировать
  $planet_row['caps'] = $caps;


Разобраться с освобождением результатов mysqli_result->free()


Проверить работу с ключом устройства - нет ли там эксплойта

Меню админа - убрать дубликаты категории/пункты - "Игроки"/"Список игроков"

- Поддержка апдейтеров в модулях - что бы не менять update.php в ветках


Собирать статистику по страницам
Удалять в маинтенансе старые визиты ?
    - После того, как данные о подозрительных пользователях перенесены в отдельную таблицу
        - Отдельный модуль "антибот"
- Оптимизация
    - не писать ничего если toDelete у нас пустой

$debug - зацикливается, если ошибка произошла в БД - пытается записать опять в БД, в которой ошибка итд


Полные исходные логи счётчика - в бэкапе от 2017-10-18 13:31

Проверить работу cutTails = true в VisitMerger

Вести историю мьютов
При бане/мьюте - выдавать историю банов и мьютов

- ТАКИ НЕТ -    Теперь корректно обрабатываются визиты, находящиеся на стыке пакетов

- Сделать ОТДЕЛЬНЫЙ индикатор ресурсов для Альянса - что бы было видно, сколько ресов у игрока
- ВЕЗДЕ включить индикатор ресурсов - проверить, где это реально не нужно

- https://webdevwonders.com/dom-storage-super-cookie/
// Set a session_id if sessionStorage object is available
if (window.sessionStorage) {
    var session_id = "2bf039d0-f0c1-11df-ae7e-3137382e3633";
    window.sessionStorage.setItem("session_id", session_id);
}
// Try to retrieve the user_id if localStorage object is available
// or set a new user_id if user_id isn't set yet
if (window.localStorage) {
    var user_id = window.localStorage.getItem("user_id");
    if (!user_id) {
        user_id = "6b67ce02-c61e-11df-96b2-38352e313833";
        window.localStorage.setItem("user_id", user_id);
    }
}


- ТМ - из экспы только супертяжами

Экспу - в бинарные логи


Рассылка Альянса - одним письмом


Illegal mix of collations (latin1_bin,IMPLICIT) and (utf8_general_ci,COERCIBLE) for operation '='
/* tID 6
(db_mysql)db_mysql->doquery() - 'includes/db.php' Line 102
doquery() - 'classes/RequestInfo.php' Line 94
(RequestInfo)RequestInfo->__construct() - 'classes/core_auth.php' Line 183
(core_auth)core_auth->__construct() - 'includes/init.php' Line 108
include() - 'login.php' Line 16
 */ SELECT `device_id` FROM beta_security_device WHERE `device_cypher` = '1\0



Ёмкость хранилища:
$levelPremium = $level + $premium
$base = function($levelPremium)

applyBonus($base, MRC_STOCKMAN)
*= $storageScaling

bonusData - описание бонуса, в хранилище $bonusDataList[snid]

MySQL Views:
    - game_v_counter
        select `c`.`visit_time` AS `visit_time`,(`c`.`visit_time` + interval `c`.`visit_length` second) AS `end`,round((((`c`.`visit_length` / 60) / 60) / 24),2) AS `day`,round(((`c`.`visit_length` / 60) / 60),1) AS `hour`,round((`c`.`visit_length` / 60),1) AS `min`,`c`.`visit_length` AS `sec`,`c`.`hits` AS `hits`,`c`.`device_id` AS `device_id`,`c`.`browser_id` AS `browser_id`,inet_ntoa(`c`.`user_ip`) AS `IP`,`c`.`user_id` AS `user_id`,`u`.`username` AS `user`,`u`.`ally_tag` AS `ally`,`c`.`counter_id` AS `counter_id`,`c`.`user_ip` AS `user_ip`,`c`.`user_proxy` AS `user_proxy`,`c`.`page_url_id` AS `page_url_id`,`c`.`plain_url_id` AS `plain_url_id` from (`game_counter` `c` left join `game_users` `u` on((`u`.`id` = `c`.`user_id`))) order by `c`.`visit_time`,`c`.`counter_id`
    - game_v_users




Производство ресурсов:

Астротехи - на 2017-10-29
Максимум планет - 28, фактический максимум - 23, на что и надо ориентироваться
Максимум астротехи - 22, фактический 20
Максимум астро+прем - 25, фактический - 23 с провалом до 19
MaxLevel Astro = 22(18+4) x 5; 21(17+4) x 6; 20(16+4) x 11; 19 x 14;

Таким образом рассчитываем, что:
28я планетарка с премом +7 и +1 Марс
    - 20я планетарка по цене, как сейчас 22я астротеха - 4 трлн
    - 21я планетарка по цене - не меньше 23й астротехи - 10 трлн
        - вообще-то 22 астротеха дает 18 колоний и 4 экспы

MaxLevel Astro+Prem =
25 x 4
24 x 6
23 x 8
22 x 4
21 x 7
20 x 5
19 x 11
18 x 34
17 x 49

REAL Planets: pcs x players
 - 28 x  3   +7 = Артьом 21 + 7, Xeon 22 + 6, 1 старый от Игоря
 - 27 x  1   +6 = auro007 22 + 5
 - 26 x  0   +5
 - 25 x  3   +4 = bak и Dimitrius 21 + 4, 1 старый
 - 24 x  6   +3
 - 23 x  9   +2
 - 22 x 15   +1
 - 21 x 13   +0
 - 20 x 10
 - 19 x 16
 - 18 x 25
 - 17 x 20
 - 16 x 33
 - 15 x 52
 - 14 x 81
 - 13 x 58
 - 12 x 76
 - 11 x 65
 - 10 x 86



[*] Считать среднее время работы статистики и, возможно, флота
    - Хранить старое среднее время и общее количество обсчётов, что бы можно было потом обновлять среднее время

[*] Добавить на сервере время замера разницы во времени, что бы можно было форсировать замер времени с сервера

[*] Ежедневно в рамках обновления статы синхронизировать статус с аккаунта на юзера и начислять медальки


Проверить на модулях
    - db_get_user_by_username
    - db_get_user_by_where
    - db_get_record_by_id - количество параметров и сократить
Избавиться от
    - _SnCacheInternal::$queries
- И вообще - вынести из classSupernova все явные обращения к конкретным таблицам/сущностям
classSupernova::db_get_unit_list_by_location

db_unit_by_location()
db_planet_by_id()


Модули - фестиваль - гезер - админка - баннилки
    - Глюк - если повторный бан, то банит +24 от старого

Поудалять еще и пустые аккаунты


+ Удалять при подсчётет статы и ТО планеты с просроченной датой удаления - это будут луны
    - Придумать что-то другое, что бы гарантировать удаление, даже если луна не сканируется


Такой конфиг ставит стату раком
var_stat_update	2017-11-11 04:08:30
var_stat_update_admin_forced	2017-11-04 14:31:13
var_stat_update_end	1510453157
var_stat_update_msg	Update in progress. Step 14/14: updating Allys current rank and points.


var_scheduler_active
var_stats_lastUpdated	0
var_stats_schedule	d@04:00:00
var_stat_update	2017-11-11 04:08:50
var_stat_update_admin_forced	2017-11-04 14:36:52
var_stat_update_end	1510452767
var_stat_update_msg	Update in progress. Step 14/14: updating Allys current rank and points.
Memory usage: 3,670,016
Previous operation time: 0.01690
var_stat_update_next	2017-11-12 04:00:00


#ctv


[*] И вообще больше тестов для бонусов


[*] Fleet\MissionExplore
        - Надо добавить механизм перекрытия для flt_mission_explore_addon
            - Проверить, где перекрывается этот метод - и исправить работу перекрытий по месту
            - СЕЙЧАС ПЕРЕКРЫТИЕ flt_mission_explore_addon ОТКЛЮЧЕНО!!
        - Новый Наёмник - Экспедитор (?) - позволяет находить корабли других рас в экспе

MissionExplore.php
    // TODO - REMOVE!!!!
    $flt_stay_hours = 1;

      $this->manifest['functions']['flt_mission_explore_addon'] = 'expedition_result_adjust';


[*] Токен-лотерея
        - Написать Ридми
        - Ограничивать юниты текущим уровнем игрока
        - Админка Токен-лотереи - сделать. Показывать % для каждого айтема
        - Показывать окно о получении токена
        - Разделители тысяч количеству токенов
        - Время получения токена - дату
        - Звуки на выигрышь и проигрышь
        - Логи:
            - Получение токена
            - Трата токена
                - Получение юнитов

[*] Модули
        - Вынести общие функции чтения конфигурации - с пререндерингом префикса


[*] Понять, почему у юзера обнуляется статистика при выходе из алла

[*] Поискать ENT_COMPAT, 'UTF-8 и позаменять на HelperString::htmlSafe()



[*]
        - Сделать пул Губернаторов
        - Запаковать старых игроков
        - Поменять PLANET_GOVERNOR_ID и PLANET_GOVERNOR_LEVEL на использование Planet\Planet


[*] На Обзоре и Управлении добавить цены на смену ядра в дропдауне
    - На "Ресурсах" - убирать цену в дропдауне, если ядро равно текущему (?)


[*] prettyNumberStyledDefault - заменить на параметры PTL-тэгов в темплейте: num|format
        - HelperString::numberFloorAndFormat

[*] Сделать пересчёт статы без добавления новой позиции

[*] defence -> defense

[*] Проверить, как работает UBE с уничтоженными лунами - и вообще уважаются ли уничтоженные луны?

[*] Унифицировать создание луны:
        - заодно увеличить максимальный размер луны до 9999 и переделать sn_ube_combat_analyze_moon_destroy
        - Не создавать луну при миссии Уничтожить


[*] [15.02.2018 12:37:28] 	smotreashee[A-Казак]>	что за фигня у меня был шпионаж 23+4 2 из альянса и 2 за премиум я купил шпиона 3 лвл (прем еще+2 к его лвл даёт и того 5 лвл ) но шпионаж так же остался 23+4 должно быть 23+9 где меня обманули ?

[*] TODO - убрать рассовые корабли из добычи Экспедиции

[*] Статистика - сделать ссылками ники
        - Возможно - перенести иконки в конец ника

[*] Пираты - на луны
        - Пираты будут вылетать на самую жирную планету с ресурсами


[*] Чат
        - Избавиться от поля БД `chat_message_sender_name` в модуле чатов - имя можно выковаривать из `user`

[*] Апдейтер
        - Переделать хелпер в объект




[*] [!] Игроки/Уровни
        - Рендерер ников
            ? Убрать из player_nick_render_to_html() вызов player_nick_uncompact()
            - Переделать рендерер ников в объект
            - Сделать список рендереров расширяемым
            - Поменять в player_nick_render_current_to_array() строковые идентификаторы опций на константы

[*] Игроки/Ники
        - Добавить иконки неактивности - выдернутый джек ethernet или дисконнект

[*] Собрать все иконки в один файл

[*] Впихнуть куда-то количество очков на уровень

[*] Вселенная - неправильно расцвечиваются auth_level 1-2

[*] Переместить "6 лет СН" в памятные знаки (?)

[*] Ник - выравнивать внешним дивом
        - chat_nick_msg - поискать и убрать

   [safe_name] - переименовать

[*] Хайспот на бесплатные массовые операции
[*] Хайспот на бонус к уровню Премиума - на 12 апреля
[*] Хайспот на свободную постройку расовых юнитов
[*] Карго-Мастер - переделать под увеличение трюмов и ввести нового Наёмника для увеличения складов
[*] Капитаны - убрать пункт меню и сделать интерфейс работы с флотами
        - Добавить Капитанов на список юнитов (?) или на экран Управления (?)
        - Добавить здание для прокачки Капитанов
        - Добавить новые скиллы (?)
            - Размер Трюма
            - Размер бака (?)
            - Скорость полёта (?)

[*] Замена стандартных попапов на jQuery
        - Автоконвертация - подтверждение


[*] При удалении планеты - в попапе писать имя планеты и удалять зафиксированную планету
        - Возможно, указывать что будет потеряно
            - Луна
            - Наёмники
            - Флот
            - Количество зданий
            - Капитан (?)

[*] Перенести признак столицы в планету (?)

[*] Оптимизировать рендереры флотов и планет на страницах Империи и Обзора

[*] Выделить уровень "разработчик" в отдельный модуль

[*] {Эта планета является столицей} - добавить список бонусов

[*] Седьмая раса - "дарлоки":
    - Расовый корабль (неизвестно) - сверх-лёгкий истребитель, который не светится нигде:
        - Ни в сканах
        - Ни в списке флотов во время полётов
        - Его характеристики неизвестны
        - Его нельзя посчитать в симуляторе - его там просто нет
    - Специабилка - что-то со шпионажем. Мегабонус?
    - Механизм "Диверсии"/"Саботажа"
    - Назначать Капитанов (?) на миссию "контр-разведка" - что бы понизить вероятность


[*] Опция "Построить моментально"/Исследовать
        - Вычисляется количестов чипов/нанитов и покупается/пременяется за ТМ
        - Так же хелперы по АКК на новых планетах


[*] Фильтры по типам планет и лун в Империи и МО
        Morhold[Казаки]> Гор, кстати нет в планах возможности фмльтровать планеты и луны в списке и/или в обзоре империи по признаку планета/луна? Тоже было бы очень удобно, часто нет никакого смысла просматривать всю простыню, если нужны только планеты или только луны
        Anarchis[SPIRIT]> (Morhold[Казаки]) да согласен, и ещё такоеже разделение в массовых операциях


[*] Добавить в подсказку Лотереи, что можно выиграть еще и Артефакты
[*] Добавить на страницу 8 марта переход в админку - понятно, только для админов

[*] Провезти деноменацию ТМ и ММ


[*] При входе в игру, неважно где - на планете или на луне, появляется активность на всех планетах игрока.
        - http://forum.supernova.ws/viewtopic.php?f=65&t=2896


[*] Награды - разделить на аккаунтные и игроковые



[*] Убрать пункт меню "Технологии" - перед этим надо добавить везде ссылки на Новапедию


[*] Доработать админку:
        - Круд по планетам
        - Круд по юнитам

[*] Пакеты/Бустеры - Личный резерв
        - Пакеты/Бустеры - бонусы на скорость производства/исследования в разрезе игрока/планеты
            - Бустеры на время - действуют 1-2-3-х часов
            - Бустеры одноразовые - получить добычу за Х часов
            - !!! Бустеры "по времени" это получаются "Патчи"
            - !!! Бустеры на ускорение постройки/ресеча - это Артефакты
        - Возможно - на флоты
            - Капитан - навык "Использование бустера"


[*] Артефакты
        - Сжатие времени - позволяет получить выработку за Х часов на планете/всех планетах

[*] Во всех операциях с планетами пробрасывать номер планеты, для которой это делается
        - При изменении активной планеты - выдавать оповещение "Операция заблокирована потому что изменена активная планета и не совпадает с той, на которой поводится изменение"

[*] Добавить в список игроков количество бабла/ММ за всю историю - иконку (?)

[*] Переместить настройки токенов из PLAYER_OPTIONS в отдельную таблицу! Что бы их нельзя было хакнуть

[*] Системы игры:
        - Common - общеупотребительные классы, которые могут использоваться отдельно от SN
        - Core - Базовая функциональность
            - КОГДА ОТКЛЮЧЕНА: игра неработоспособна
            - Config - конфигурация игры и модулей
            - DBAL - DB Abstraction Layer:
                - Предоставляет игре унифицированный интерфейс доступа к БД
            - Installer - устанавливает и настраивает игру, а так же конфигурирует начальные параметры
            - Updater - обновления БД, манипуляция с данными в БД
        - Auth - система авторизации и аутентификации:
            - Account - хранит инфромацию об аккаунте
            - Авторизирует аккаунты
            - Вторичные методы авторизации/аутентификации, связывающие записи во внешних системах с аккаунтом
        - Player:
            - Хранит базовую информацию об игроке. Привязан к аккаунту
            - Репер для привязки количество юнитов Империи (игрока)
        - RPG:
        - Economic - покупка/продажа юнитов (т.е. постройка, исследование, ЧР итд):
            - Dark Matter - подсистема ТМ, добавляющая новый ресурс в игру
            = Metamatter - система платной ТМ:
                - ИСПОЛЬЗУЕТ: Account - идентификация аккаунта, к которому привязана ММ
                - Начисление и списание ММ
                - Payments - подсистема, предоставляющая интерфейс платёжных модулей
        - Офицеры:
            - Император:
            - Captains (Капитаны) - Офицер, привязанный к флоту
            - Наёмники (Mercenaries) - Офицер, привязанный к Империи
            - Губернаторы (Governors) - Офицер, привязанный к планете/луне
            - Герой: Офицер, участник Приключения
        - Mining - добыча юнитов (ресурсов)
        - Universe - организация Вселенной
            - Расчёт дистанций между точками Вселенной
            - Создание объектов Вселенной: Луны, Планеты, Обломки
            - Incident: Управление Происшествиями
        - Fleets:
            - ИСПОЛЬЗУЕТ: Universe - расчёт дистанций и времени полёта
            - ИСПОЛЬЗУЕТСЯ В:
            - КОГДА ОТКЛЮЧЕНА: прямой перевод ресурсов между планетами
            - составление и отправка флота (взлёт)
            - управление флотом в полёте (отзыв)
            - выгрузка юнитов на планету
            - Удержание
            - Группы Флотов
            - Mission - подсистема Миссий:
                - Рассчитывает результаты взаимодействий флотов в разных контекстах
        - UBE - боёвка:
            - ИСПОЛЬЗУЕТ: Fleets - информация о флотах и привязанных к ним бонусах
            - Расчёт результата столкновений флотов
            - Учитывается Удержание
            - Учитываются Группы Флотов
        - Quest - квесты
        - Module - модули в игре:
            - ModuleManager - управляет подключением модулей, их статусом итд итп
            - Добавляет/изменяет функционал любой другой подсистемы
            - Виды:
                - Payment
                - Player
                - Misc
                - Core



[*] Избавиться от serialize()/unserialize()
        - Заменить по коду:
            - unserialize => unserializeOrJsonDecode()
            - serialize => json_encode
        - В апдейтере физически заменить старые данные на новые

[*] htmlentities() -> HelperString::htmlSafe


[*] Свернуть старые неуниверсальные картинки на 8 марта в универсальные
[*] Вынести константы наград в модуль наград!
[*] Внести константы в классы
[*] Добавить таймштамп в festival_gifts
[*] Фестиваль
        - Паззлы
            - добавить minLevel, maxLevel к параметрам
            - Переписать на использование Аутком-Менеджера
        - Gather
            - тоже добавить? minLevel, maxLevel
            - Переписать на использование Аутком-Менеджера

[*] Награды:
        - Отсылать письмо о получении награды - на player_award::award()


[*] Обзор планеты
        - Возможность отключить список планет, что бы не светилась активность

[*] Империя
        - Добавить обломки на орбите
        - Добавить к планетарным иконкам иконку обломков. Раскрашивать в разные цвета


[*] Радужные планеты - планеты, на которых ВСЯ добыча отличная. В них нельзя пережать планеты
        - Привязывать продуктивность нестандартных планет к текущим рейтам обмена

[*] Прокачка Капитанов - сделать ограничение на 1% (5%?) от всего флота в бою



[*] Избавиться от sn_function_call()
[*] $manifest['active']->isActive()
[*] убрать SN::$gc->modules->registerModule($class_module_name, $this); из sn_module::__constructor()
[*] flt_page2 - убрать добавление капитана во флот в модуль капитанов
        - sn_fleet_page3()


[*] Добавить поле stop_propagation к хукеру. Возможно - к пимпу. Или что бы сама функция сделала stop_propagation и использовала результат из хукера

[*] Токен-лотерея
        - Добавить больше инфы на страницу токен лотереи - см. попап


[*] Избавиться от функции messageBox()
[*] Сделать SN контейнером GlobalContainer

#ctv

[*] !!!!!!!!!!!!!!!!!!!!!! Нет константы SN_PAYMENT_ROBOKASSA_RESPONSE_OK !!!!!!!!! Проверить чему она должна быть равна - и добавить
        - вообще ошибка в payment_request_process() как минимум в робокассе - не возвращает результат при успешной операции!
        - Надо так же проверить остальные модули платежа !!!!!!!!!!!!!!
        - Так же проверить мультиреспондеры

[*] Переименовать класс sn_module => Module

[*] Вынести все классы модулей в неймспейсы:
        - \Core\Autoloader::register($this->getRootRelative() . '/classes/', 'Modules\player_login_token');

[*] SN::$gc->modules->getModule() - добавить параметр onlyActive = true

[*] Переименовать sn_module->addModuleTemplate - getTemplate

[*] Переименовать DbQuery->SqlQuery (? SqlStringQuery)

[*] Переписать
        PlayerStatic::DeleteSelectedUser($UserID)

[*] Купить другому игроку ММ - НЕ ПОДАРИТЬ!

[*] В админке сделать защиту от повторного начисления (!)

[*] https://habr.com/company/cleantalk/blog/354374/ - базовая защита от DDoS и ботов, но с проблемами при AJAX

[*] Убрать таблицу `annonce`

[*] Слить статики для игроков и планет

[*] Разобраться с destruyed - когда ставится и как обрабатывается

[*] Добавить в ActiveRecord свитчер name() - для возвращения имени поля, что бы можно было детектить использование полей по коду в запросах

[*] Опцию stats_hide_player_list переделать, что бы работала с массивами, а не со строками

[*] Модули - проверить, где используется loadVar/saveVar а надо использовать loadArray/saveArray
        - Временно. Вообще-то нужно всё переделать на loadVar и использовать там json_encode/json_decode

[*] MoonBot - играть от луны !!!

[*] убрать порнуху в класс (init.php)
        - require_once(SN_ROOT_PHYSICAL . 'includes/includes/user_birthday_celebrate.php');
        - sn_user_birthday_celebrate();

[*] Разобраться, что там за херня вообще с MVC массивами происходит
        - Добавлена опция PAGE_OPTION_ADMIN для обозначения страницы как админской до её загрузки
            - Разобраться - куда добавили
            - Переделать все страницы на её использование
            - Убрать константу IN_ADMIN
        - 'model'+FIELD_MODEL => MVC_MODEL
        - 'view'+FIELD_VIEW => MVC_VIEW

[*] UNIX_TIMESTAMP(NOW()) - заменить на UNIX_TIMESTAMP()

[*] !!!!!!!!!!!! Декораторы |num|format не работают на простых переменных {BLACK_MOONS_COUNT|num|format} ! Но работают на блочных {bracket.BLACK_MOONS_COUNT|num|format}


[*] Включить E_NOTICE и отловить все баги - сделать хэндлер, который будет выбивать ошибку (?) или включить в конфиге ПХПы

[*] Размещать луны не ВНУТРИ кластера, а ЗА ПРЕДЕЛАМИ кластера!
        - Особый случай если луна одна

[*] core_auth - НЕ МОДУЛЬ!

[*] sn_module - наследник pimple

[*] убрать _checkStatus

[*] http://php.net/manual/en/function.password-hash.php
        - http://php.net/manual/en/function.password-verify.php

[*] Главный Инженер - увеличивает ёмкость слота построек. Наёмник (?) +100, +200 итд

[*] Пересчитать скорости транспортов - уж очень резво они летают

[*] На столице - удваивать и скорость производства юнитов, защиты, зданий


[*] За X баксов-то вложенных в игру можно и сделать. Лояльность и ЧСВ игрока поднимет
    - 4.03.2018 02:24:45   Сингулярность [1:2:12]   RE:Новое сообщение
      Мы тут посовещались - и решили по такому случаю ввести специальную награду - медаль "Первый Участник Краудфандинга". Это может занять немного времени для добавления в код - но у тебя она точно есть!
    - Для себя - можно награждать только тех, кто пожертвовал первые 100 баксов, скажем. Подумать

[*] Модуль балансера с дампами всего, что хочется в админке admin_balance


[*] Объединить все локализации в один файл. Уже прошли времена, когда надо было экономить байты памяти

[*] Проверить год начала использования модуля, что бы обновить копирайт


[*] Добавить в Новапедию:
        - Максимальную дальность полёта на стандартных и текущих техах в Дистансах, Галактиках и Вселенных
        - Расход топлива на стандартный полёт из Галактики в Галактику на стандартных и текущих техах
        - Время полёта из Г в Г на стандартных и текущих техах

[*] В чате сворачивать http://ogame.supernova.ws/ > sn://

[*] Спецагент/Агент - шпион/разведчик/контр-разведчик
        - Спецздание - КБУ - Комитет Безопасности (Безопасного?) Управления - найм и прокачка Агентов
        - Скиллы:
            - Разведка/Шпионаж
            - Диверсия - действие наносящий физический урон (подрыв и т. д)
            - Саботаж - невыполнение работы, указаний
            - Контр-разведка


#ctv


[*] !!!!!!! Проверять корректную работу Фестивалей при каждом новом Хайспоте и добавлять отметки тут


Добавить в сообщение об ошибках при переименовании игрока причины отказа:
    - Переименование отключено
    - Пустое имя
    - Запрещенные символы

Включить bbCode в сообщениях всем игрокам

//    // Replacing news://xxx link with BBCode
//    $message = preg_replace("#news\:\/\/(\d+)#", "[news=$1]", $message);
//    // Replacing news URL with BBCode
//    $message = preg_replace("#(?:https?\:\/\/(?:.+)?\/announce\.php\?id\=(\d+))#", "[news=$1]", $message);
//    $message = preg_replace("#(?:https?\:\/\/(?:.+)?\/index\.php\?page\=battle_report\&cypher\=([0-9a-zA-Z]{32}))#", "[ube=$1]", $message);

    $message = SN::$gc->bbCodeParser->compactBbCode($message, $user['authlevel']);


Длина поля в темплейте обрезает hide_stat_players


[*] Добавить корректную работу неизвестных юнитов по контексту:
        - Приземление неизвестных кораблей
        - Исследование неизвестных технологий
        - Постройка неизвестных кораблей



[*] Fleet.php
        // TODO - Those two lines should be removed - fleet times should be filtered on interface side
        $this->timeArrive = SN_TIME_NOW;
        !empty($this->timeEndStay) ? $this->timeEndStay = SN_TIME_NOW : false;



#ctv


Подключить MissionExplore
Прибавлять количество экспоочков в зависимости от часов (?)
Экспа-квазар: потерять часть (?) флота и привезти больше ТМ

[~] Флоты/Экспедиции
    Теперь в Экспедиции могут быть найдены и корабли, которые не входят в состав флота
    Теперь в Экспедиции не может быть найден самый дорогой корабль во флоте

[*] Страничка "Ресурсы" - вставить такой же контрол, как и на Обзоре с ценой в ТМ в дропдауне


[*] Продвинутые фишки флотов:
        - UnReturn - отменить возврат флота (если флот еще не прибыл)
        - QuickReturn - всегда возврат по затраченному времени полёта, а не по timeArrive - после того, как будет сделан возврат по timeArrive
        - NoHoldReturn

[*] Забор крови. Забор - существительное

/** @noinspection PhpUnhandledExceptionInspection */
/** @noinspection SqlResolve */


::fleet_insert_set_dbq - все три вызова нужно объединить в один
OldDbChangeSet::db_changeset_apply - а от этого вообще избавиться

#zebra
        .logDbWrapper > :nth-child(even)
        {
          background-color: #EEEEEE;
          line-height: 1.5em;
        }

        .logDbWrapper > :nth-child(odd).critical
        {
          background-color: #e69539;
        }
        .logDbWrapper > :nth-child(even).critical
        {
          background-color: #ff8c00;
        }
        .logDbWrapper > :nth-child(odd).error
        {
          background-color: #FFDDDD;
        }
        .logDbWrapper > :nth-child(even).error
        {
          background-color: #EEBBBB;
        }
        .logDbWrapper > :nth-child(odd).warning
        {
          background-color: #ffffa0;
        }
        .logDbWrapper > :nth-child(even).warning
        {
          background-color: #d9d96c;
        }

Сделать Артефактов и находить их в Экспе или Лотереях:
    - Смена ядра
    - Смена температуры (несколько градаций)


Проект Антарес - развитие проекта Орион - корабль на термоядерных бобмах

[*] Софт-ресет ака Престиж
    -
    - Дебафф "Decay" - "Увядание"
        - При слишком долгой игре без софт-ресета вешается дебафф, который влияет на все аспекты игра игрока
        - Дебафф может быть снят софт-ресетом


https://aftershock.news/?q=node/701115


    /**
     * Return IP address
     *
     * @return mixed
     */
    public static function ipGet()
    {
        $realIp = self::ipGetForwarded();

        return empty($realIp) ? $_SERVER['REMOTE_ADDR'] : $realIp;
    }

    /**
     * @return string
     */
    protected static function ipGetForwarded()
    {
        $realIp = '';

        if (empty($_SERVER['HTTP_X_FORWARDED_FOR'])) {
            return $realIp;
        }

        $finalIp = trim($_SERVER['REMOTE_ADDR']);

        $proxyChain = explode(',', $_SERVER['HTTP_X_FORWARDED_FOR']);
        array_walk($proxyChain, 'trim');

        foreach ($proxyChain as $proxyAddress) {
            // Checking if IP address is not local or reserved for internal networks
            // Also if IP is like in REMOTE_ADDR - ignoring this too. It's not our case
            if ($proxyAddress != $finalIp && self::ipIsGlobal($proxyAddress)) {
                $realIp = $proxyAddress;
                break;
            }
        }

        return $realIp;
    }

    /**
     * @param string $ip
     *
     * @return bool
     */
    public static function ipIsGlobal($ip)
    {
        return
            filter_var(
                $ip,
                FILTER_VALIDATE_IP,
                FILTER_FLAG_NO_PRIV_RANGE | FILTER_FLAG_NO_RES_RANGE // FILTER_FLAG_IPV4 |
            ) !== false;
    }














[*] Добавить запрос в код
    SELECT
    payment_user_id, u.username, FROM_UNIXTIME(u.register_time) as reg_date, min(payment_date) as first_pay, max(payment_date) as last_pay,
    FORMAT((UNIX_TIMESTAMP(min(payment_date)) - (u.register_time))/60/60/24,3) as days_first_pay,
    FORMAT((UNIX_TIMESTAMP(now()) - UNIX_TIMESTAMP(max(payment_date)))/60/60/24,3) as days_last_pay,
    format(sum(if(payment_currency = 'UAH', payment_amount/11,payment_amount)), 2) as payment_sum
    FROM `game_payment` as p
    join game_users as u on u.id = p.payment_user_id
    where payment_status = 1
    group by payment_user_id
    order by u.register_time;
[*] Проапдейдить таблицу платежей - перебить все платежи в USD по курсу



[*] Переделать расчёт бонусов Альянса
        - Масштабировать бонусы в зависимости от количества игроков в Альянсе и прописанного минимума линейно.
            - Для 7 минимума и 3 игроков бонусы будут floor(3/7 * уровень)


[*] БД
    - Дропнуть sn_annonce - не перепутать!
    - sn_iraks => sn_fleet
    - Дропнуть sn_log_halloween_2015


[*] Холод Вершины - для алла
    - Дебаф на алл/игрока за занимание первого места
    - Одиночество на пике - для игрока


[24.11.2018 22:47:56] taych[NewSTAR]>по поводу рекрутинга. а нельзя придумать что по поводу принятия в альянсы..например доску обьявлений по приёму или вступления.по клику просто мышкой.
[24.11.2018 23:02:55] Сингулярность[БАС]>Хотя идея со списком Альянсов, открытых для приёма - в принципе хорошая

[*] Удержание
    Можно. Тут прикол в чем. У меня полет на него около трех суток. Если уйти в РО, то можно только повернуть назад. Итого 6 суток. Т.е. неделю продержать не получается. Я придумал по другому. Я долетаю. Переработчики разбиваются. Это уже когда противник в РО. И я шлю рабов на обломки. А потом еще и заворачиваю. Короче, там до полутора, а то и двух недель можно довести
    Прошлый раз Спрут на этом и прокололся. Вышел из РО - а привязки все еще есть
    Он очень хочет упрыгнуть из 11-13
    Ну а сейчас они тоже на вооружение взяли эту тактику. Меня держать по 800-900 часов в одну сторону. То есть уже и РО не спасет. И стоит мне пропустить выход Спрута, а я не могу все время не спать - он упрыгнет, а я уже никуда не денусь


[*] Атаки
    Ввести настраиваемый минимальный промежуток между атаками (и/или между отправкой флотов?)



{function timerDump timer=[]}
    <table>
        <tr>
            <th>Message</th>
            <th>Length</th>
            <th>From start</th>
            <th>Location</th>
        </tr>
        {foreach from=$timer key=key item=timestamp}
            {if $key}
                <tr>
                    <td>{$timestamp['message']}</td>
                    <td>{$timestamp['time']-$timer[$key-1]['time']|round:5}</td>
                    <td>{$timestamp['time']-$timer[0]['time']|round:5}</td>
                    <td>{$timestamp['location']}</td>
                </tr>
            {/if}
        {/foreach}
    </table>
{/function}
{call timerDump timer=$timer}
'timer' => Timer::getLog(),



game_counter
    I_counter_device_id	(device_id, user_id)


Первый - пошел
Parviz - бан. Ботоводство. Хозяину бота - (очень сильное подозрение на ailouros ) первое и последнее предупреждение
Альянсу Proxima Prime - первое предупреждение
Второй - пошел!
auro007 - Ботоводство
Альянсу Про - второе предупреждение

[*] ? Бонус к добыче при потере большого процента флота

[*] Страница Альянса - добавить список игроков
[*] Статистика - добавить фильтр по Альянсам и, возможно, статусам

[*] Лог отпусков

[*] В "Поиске" игрока и "Списке игроков" - вывешивать полные регалии на нике

#ctv

[*] Пофиксить
    $multiplier = 5; // $this->valueStorage->getValue(UNIT_SERVER_FLEET_NOOB_FACTOR);
    class PlayerLevelHelper::calcLevels()

[*] JSON!!!!
    - SN::$user_options[PLAYER_OPTION_MENU_SORT] = serialize($this->menu_reorder($menuOrderNew));


!!!!!!!!!!!!! Писать в таблицу counter параметры GET запроса в отдельную колонку


[22.12.2018 20:34:02] Сингулярность[БАС]>Это новая фишка в игру добавлена
[22.12.2018 20:34:12] Сингулярность[БАС]>Дальше будет использоваться, само собой
[22.12.2018 20:34:17] Сингулярность[БАС]>Коды могут быть везде
[22.12.2018 20:34:42] Сингулярность[БАС]>На форуме. В чате. В новостях
[22.12.2018 20:34:54] Сингулярность[БАС]>Планирую загадки с охотой за кодами
[22.12.2018 20:35:37] Сингулярность[БАС]>Вот сейчас прикидываю, какой можно интересный кодоквест замутить со ступенчатыми кодами.


В чате заменить ДИВ на СПАН, что бы при копировании было сообщение в одну строку

Экспа - дорогие полёты (по дейтерию), но убрать потери флота

[*] Контроль территории Альянса
[06.04.2019 17:41:11]ForMe[♨️RED♨️]>бонусы*
[06.04.2019 18:41:44]Lexus>спасибо, а в какой стоит проситься ? или в какой не стоит ? )))
[06.04.2019 19:46:48]ForMe[♨️RED♨️]>В какой хочешь) Но вряд ли тебя возьмут в тот, где ровно 7 человек, ибо столько необходимо для активации бонуса
[06.04.2019 19:47:07]ForMe[♨️RED♨️]>Но чем больше людей в альянсе - тем меньше бонус начисляется его участникам
[06.04.2019 19:48:11]ForMe[♨️RED♨️]>А следовательно, в альянс состоящий из 7 человек, где каждый получает максимум(из возможного) бонусов, тебя не возьмут
[06.04.2019 19:48:23]ForMe[♨️RED♨️]>Не выгодно (:
[06.04.2019 19:48:46]ForMe[♨️RED♨️]>Но есть альянсы, где больше людей - там на бонус чуток подзабили
[06.04.2019 20:07:21]Lexus>а кроме бонусов и ресурсов чтото ещё есть ?
[06.04.2019 20:08:03]Lexus>я про альянсы ? может там захват территорий и порабощение всего ))))
[06.04.2019 20:18:20]taych[NewSTAR]>(ForMe[♨️RED♨️]) на счёт позабили-не совсем так...........................
[06.04.2019 23:43:06]ForMe[♨️RED♨️]>(taych[NewSTAR])Ну, больше людей - больше веселья, но бонусов то меньше всё равно
[06.04.2019 23:44:55]ForMe[♨️RED♨️]>(Lexus)Ну, существует определенное количество атак в день на планету, а альянсы могут объявлять друг другу войну
[06.04.2019 23:45:39]ForMe[♨️RED♨️]>И против врагов альянса можно нападать сколько угодно)
[06.04.2019 23:46:04]ForMe[♨️RED♨️]>(Lexus)Слева в меню есть вкладка "О сервере", в самом низу
[06.04.2019 23:46:13]ForMe[♨️RED♨️]>Там ознакомься с некоторой информацией
[06.04.2019 23:46:30]ForMe[♨️RED♨️]>А слева наверху, на самом, есть вкладка "Как играть?"
[06.04.2019 23:46:36]ForMe[♨️RED♨️]>С ней тоже следовало бы ознакомиться (:
[07.04.2019 03:45:45]taych[NewSTAR]>думаю-зажигание уже пожно включать.....по моимприлежным наблюдениям администрация становиться по чуть чуть скуповатой.рейты добовляет по нескольку десятых..штоб ишемии не было
[07.04.2019 03:51:45]taych[NewSTAR]>у мну на прошлый день космонавтики 11 числа на металле в час влетало 4.7 млд металла.чёт не записал 12 ое.наверное замотался распихивать такое сакровищще
[07.04.2019 03:52:45]taych[NewSTAR]>ЛЮДИ!СТРОЙТЕ ТРАНСПОРТЫ!ЧТО БЫ ПОТОМ НЕ СХОДИТЬ С УМА!
[07.04.2019 06:18:11]семм[™]>гагаринка зажгися
[07.04.2019 07:16:19]Sprut[™]>Наверное опять кто-то в ракете лишнюю дырку просверлил- пуск откладывается, замазка кончилась...
[07.04.2019 07:28:52]Sprut[™]>Есть у кого-нибудь жвачка или скотч- дырку в союзе залепить?
[07.04.2019 07:53:34]taych[NewSTAR]>Олим ещё отдыхает
[07.04.2019 07:53:45]taych[NewSTAR]>Олимп
[07.04.2019 09:40:46]семм[™]>(taych[NewSTAR])
[07.04.2019 11:45:08]Sprut[™]>(семм[™]) залепи дырку и полетели...
[07.04.2019 11:48:10]Sprut[™]>(семм[™])огурца посадил, ключ на старт!
[07.04.2019 12:32:27]семм[™]>отсчет пошол адын, дыва, тиры-поехалиии!!!!!
[07.04.2019 13:40:00]Man in red[Феникс]>(Sprut[™])Ану домой руки мыть и кушать , играется он тут с едой
[07.04.2019 13:41:08]Sprut[™]>(семм[™]) чих- пых, чих-пых, не заводится
[07.04.2019 13:42:54]Sprut[™]>(Man in red[Феникс]) так это ты дырку в ракете просверлил?
[07.04.2019 13:47:27]Man in red[Феникс]>(Sprut[™])для того она и дырочка
[07.04.2019 13:49:27]Sprut[™]>(Man in red[Феникс]) вот негодяй!
[07.04.2019 13:53:43]Sprut[™]>Все, доигрались- Гагарин отказался лететь из-за деверсии и отсутствия скотча
Ну, посмотрим. Я со счетов ОвК не скидываю. Что-нибудь да придумаю. Может по кусочкам в игру внесу. Может по более мелким, но частым ивентам растащу.
Надо сесть и подумать. И посчитать - самое главное. По одному кораблику изредка пускать - это проще, чем сразу пол-дюжины. И нет вариантов что строить - т.е. можно легче посчитать последствия. И следить потом за балансом проще. И наиболее одиозные кораблики (кха-спутники-кхх) можно исключить.



"Уники"
    - Юниты с уникальными характеристиками, которые можно приаттачить куда-нибудь: к игроку, планете, флоту, луне

Анти-РМФ - убедиться, что никто, кроме владельца планеты, не получает инфу о бое за 1 раунд

Выборы Императора Сервера

Миниигра: собирать отряд Героев и отправлять их в суперэкспы
    - Лутер: сходить в экспу, набить чего-то, повторить.
    - Приключения вместо эксп


https://aftershock.news/?q=node/752122


[*] Игровая система помощи



[*] Раса-7. "Разнообразие" (?), "Отверженные" (?), "Скитальцы"/"Странники" (?)
    - .7race.txt


[*] TOR - Tactic, Operation, Resources
    ТОР - Тактика, Операции, Ресурсы
    Аттрибуты:
        - Удача - только на себя
        - Неудача - на всех в бою

[*] ТуДу
    - Пофиксить баги
    - Переехать под CentOS 7/PHP 7
        - Виртуальная машина
        - Скрипт установки
    - Платежные системы
        - Перевести игру на новый айпишник
        - ВебМани
        - Интеркасса
        - ПейПал (?)
        - ЯндексБабло
    - Договр с иксоллой
    - Авторизация через внешние источники
        - Гугль
        - Доделать вконтакт
        - ВК
        - ОК
    - Боты
        - Пираты в экспе
        - Сторящий бот
    - Раса-7
    - Распотрошить ОвК
    - Новый темплейт
    - Вернуть ЯД-Метрику
        - http://tods-blog.com.ua/statistics/metrika-ukraine/
    - Самонастраивающееся меню
    - Система помощи
    - Ачивки
    - Квесты
    - Интеграция с форумом
    - Jira/Trello
    - Запуск сервера на английском
        - Перевод на Английский

[*] Починить редактирование планет - модуль admin_planet_edit


!!!!!!!!!!!!!
[*] Добавить штраф +10% за счёт каждого следующего флота
    - game_noob_factor

[*] Сделать разрешение на обратную атаку
    - Не давать уходить в отпуск на это время
    - Так же проверять вылетающие флоты в отпуск


#ctv

[*] Переработать маинтенанс таблиц безопасности
[*] Переделать запись SQL-запросов в лог:
        - debug_backtrace() должен выполнятся при записи ошибочного запроса ? Проверить - будет ли он работать так при вызове в хандлере ошибок и/или хандлере окончания операции
        - Писать без <br/> - в сыром виде
            - Переделать вывод логов с учётом этого

!!! Конвертировать артефакты за ТМ


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! О! Надо сделать запоминания прошлой системы платежей!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

!!!!!!!! НЕ НАЧИСЛЯТЬ ТМ в ивентах тем, кто в отпуске и/или забанен и/или неактивен!

!!!!!!!! При логине/регистрации кнопка "Показать пароль" не меняет содержание на "Скрыть пароль" после нажатия и показа пароля


!!!!!!!!!!!! Исправить - заодно переделать на <span>
[15.08.2019 23:12:05]
Sandra
>
а... теперь и zz увидела
[15.08.2019 23:13:25]
Sandra
>
а когда в чате поднимаешься наверх - опять вниз сбрасывает
[15.08.2019 23:14:43]
Sandra
>
неудобно - нужные строки меню(слева) сложно поймать
[15.08.2019 23:16:05]
Sandra
>
я не в приложении, а в браузере с телефона играю


[*] <input type="text" placeholder="Enter your user name">



#ctv



[*] Иконки для платёжных систем
    Картинка билайна
    Картинка applepay

[*] UnitPay
    Добавить PayPal
    Добавить ApplePay


!!!!!!!!!!! Протестировать все методы прямой оплаты у агрегаторов !
    - Интеркасса
      + PAYMENT_METHOD_MOBILE_MTS       => 'mts_mpay_merchantContent_rub',
      + PAYMENT_METHOD_MOBILE_MEGAPHONE => 'megafon_mpay_merchantContent_rub',
      + PAYMENT_METHOD_MOBILE_BEELINE   => 'beeline_mpay_merchantContent_rub',
      + PAYMENT_METHOD_EMONEY_QIWI      => 'qiwi_qiwi_wallet2wallet_rub',
      + PAYMENT_METHOD_EMONEY_YANDEX    => 'yandexmoney_yandexmoney_merchant_rub',
    - Остальные?

Так, с валютами разобраться. Например:
WebMoneyZ считает в WMZ
Но юнитпей принимает только рубли
И при этом предлагает сумму в баксах
Но игроку надо показать сумму в WMZ


Кэшировать реальную стоимость оплат по провайдерам или брать из таблицы payments

[*] Переделать PaymentMethods::$payment_methods - разбить и юзать?


[*] При РМФ не отсылать флоты - сделать опцию

#page>div.logo+ul#navigation>li*5>a{Item $$$}


[*] adm_user_stat - кажется, не нужен? Это, кажется, модуль?

[*] В модулях позаменять design/templates - там они всё равно неправильно используются

[*] Убрать <!-- INCLUDE page_hint -->

[*] Убрать gettemplate из основного кода - параметры передавать через $template_result
    - assign_block_vars




!!!!! В настройках игрока при сохранении опять дублируется сообщение в хидере


!!! Отключить поддержку вертикальных ресурсбаров в виде таблицы - и сделать недоступным соответствующую комбинаци опций
    - Может переделать старый ресурсбар в виде флекса?

https://ourcodeworld.com/articles/read/674/top-7-best-php-http-client-libraries

#ctv


[*] going for sass/scss compass sass http://compass-style.org/
[*] gradle -> npm


[*] Интересный факт : если выбрать какую-то постройку, исследование или юнита, а затем навести мышь на другого и не выбирать его, а просто кликнуть "+", то в очередь попадет та, которая была выбрана, а не та, на которую был клик

В чате на тесте писали по поводу прыгающего чата на телефоне. Так вот это происходит если после нажатия на строку ввода (и появления клавиатуры) начать листать страницу чата. Каждые 2-3 секунды экран перекидывает на строку ввода.
 Телефон, браузер хром.

 (Chaka[NewSTAR])Ну, оно так и было раньше вообще-то. Список планет на экране был. Другой вопрос, что надо подумать - может добавить в "Настройках" отключение списка планет для мобильщиков


<VirtualHost *:80>
    ServerName c7.local
    DocumentRoot /var/www/c7.local

    <IfModule mpm_event_module>
        ProxyPassMatch ^/(.*\.php(/.*)?)$ fcgi://127.0.0.1:9000/var/www/c7.local/$1
    </IfModule>

    <Directory "/var/www/c7.local/">
        DirectoryIndex index.php index.html index.htm
    </Directory>

    ErrorLog /var/log/httpd/error.log
    TransferLog /var/log/httpd/access.log
</VirtualHost>

https://phpdelusions.net/pdo/fetch_modes#FETCH_LAZY


#ctv


[*] !!!!!!! Добавить оповещение об атаке в правом нижнем углу как position absolute?
    - Туда же - оповещение о новых сообщениях от игроков
    - Настройки как это показывать

!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Сделать ежедневное обновление времени просчёта для игроков, которые давно оффлайн


see .___logs.txt

https://stackoverflow.com/questions/14359926/send-http-request-from-php-without-waiting-for-response
https://stackoverflow.com/questions/124462/how-to-make-asynchronous-http-requests-in-php?noredirect=1&lq=1
    In my testing, using exec("curl $url > /dev/null 2>&1 &"); is one of the fastest solutions here. It's immensely faster (1.9s for 100 iterations) than the post_without_wait() function (14.8s) in the "accepted" answer above. AND it's a one-liner... – rinogo Jan 28 '16 at 20:29
https://stackoverflow.com/questions/1019867/is-there-a-way-to-use-shell-exec-without-waiting-for-the-command-to-complete?noredirect=1&lq=1


[*] Карты на конкретные ауткомы в Экспедициях

[*] https://stackoverflow.com/questions/32378953/keep-the-middle-item-centered-when-side-items-have-different-widths
        https://jsfiddle.net/wqLezyfe/2/

[*] https://myip.ms/info/whois/<IP ADDRESS>#w
[*] ну вот есть на карте кнопка ракетного залпа.а рядом кнопку Добавить в закладки. и что бы появлялись там координаты и имя игрока. при нажатии автоматом.
[*] // TODO Check URL timestamp when checking signature
    if (INITIAL_PAGE === 'worker' && SN::$gc->request->url->isSigned()) {
[*] НАСТРОЙКА - покзаывать в списке планет Обзора луны отдельно от планет
[*] В блоке планеты - передвинуть значок входящего флота вниз. Продублировать значок опасности внизу
[*] $FIELD_COLOR
[*] Опция "Всегда показывать горизонтальный список планет
    Отцентрировать горизонтальный список для Оперы


2021-06-25 12:18:51 - ERROR
array (
  'type' => 1,
  'message' => 'Maximum execution time of 300 seconds exceeded',
  'file' => '/srv/www/vhosts/alpha.supernova.ws/classes/classCache.php',
  'line' => 189,
)
NULL


2021-06-25 12:23:55 - ERROR
array (
  'type' => 1,
  'message' => 'Maximum execution time of 300 seconds exceeded',
  'file' => '/srv/www/vhosts/alpha.supernova.ws/classes/classCache.php',
  'line' => 189,
)
NULL


[*] error: template->_tpl_load_file(): File modules/ali_ally_player/design/templates/OpenGame/eco_queue.tpl.html does not exist or is empty
[*] error: template->_tpl_load_file(): File modules/player_login_token/design/templates/OpenGame/player_login_token_popup.tpl.html does not exist or is empty
[*] warning: Flying fleet handler works 3
    Flying fleet handler works 4.0210 (> 3) seconds - skip rest. Processed 12 events. Last event: mission Экспедиция event Прибытие (1.0681s)
    Flying fleet handler works 4.7837 (> 3) seconds - skip rest. Processed 4 events. Last event: mission Экспедиция event Прибытие (3.1765s)

    ? Почему так долго
[*] Stat worked too long - watchdog unlocked
[*] Duplicate entry ' - когда пытаются ломать. Уменьшить длину поля для УРЛа - всё равно у меня длинного УРЛа не бывает
[*] ERROR: Unknown column 'subject.raidswin' in 'field list'<br />/* tID 439<br />(DBAL\db_mysql)DBAL\db_mysql->doquery() - 'includes/db.php' Line 115<br />doquery() - 'includes/db/db_queries.php' Line 171<br />db_stat_list_statistic() - 'stat.php' Line 109<br /> */ SELECT @rownum:=@rownum+1 AS rank, subject.blitz_player_id as `id`, @rownum as rank_old, subject.raidswin as points, subject.blitz_name as name, subject.* FROM (SELECT @rownum:=800) r, game_blitz_registrations AS subject WHERE subject.user_as_ally is null ORDER BY subject.raidswin DESC, subject.blitz_player_id LIMIT 800,100;<br />


2023-03-04 15:32:28		SQL Error	Deadlock found when trying to get lock; try restarting transaction<br />/* tID 521<br />(DBAL\db_mysql)DBAL\db_mysql->doquery() - 'classes/SN.php' Line 336<br />SN::db_query_select() - 'classes/SN.php' Line 432<br />SN::db_get_record_list() - 'classes/Planet/DBStaticPlanet.php' Line 39<br />Planet\DBStaticPlanet::db_planet_by_gspt_safe() - 'classes/Planet/DBStaticPlanet.php' Line 59<br />Planet\DBStaticPlanet::db_planet_by_vector() - 'includes/functions/eco_planet_update.php' Line 43<br />sys_o_get_updated() - 'classes/Pages/Deprecated/PageFleet5Gathering.php' Line 57<br />(Pages\Deprecated\PageFleet5Gathering)Pages\Deprecated\PageFleet5Gathering->flt_build_gathering() - 'classes/Pages/Deprecated/PageFleet5Gathering.php' Line 273<br />(Pages\Deprecated\PageFleet5Gathering)Pages\Deprecated\PageFleet5Gathering->viewPage5Gathering() - 'fleet.php' Line 240<br /> */ SELECT * FROM game_planets WHERE game_planets.`galaxy` = 8 AND game_planets.`system` = 250 AND game_planets.`planet` = 11 AND game_planets.`planet_type` = 1 FOR UPDATE<br />
2023-03-04 15:32:29		SQL Error	Deadlock found when trying to get lock; try restarting transaction<br />/* tID 481<br />(DBAL\db_mysql)DBAL\db_mysql->doquery() - 'classes/SN.php' Line 336<br />SN::db_query_select() - 'classes/SN.php' Line 432<br />SN::db_get_record_list() - 'classes/SN.php' Line 631<br />SN::db_que_list_by_type_location() - 'includes/functions/eco_queue.php' Line 409<br />que_get() - 'includes/functions/eco_queue.php' Line 546<br />que_process() - 'includes/functions/eco_planet_update.php' Line 52<br />sys_o_get_updated() - 'common.php' Line 47<br />include() - 'buildings.php' Line 17<br /> */ SELECT * FROM game_que WHERE `que_player_id` = 7240683 AND (`que_planet_id` = 7485628 OR que_planet_id IS NULL) FOR UPDATE<br />
2023-03-04 15:33:46		SQL Error	Deadlock found when trying to get lock; try restarting transaction<br />/* tID 560<br />(DBAL\db_mysql)DBAL\db_mysql->doquery() - 'classes/SN.php' Line 336<br />SN::db_query_select() - 'classes/SN.php' Line 432<br />SN::db_get_record_list() - 'classes/SN.php' Line 578<br />SN::db_get_unit_list_by_location() - 'classes/Unit/DBStaticUnit.php' Line 34<br />Unit\DBStaticUnit::db_unit_by_location() - 'classes/DBAL/OldDbChangeSet.php' Line 51<br />DBAL\OldDbChangeSet::db_changeset_prepare_unit() - 'includes/functions/eco_queue.php' Line 657<br />que_process() - 'includes/functions/eco_planet_update.php' Line 52<br />sys_o_get_updated() - 'classes/Pages/Deprecated/PageOverview.php' Line 130<br />(Pages\Deprecated\PageOverview)Pages\Deprecated\PageOverview->overview() - 'classes/Pages/Deprecated/PageOverview.php' Line 78<br />(Pages\Deprecated\PageOverview)Pages\Deprecated\PageOverview->route() - 'overview.php' Line 38<br /> */ SELECT * FROM game_unit WHERE unit_location_type = 1 AND unit_location_id = 7455347 AND (unit_time_start IS NULL OR unit_time_start <= FROM_UNIXTIME(1677936805)) AND (unit_time_finish IS NULL OR unit_time_finish = '1970-01-01 03:00:00' OR unit_time_finish >= FROM_UNIXTIME(1677936805)) FOR UPDATE<br />

2022-10-23 03:29:11		SQL Error	You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '{{blitz_alliance}} AS subject ON subject.id = sp.id_ally LEFT JOIN game_blitz_st' at line 1<br />/* tID 444<br />(DBAL\db_mysql)DBAL\db_mysql->doquery() - 'includes/db.php' Line 115<br />doquery() - 'includes/db/db_queries.php' Line 171<br />db_stat_list_statistic() - 'stat.php' Line 109<br /> */ SELECT @rownum:=@rownum+1 as rownum, subject.id as `id`, sp.total_rank as rank, sp.total_old_rank as rank_old, sp.total_points as points, subject.ally_name as name, subject.ally_tag, subject.ally_members FROM (SELECT @rownum:=0) r, game_blitz_statpoints AS sp LEFT JOIN {{blitz_alliance}} AS subject ON subject.id = sp.id_ally LEFT JOIN game_blitz_statpoints AS sp_old ON sp_old.id_ally = subject.id AND sp_old.`stat_type` = 2 AND sp_old.`stat_code` = 2 WHERE sp.`stat_type` = 2 AND sp.`stat_code` = 1 ORDER BY sp.`total_rank`, subject.id LIMIT 0,100;<br />
2022-10-25 09:08:37		SQL Error	You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '\"' at line 1<br />/* tID 465<br />(DBAL\db_mysql)DBAL\db_mysql->doquery() - 'classes/SN.php' Line 336<br />SN::db_query_select() - 'classes/SN.php' Line 432<br />SN::db_get_record_list() - 'classes/SN.php' Line 631<br />SN::db_que_list_by_type_location() - 'includes/functions/eco_queue.php' Line 409<br />que_get() - 'includes/includes/eco_bld_structures.php' Line 115<br />sn_eco_build() - '' Line _UNDEFINED_<br />call_user_func_array() - 'includes/general/general.php' Line 52<br />sn_function_call() - 'includes/includes/eco_bld_structures.php' Line 16<br />eco_build() - 'buildings.php' Line 52<br /> */ SELECT * FROM game_que WHERE `que_player_id` = 7211448 AND (`que_planet_id` = 7269267) AND `que_type` = 6\"<br />
2022-11-18 15:25:39		SQL Error	You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '{{blitz_alliance}} AS subject ON subject.id = sp.id_ally LEFT JOIN game_blitz_st' at line 1<br />/* tID 441<br />(DBAL\db_mysql)DBAL\db_mysql->doquery() - 'includes/db.php' Line 115<br />doquery() - 'includes/db/db_queries.php' Line 171<br />db_stat_list_statistic() - 'stat.php' Line 109<br /> */ SELECT @rownum:=@rownum+1 as rownum, subject.id as `id`, sp.total_rank as rank, sp.total_old_rank as rank_old, sp.total_points as points, subject.ally_name as name, subject.ally_tag, subject.ally_members FROM (SELECT @rownum:=0) r, game_blitz_statpoints AS sp LEFT JOIN {{blitz_alliance}} AS subject ON subject.id = sp.id_ally LEFT JOIN game_blitz_statpoints AS sp_old ON sp_old.id_ally = subject.id AND sp_old.`stat_type` = 2 AND sp_old.`stat_code` = 2 WHERE sp.`stat_type` = 2 AND sp.`stat_code` = 1 ORDER BY sp.`total_rank`, subject.id LIMIT 0,100;<br />
2022-11-18 18:33:39		SQL Error	You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '{{blitz_alliance}} AS subject ON subject.id = sp.id_ally LEFT JOIN game_blitz_st' at line 1<br />/* tID 439<br />(DBAL\db_mysql)DBAL\db_mysql->doquery() - 'includes/db.php' Line 115<br />doquery() - 'includes/db/db_queries.php' Line 171<br />db_stat_list_statistic() - 'stat.php' Line 109<br /> */ SELECT @rownum:=@rownum+1 as rownum, subject.id as `id`, sp.total_rank as rank, sp.total_old_rank as rank_old, sp.total_points as points, subject.ally_name as name, subject.ally_tag, subject.ally_members FROM (SELECT @rownum:=0) r, game_blitz_statpoints AS sp LEFT JOIN {{blitz_alliance}} AS subject ON subject.id = sp.id_ally LEFT JOIN game_blitz_statpoints AS sp_old ON sp_old.id_ally = subject.id AND sp_old.`stat_type` = 2 AND sp_old.`stat_code` = 2 WHERE sp.`stat_type` = 2 AND sp.`stat_code` = 1 ORDER BY sp.`total_rank`, subject.id LIMIT 0,100;<br />
2022-11-20 14:45:13		SQL Error	You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '{{blitz_alliance}} AS subject ON subject.id = sp.id_ally LEFT JOIN game_blitz_st' at line 1<br />/* tID 439<br />(DBAL\db_mysql)DBAL\db_mysql->doquery() - 'includes/db.php' Line 115<br />doquery() - 'includes/db/db_queries.php' Line 171<br />db_stat_list_statistic() - 'stat.php' Line 109<br /> */ SELECT @rownum:=@rownum+1 as rownum, subject.id as `id`, sp.total_rank as rank, sp.total_old_rank as rank_old, sp.total_points as points, subject.ally_name as name, subject.ally_tag, subject.ally_members FROM (SELECT @rownum:=0) r, game_blitz_statpoints AS sp LEFT JOIN {{blitz_alliance}} AS subject ON subject.id = sp.id_ally LEFT JOIN game_blitz_statpoints AS sp_old ON sp_old.id_ally = subject.id AND sp_old.`stat_type` = 2 AND sp_old.`stat_code` = 2 WHERE sp.`stat_type` = 2 AND sp.`stat_code` = 1 ORDER BY sp.`total_rank`, subject.id LIMIT 0,100;<br />


#ctv

2023-05-13 09:42:39 46a23
[@] Code
    Немного перераспределил функции для флота внутри кода

2023-02-10 19:39:59 45d3
[~] Юниты
    Поддержка Фестиваля "СНГ-2023"


2022-05-26 07:35:13 46a21
[~] Юниты
    Поддержка Фестиваля "ДР-2022"


2022-01-20 05:37:05 45d2
[~] Юниты
    Поддержка Фестиваля "СНГ-2022"


2021-03-03 13:41:05 46a13
[~] Личные сообщения
    Немного приглушен цвет сообщений от Администрации

[#] Модули
    Поддержка подарков на 8 марта


2021-03-02 08:46:06 46a9
[~] Админка
    Восстановлено обслуживание таблиц БД, относящихся к безопасности


2021-03-02 08:43:10 46a8
[~] Картинки
    Немного уменьшены размер некоторых изображений


2020-12-11 11:56:23 46a3
[~] Юниты
    Поддержка Фестиваля "СНГ-2021"


2020-08-25 08:45:44 45d2
[~] Установка/обновление
    Обновлены SQL-файлы установки
    Улучшен процесс установки/обновления


2020-07-27 12:12:06 45d1
[!] Документация
    Переделана в формат MarkDown:
        - /README -> /README.MD
        - /docs/install.txt -> /docs/install.md
        - /docs/install-en.txt -> /docs/install-en.md

[!] Установка/обновление
    Улучшен процесс установки/обновления
    Расширен раздел, посвященный проблемам с установкой или обновлением в файлах /docs/install.md и /docs/install-en.md


2020-07-27 10:08:44 45d0
[!] Project "SuperNova.WS" Release 45 "11 years anniversary"
    Project "SuperNova.WS" Release 45 "11 years anniversary"
    Обновлен docs/changelog.txt


2020-07-08 10:35:10 45a118
[~] Навбар
    Поддержка кнопки "Оборона"


2020-06-25 10:30:33 45a113
[@] Код
    sn_timer.js: исправлена несовместимость со старыми версиями JS


2020-06-21 10:40:09 45a109
[@] Код
    CSS:
        - Добавлена возможность отключать наложение скинов на элементы управления (input, button) у всех дочерних элементов сразу
    Навбар:
        - Количество ресурсов в ресбаре теперь всегда выравнивается по правой стороне ячейки
    Меню:
        - Раскраска пунктов меню теперь снимается через CSS, а не через JS
        - Вид пунктов меню кнопки/ссылки теперь переключается через CSS, а не через JS
        - Кнопка показа/скрытия меню теперь привязывается к самому меню, а не к абсолютным координатам
    sn_timer.js:
        - Добавлена поддержка human-readable времени в sn_timer.js
        - Исправлена ошибка, когда длина бара в таймере отсчёта могла быть > 100%


2020-06-18 10:16:27 45a102
[@] Код
    Немного откорректирован код для поддержки других темплейтов


2020-06-14 09:40:35 45a97
[~] Юниты
    Поддержка Фестиваля "ДР СН-2020"


2020-05-30 11:22:16 45a95
[%] Чат
    Исправлена ошибка с утерей фокуса при наборе сообщения дольше 5 секунд


2020-05-21 16:39:55 45a94
[~] Список планет
    Унифицирован показ статуса планеты (Столица, Луна):
        - Теперь "Обзоре планеты" и "Империи" статус планеты показывается соответствующим значком;
        - На страницах, указанных выше, а так же в меню выбора планеты для Луны Столицы показывается оба значка
    В "Обзоре" теперь название и координаты планеты/луны показываются в самом низу блока планеты
[@] Темплейт
    Список планет: темплейт планеты списка вынесен в отдельный файл
    Империя:
        - Темплейт ячейки ресурсов вынесен в отдельный файл;
        - Уменьшен размер создаваемого файла примерно на 5%.


2020-05-19 08:08:36 45a88
[!] Чат
    Полностью новый чат
    Встроенная система команд с поддержкой алиасов команд
    Встроенная система помощи по командам чата - команда /help
    Добавлен список игроков в чате с дополнительными иконками статуса и командами управления для админов
    Возможность игрокам управлять своим состоянием видимости в чате - команда /invisible. Администрация сервера (authlevel > 0) всегда видит невидимок
    Возможность отправлять приватные сообщения другим игрокам - команда /whisper. Приватные сообщения выделяются специальным образом, видны во всех каналах и сохраняются в истории чата. В приватных сообщенях нельзя употреблять форматирование цветом
    Администраторы имеют возможность запретить игроку писать в чат на определенный срок или вернуть такую возможность - соответственно, команды /mute и /unmute. Запрет распространяется на все каналы и на возможность писать личные сообщения. Соответствующая иконка в списке игроков лишает его права голоса на 1 час
    Администраторы имеют возможность блокировать и разблокировать игроков прямо из чата - соответственно, команды /mute и /unmute. Иконка в списке игроков банит его на 1 неделю
    Системные и приватные сообщения выделяются жирным шрифтом
    Скорость обновления в AJAX части чата регулируется переменной 'chat_refresh_rate'
    Игроки из онлайн-списка исчезают сразу после выхода из чата - таймаут попадания в список установлен как удвоенный 'chat_refresh_rate'
    В чате доступен расширенный функционал BBCode


2020-05-06 10:37:35 45a87
[~] Локализация
    Немного английской локализации


2020-05-06 10:29:09 45a86
[~] Локализация
    Немного английской локализации


2020-05-06 10:10:56 45a85
[@] Модули
    Исправлены ошибки включения отсутствующих общих темплейтов


2020-04-18 17:49:48 45a79
[%] Task/Lock
    Исправлены ошибки взаимодействия разный воркера диспетчера флотов и ЧЛ/ОвК


2020-04-18 15:36:05 45a77
[@] Темплейты
    Вынесены кнопки навбара в отдельный файл
[@] Код
    Поддержка Хайспотов Фестиваля ЧЛ/ОвК


2020-02-18 22:18:16 45a74
[%] Флоты
    Исправлена ошибка


2020-02-18 22:15:57 45a73
[%] Флоты
    Исправлена ошибка


2020-02-18 22:07:00 45a72
[%] Флоты
    Исправлена ошибка


2020-02-18 21:00:19 45a71
[!] Код
    Новая система рабочих процессов Worker

[!] Флоты
    Диспетчер флотов теперь использует системы Task+Worker и является неблокирующим
    Таким образом, теперь нет визуальных задержек на обсчёт флотов (кому-то из игроков раньше не везло каждые 4 секунды)
    Так же флоты обсчитываются не кусками по 3 секунды, а в пределах, заданным параметром `fleet_update_max_run_time` (30 секунд по умолчанию)


2020-02-09 21:08:55 45a70
[!] Код
    Новая система задач и блокировок (Task/Lock)
    Пока используется только для обсчёта летящих флотов


2020-02-08 09:14:02 45a65
[@] Код
    Поддержка обновления core_festival


2020-01-15 08:50:14 45a61
[+] Код/Скины
    Добавлена поддержка формата изображений WebP


2020-01-12 09:43:34 45a56
[@] Код
    Поддержка НГ-2019/2020


2020-01-01 14:38:28 45a54
[%] Локализация
    Исправлена очепятка в описании плотностей


2019-10-28 09:31:45 45a50
[%] Платежи
    Исправлена ошибка, когда установлен только один модуль платежей с одним методом платежа типа Generic


2019-10-27 15:37:15 45a49
[@] Код
    Поддержка модуля `payment_payu_rest`


2019-10-17 09:28:49 45a45
[%] Интерфейс/Результат операции
    Исправил сползание блока с результатом операции в случае, если есть другой инлайн-блок ниже "по течению"


2019-10-17 09:18:21 45a44
[+] Интерфейс/Обзор планеты
    В экспериментальном порядке дизайн страницы "Обзор Планеты" сделан респонзивным.
    Т.е. на широких экранах элементы страницы - инфа о планете, список планет и список флотов в полете - будут выстроены в три колонки на всю ширину монитора
    На мобильных устройствах устройствах с узкими дисплеями элементы страницы будут располагаться друг под другом

[%] Интерфейс/Результат операции
    Наконец-то отследил и убрал все задвоения сообщений о результатах операции
[%] Интерфейс/Логин
    Исправлено форматирование
    Изменена надпись "Имя игрока или е-мейл" на просто "Е-мейл"
[%] Интерфейс/Копирайт
    Исправлен вывод версии патча БД
[%] Интерфейс
    Поправлено форматирование на страницах:
        - Настройки
        - Император
        - Управление Альянсом


2019-10-08 06:28:37 45a43
[%] Интерфейс
    Исправлены ошибки форматирования на страницах: Император, Квест, Чёрный Рынок и некоторые другие


2019-10-07 16:30:24 45a40
[~] Интерфейс/Обзор планеты
    Немного переверстана страница


2019-10-07 16:11:55 45a39
[%] Интерфейс/Подсказки
    Исправлена ошибка рендеринга Подсказок вне враппера контента для темплейтов, рендерящих страницу целиком


2019-09-30 12:46:46 45a36
[%] Интерфейс/Обзор планеты
    Исправлен визуальный глюк


2019-09-30 12:36:52 45a35
[%] Исследования
    Исправлена ошибка, позволяющая запустить исследование на одной планете в то время, когда на другой планете строится/исследуется Лаборатория или Нанолаборатория при отключенной настройки сервера "BuildLab"
    Исследования блокируются даже если Лаборатория или Нанолаборатория сейчас не строятся, а просто находятся в очереди построек

[@] Код/Темплейты
    Из хидера страницы извлечены тематические куски в отдельные файлы; стили, подключение JS итд
    Общие элементы темплейта страницы (хидер, футер, куски внутри хидера, навбар итд) вынесены в отдельную папку


2019-09-05 12:12:36 45a31
[@] Код
    JS таймер отчета (например - показ ресурсов псевдо-онлайн) теперь может работать по имени класса, а не только по ИД - т.е. управлять сразу несколькими элементами
    Бенчмарк теперь старается вставить данные о производительности в <body>, а не после
    Теперь SnTemplate может выводить страницу целиком. Это даёт возможность объединить хидер и футер в один файл
    SnTemplate::display() теперь закрывает все существующие буффера вывода


2019-09-03 16:27:40 45a30
[@] Код
    Удалены неиспользуемые файлы

[@] Код/Темплейты
    Теперь если у темплейта нет родителя или он не существует, то в качестве fallback темплейта используется темплейт по умолчанию


2019-09-03 01:44:27 45a26
[@] Код/Темплейты
    Добавлена поддержка наследования темплейтов (см. _template.ini):
        - Поддерживается только один уровень наследования
        - Поддерживается наследование и дозагрузка _template.css
    Добавлена поддержка переключения темплейтов (альфа-версия без вывод в интерфейс игроков)
    Убраны глобальные константы, относящиеся к темплейтам: TEMPLATE_NAME, TEMPLATE_DIR, TEMPLATE_PATH
    Добавлен метод для добавления JS файлов в темплейт из PHP
    Класс SnTemplate перенесен в каталог классов и использует автолоадер


2019-09-02 20:54:12 45a23
[~] Платежи/Интерфейс
    Улучшен вид страниц платежа:
        - Переработан вывод списков предустановленных валют, методов платежей, списка модулей
        - Почищен код страниц
        - Улучшена работа JS
        - Стили вынесены в файл стилей

[~] Планета/Переименование
    Теперь при переименовании планеты на странице "Обзор" и "Управление планетой" имя планеты меняется сразу, а не после повторного обновления страницы

[~] Интерфейс/Результат операции
    В темплейт заголовка добавлена проверка для избежания двойного вывода
    Убрано подключение вывода результата на страницах
        - "Темная Материя"/"Метаматерия"
        - "Ресурсы"
        - "Управление планетой"
        - "Переименование галактики/системы"

[~] Интерфейс/Подсказки
    Подсказка теперь подключается при рендеринге страницы, а не в темплейте
    В темплейт подсказки добавлена проверка для избежания двойного вывода
    Убрано подключение подсказки на страницах:
        - "Переименование галактики/системы"

[@] Код/JS
    Объект language теперь имеет метод addLocale для добавления в него строк локализаций

[@] Код/PHP
    Начат рефакторинг файла includes/template.php:
        - Создан новый класс SnTemplate, куда перенесена часть функций в виде статических методов


2019-08-22 02:38:16 45a21
[%] Платежи
    Исправлена ошибка, когда одному платёжному методу соответствует только один модуль

[@] Код/Платежи
    Рефакторинг кода платежей


2019-08-21 20:14:18 45a19
[!] Модули
    Изменена система версионирования модулей
    Теперь в качестве версии модуля используется версия билда, в котором были закоммичены изменения

[~] Платежи
    Немного переверстана страница выбора способа оплаты

[@] Код/Платежи
    Рефакторинг кода платежей


2019-08-19 17:21:50 45a16
[~] Альянсы/Рекомендуемые Альянсы
    Теперь список РА показывается и при простом заходе на страницу Альянса без поиска других Альянсов


2019-08-19 17:03:22 45a15
[+] Альянсы/Поиск
    В результаты поиска Альянсов и в "Рекомендуемые Альянсы" (см. ниже) добавлены две колонки:
        - Колонка "Разница в очках" указывает на разницу между количеством очков у игрока и средним количеством очков на одного игрока в Альянсе. Если она отрицательная - средний игрок в Альянсе имеет больше очков, чем текущий игрок
        - Колонка "Рейт" указывает на соотношение между количеством очков у игрока и средним количеством очков на одного игрока в Альянсе. Если она меньше единицы - средний игрок в Альянсе слабее, чем текущий игрок
    Для игрока без Альянса на странице поиска Альянса добавлен список "Рекомендуемые Альянсы" (далее - РА):
        - В РА попадают Альянсы, чьё среднее количество очков на игрока в Альянсе не более чем в 5 раз отличается от количества очков текущего игрока
        - РА сортируется по убыванию модуля разницы очков между количеством очков игрока и средним количеством очков Альянса
    Нужно отметить, что для начинающих игроков список РА будет, скорее всего, пуст - почти нет активных Альянсов, в которые входят только начинающие игроки
    Чем дальше играет и развивается игрок, тем больше Альянсов будет в этом списке. Однако, по мере приближения к Топу сервера, этот список будет очевидным образом сужаться


2019-08-16 08:06:29 45a14
[~] ЛС
    Добавлена иконка игнора в список сообщений


2019-08-15 21:10:03 45a13
[!] Админка/Редактирование планет
    Переписана и включена админка редактирования планет. Можно редактировать:
        - Строения
        - Флот
        - Оборону
        - Ресурсы
    Можно как добавлять юниты, так и удалять их (вводя значения с минусом)
    На экране просмотра игрока добавлена вкладка со списком планет, клик на которых открыает экран редактирования планеты

[~] Чат/Интерфейс
    Отключёны автозамена/автокоррекция/итд в строке ввода сообщения

[%] Скины/EpicBlue
    Добавлена подсветка активного таба в списке табов


2019-08-15 18:11:08 45a9
[%] Игрок
    playerTimeDiff: Исправлена ошибка в strict mode


2019-08-15 00:10:48 45a8
[!] Личные сообщения
    Переработан вид сообщений
    Добавлена функция игнора игроков в ЛС:
        - В личных сообщениях добавлена возможность добавить игрока в игнор-лист
        - Сообщения от игроков в игнор-листе не видны в списке ЛС
        - Убрать игрока из игнор-листа можно на соответствующей вкладке в "Настройках"

[@] Код
    Защита от некорректно объявленного класса-потомка RecordV2


2019-08-05 07:28:53 45a3
[@] Код
    Глобальные константы PlayerTimeDiff перенесены в константы класса


2019-07-30 09:19:03 45a1
[@] Код
    Весь код, относящийся к замеру разницы времени, внесён в класс PlayerTimeDiff


2019-07-27 08:22:05 44d0
[!] Project "SuperNova.WS" Release 44 "10 years anniversary"
    Project "SuperNova.WS" Release 44 "10 years anniversary"


2019-07-13 15:40:48 44a109
[~] Платежи
    Добавлена поддержка отображения приблизительной конечной цены при покупке ММ (не для всех платёжных систем)
    Немного перевёрстана страница платежей

[@] Код
    PTL: Добавлен подтип `money` в декоратор `numeric`


2019-07-08 10:52:54 44a107
[%] Платежи
    Исправлена ошибка при выборе платёжной подсистемы в СН


2019-07-08 10:09:17 44a104
[~] Платежи
    Поддержка модуля payment_unitpay_form


2019-07-04 12:03:06 44a102
[~] Платежи
    Поддержка модуля payment_interkassa_form


2019-06-25 06:06:10 44a100
[~] Альянсы
    Добавлена ссылка на страницу статистики Альянсов - список всех Альянсов и их статистика


2019-06-25 05:51:29 44a99
[~] Контакты
    Добавлена ссылка на ЛС членов администрации сервера
    Немного переверстана страница


2019-06-07 21:42:31 44a87
[@] Код
    Поддержка 10-летия СН


2019-05-26 16:46:32 44a84
[%] Юниты
    Исправлена ошибка в локализации в предыдущем коммите


2019-05-26 16:29:58 44a83
[~] Юниты
    Добавлена поддержка юнитов, которые игрок не может построить, но может получить в ходе Фестиваля или других активностей - требование UNIT_CAN_NOT_BE_BUILD


2019-03-01 08:56:50 44a73
[@] Код
    Улучшена работа с метаинформацией о таблицах в БД


2019-03-01 04:44:01 44a71
[@] Апдейтер
    Отдельный класс Updater для функций апдейтера


2019-02-12 06:34:47 44a41
[~] Безопасность
    Небольшой апдейт системы безопасности


2019-01-19 13:34:11 44a35
[+] Флоты/САБ
    Максимальное количество флотов в САБе ограничено 5
    Теперь САБ ограничивается по сумме очков игроков:
        - Ограничение распространяется так же и в большую сторону, т.е. при атаке "слабыми" игроками "сильных"
        - В остальном - правила и коэфициенты те же, что и при расчёте сильных/слабых игроков (ака "нуб-защита")


2018-12-29 15:53:35 44a32
[@] Код
    Поддержка СНГ-2019


2018-12-28 12:08:14 44a26
[+] Админка/Активность игрока
    Красным баром добавлен процент активности в данном часе


2018-12-28 10:46:15 44a25
[!] Админка/Активность игрока
    Добавлен просмотр активности игрока
        - Работает только при включённом счётчике посещений
        - Ссылка - на админской странице просмотра игрока
        - Просмотреть можно активность с 1 января 2018 года
        - Интервал просмотра активности - 1 час
        - Пустой квадратик - активности в этот час не было
        - Заполненный - была активность. При наведении курсора - указывается час и активность в минутах
            - Из-за особенностей работы счётчика активность может быть более 1 часа


2018-12-22 11:42:20 44a12
[+] Счётчик
    Оптимизирована работа счётчика посещений:
        - Добавлена новая таблица `security_query_strings` для записи параметров запроса
            - `counter` теперь ссылается на записи в ней, а не на полный URL страницы
        - Изменена таблица `security_player_entry` - исключён ИД пользователя
            - `counter` теперь ссылается на записи в ней и не содержит поля с ИД устройства, браузера, IP/прокси


2018-12-22 08:27:16 44a10
[@] Модули
    Совместимость с модулем 'ad_promo_code'


2018-12-21 14:20:19 44a7
[@] SQL
    Откат с utf8mb4 к utf8


2018-12-21 14:00:41 44a5
[~] ad_promo_code
    Поддержка модуля 'ad_promo_code'

[@] Код
    db_mysql::doquery() - убран неиспользуемый параметр $table


2018-11-12 22:51:12 43b2
[~] Апдейтер
    Исправлен скрипт установки


2018-11-12 08:49:32 43b0
[!] Project "SuperNova.WS" Release 43 "Double Release" Beta
    Project "SuperNova.WS" Release 43 "Double Release" Beta


2018-11-11 03:12:49 43a19.13
[~] Админка/Альянсы
    В админке теперь отображается форматирование текстов Альянса


2018-11-11 02:45:45 43a19.12
[~] Админка/Альянсы
    Ускорено чтение списка Альянсов

[@] Код
    Класс AccessLogged прокрыт тестами на 100%


2018-06-11 20:47:16 43a19.2
[!] Скины
    Добавлены полноформатные изображения Наёмников


2018-06-11 19:51:26 43a19.1
[!] Скины
    Новые изображения Наёмников и Губренаторов в скине supernova-ivash
    Добавлены большие изображения для Губернаторов


2018-06-11 18:58:54 43a19.0
[!] Скины
    Новые изображения Наёмников и Губренаторов в скине EpicBlue


2018-06-01 06:46:21 43a18.29
[@] Код
    Поддержка 9-летия СН


2018-05-09 14:34:26 43a18.24
[~] Игроки/Счётчики
    Упроядочена работа счётчика игроков онлайн и всего


2018-05-04 13:13:49 43a18.23
[%] Флоты/Транспорт
    Исправлена ошибка невозможности отправить флот в миссию Транспорт


2018-05-04 12:00:45 43a18.22
[~] Флоты/Шпионаж
    Кардинально уменьшена эффективность sputnik-ов


2018-04-29 19:13:23 43a18.21
[%] Флоты
    Исправлена ошибка с отправкой перегруженного флота

[@] Код
    Небольшой рефакторинг кода


2018-04-29 07:28:15 43a18.19
[@] Код
    Рефакторинг кода Новостей


2018-04-27 14:12:00 43a18.11
[@] Код
    Добавлен метод save() в EntityDB - пока без поддержки удаления
    Переписана отправка флотов с частичным использованием объектов Planet и Fleet
    Класс RepoV2 теперь не является имплементацией IController. Соответственно - переписаны магические методы как немагические


2018-04-27 08:49:24 43a18.10
[@] Код
    Функции из includes/db/db_queries_fleet.php переброшены в класс DbFleetStatic


2018-04-24 16:17:54 43a18.8
[@] Код
    Работа над EntiyDB, Fleet и новым кодом Экспедиции


2018-04-24 16:12:45 43a18.7
[@] Код
    В обсчёт статистики добавлена чистка пустых записей ACS


2018-04-24 15:25:25 43a18.6
[@] Код
    Исправлены почти все "ошибки" phpStorm в includes/db/db_queries_fleet.php


2018-04-24 15:22:08 43a18.5
[@] Код
    Трейт TContainer теперь поддерживает табличную трансляцию имён свойств объекта в имена свойств контейнера


2018-04-22 13:29:20 43a18.4
[@] Код
    Добавлена обработка падения игры по таймауту очистки языкового кэша с использованием xcache


2018-04-22 12:43:02 43a18.3
[~] Флоты/Экспедиции
    Теперь в Экспедиции не могут быть найдены ивентовые или уникальные мировые корабли


2018-04-21 16:19:23 43a18.2
[@] Код
    Доработки RepoV2
    RepoV2 используется на страницах:
        - Постройки
        - Ресурсов
        - Обзор Планеты
        - Управление Планетой
    EntityDB:
        - Шпионаж (через MissionData)


2018-04-21 14:08:21 43a18.1
[@] Код
    Новые классы для репозитория и хранилища - RepoV2 и StorageV2


2018-04-21 12:10:38 43a18.0
[@] Код
    Добавлено логгирование фатальных ошибок
    Работа над новым кодом Экспедиции


2018-04-18 11:29:26 43a17.12
[%] Флоты/Шпионаж
    Исправлена другая ошибка в вычислении анти-шпионажа


2018-04-16 12:59:11 43a17.8
[+] Админка/Просмотр игрока
    Добавлена информация об аккаунте игрока
    Добавлена возможность сменить пароль на аккаунте

[@] Админка/Просмотр игрока
    Рефакторинг страницы просмотра игрока
    Убраны почти все подсвеченные phpStorm 'ошибки' SQL (из-за отсутствия поддержки префиксов в phpStorm)


2018-04-10 11:29:14 43a17.3
[%] Флоты/Шпионаж
    Исправлена ошибка в вычислении анти-шпионажа


2018-04-09 09:29:59 43a17.1
[%] Админка/Настройки
    Слишком маленькое поле для списка спрятанных игроков обрезало этот список


2018-04-08 09:21:12 43a17.0
[-] Поиск
    В поиске отключён поиск ботов


2018-04-08 09:08:11 43a16.54
[+] ЛС
    Админитраторам включены BBCode и поддержка ссылок в отправляемых ими сообщениях


2018-04-08 07:50:13 43a16.53
[~] Игроки/Рендер ников
    Рендерер званий вынесен в отдельный метод для унификации и использования в остальном коде


2018-04-08 06:23:47 43a16.52
[@] Модули
    Поддержка core_festival 8a18


2018-04-07 14:07:36 43a16.51
[+] Миссии/Шпионаж
    Добавлена поддержка анти-шпионажа


2018-04-06 07:48:56 43a16.50
[%] Авторизация
    Исправлена ошибка с невозможностью зарегестрироваться в игре


2018-04-05 21:11:09 43a16.49
[~] Меню
    Рамка меню изменена на тонкую

[@] Код
    Добавлено возобновление таймаута страницы после отработки диспетчера флотов
    Добавлен отдельный таймаут для выполнения xcache_unset_by_prefix()
    db_user_count() теперь не считает ботов


2018-04-05 19:51:19 43a16.48
[+] Скины
    Добавлены картинки технологий для нового ивента


2018-04-05 17:39:03 43a16.47
[@] Код
    Теперь можно задавать картинки для планет при создании


2018-04-05 12:20:21 43a16.46
[+] Скины
    Добавлены картинки кораблей для нового ивента


2018-04-04 16:49:11 43a16.45
[!] Админка
    Добавлена статистика на страницу платежей


2018-03-27 22:58:34 43a16.41
[@] Тесты
    Исправлены инклюды


2018-03-27 08:00:28 43a16.39
[@] Код
    Константы разнесены по файлам в includes/constants


2018-03-25 21:55:44 43a16.25
[@] Код
    Добавлена поддержка модуля admin_balance


2018-03-25 12:54:26 43a16.23
[@] Код
    Где возможно - вставлены константы USER_BOT_PLAYER итд
    Прописаны некоторые недостающие поля в classConfig
    Переделаны player_create() и uni_create_planet() что бы не использовать глобальные переменные
    В uni_create_planet() добавлена возможность форсировать выбор имени планеты


2018-03-25 01:46:34 43a16.18
[@] Код
    Еще упрощена и расшита функция eco_get_build_data()
    Немного переформатирован и почищен код


2018-03-24 21:31:51 43a16.16
[~] Постройки
    Теперь пункты в списке требований к постройке являются ссылками на статью Новапедии о соответствующем юните/сущности игры
    Теперь при сносе здания учитываются наличие Губернатора и статус Столицы - снос при Губернаторе и/или на Столице происходит быстрее
    Теперь время строительства и сноса округляется вверх, а не математически. Это значит, что в среднем в половине случаев время постройки/сноса увеличится на 1 секунду

[@] Код
    Переработка системы очередей
    Добавлена таблица для нового хайспота
    Расшита функция eco_get_build_data(). Часть её функционала вынесена в класс BuildDataStatic, а еще часть сделана хуками


2018-03-24 03:14:48 43a16.11
[@] Код
    Поддержка изменений в модуле Фестивалей


2018-03-23 03:00:04 43a16.8
[@] Код
    Поддержка изменений в модуле Фестивалей


2018-03-22 20:49:18 43a16.3
[%] Админка/Добыча игроков
    Исправлены последствия автозамены по коду. В результате неправильно считало общую добычу. Ручками надо заменять, ручками...


2018-03-22 16:28:33 43a16.1
[~] Админка/Модули
    Сортировка модулей по активности сделана дефолтной


2018-03-22 16:09:47 43a16.1
[%] Темплейты
    Принципиально исправлена ошибка, когда скомпилированный код темплейтов не видел $lang - теперь используется доступ к $lang через статик SN


2018-03-22 15:50:22 43a16.0
[-] Темплейты/Меню
    УБРАНО - Теперь можно добавлять пункты даже в пустое меню


2018-03-22 15:05:34 43a15.30
[!] Вёрстка
    Сделан более универсальный патч, который снимет потенциальные проблемы с исчезающим скроллом в Сркщьу 65 на любых экранах
    Соответственно - исправлена ошибка с пропаданием скролла в режиме Сканирования Вселенной на маленьких экранах в Сркщьу

[+] Вселенная
    Перевёрстана панель выбора Галактики/Системы:
        - Теперь она будет масштабироваться в зависимости от размера экрана
        - Ну и на вид стала поприятнее
    Теперь имена Игроков/Альянсов в случае длинных названий не "ломаются" по статусам, а остаются на одной строке


2018-03-22 14:02:10 43a15.29
[!] Админка/Модули
    Новый экран со списком модулей, доступных в игре и их статусе
    Есть сортировка по имени модуля и по его активности

[+] Админка/Добыча игроков
    Добавлена колонка с суммарной производительностью в металле
    На экран добавлены сортировки

[~] Темплейты/Меню
    Теперь можно добавлять пункты даже в пустое меню
[~] Админка/Меню
    Если в админском меню не стоит AUTH_LEVEL - прописывается высший (AUTH_LEVEL_ADMINISTRATOR = 3)


2018-03-22 10:46:30 43a15.27
[@] Код
    В модулях из манифеста в свойства класса вынесены $active и $installed
    Почищен неиспользуемый код


2018-03-21 15:06:05 43a15.22
[%] Юнит-тесты
    Исправлены юнит-тесты


2018-03-21 14:28:18 43a15.20
[@] Код
    Раскидал часть классов по неймспейсам


2018-03-21 13:09:38 43a15.18
[@] Код
    Раскидал часть классов по неймспейсам


2018-03-21 12:36:55 43a15.16
[@] Код
    Рефакторинг кода


2018-03-21 10:24:54 43a15.14
[%] Конфигурация
    Исправлена очепятка в коде удаления ключа


2018-03-21 09:58:35 43a15.12
[@] Код
    Рефакторинг кода
    Исправлен потенциальный E_NOTICE в классе SnBootstrap
    В класс \classConfig добавлен метод __unset() который удаляет переменную из базы


2018-03-21 04:06:14 43a15.9
[@] Код
    Рефакторинг кода


2018-03-21 00:06:40 43a15.6
[+] Модули
    Добавлена поддержка MVC-опций в модулях (подмассив 'mvc' манифеста)

[~] Флоты/Интерфейс
    Теперь при нехватке места в трюме под топливо на странице выбора миссии выводится соответствующее сообщение
[~] Вселенная/Планеты
    Упрощена генерация имени планеты
    Так же учитывается статус Столицы при генерации имени планеты

[@] Код
    При удалении пользователя теперь:
        - Удаляются юниты игрока
        - Не удаляются сообщения, связанные с пользователем - они будут почищены при обслуживании
        - ВРЕМЕННО не удаляется Альянс, в котором пользователь был последним игроком
    ВРЕМЕННО При обслуживании не удаляются пустые Альянсы
    Заменено 'fleet_update_skip' => PAGE_OPTION_FLEET_UPDATE_SKIP
    Добавлена опция PAGE_OPTION_ADMIN для обозначения страницы как админской до её загрузки
    Админские страницы теперь не вызывают обсчёт флота (используется опция MVC PAGE_OPTION_ADMIN)
    Функция DeleteSelectedUser() стала методом в Player\PlayerStatic
    Метод Universe::fleetsReturn() для отзыва всех флотов с указанной локации


2018-03-20 16:52:45 43a15.4
[@] Код
    Класс Modules\Modules переименован в Modules\ModulesManager
    Небольшой рефакторинг предыдущего кода


2018-03-20 01:39:16 43a15.2
[%] Модули
    Добавлен отсутствующий файл класса Modules\Manager


2018-03-19 23:34:15 43a15.0 - Рефакторинг подсистемы модулей
[!] Модули
    Переписана и отрефакторена подсистема управления модулями
    Добавлены новые методы в базовый класс модулей sn_module
    Класс sn_module:
        - Убрана зависимость от полей манифеста модуля:
            - 'load_order' => getLoadOrder(), self::M_LOAD_ORDER
    Класс Modules\Manager:
        - В этот класс вынесен функционал управления модулями из класса sn_module
        - Включает в себя так же функционал убраных глобальных переменных $sn_module и $sn_module_list
    Убрана поддержка модулей из одного файла и модулей без структуры sn_modules
    sn_sys_load_php_files() - убран блок для $modules = true;

[@] Код
    Индекс 'require' заменен на P_REQUIRE или TPL_BLOCK_REQUIRE - в соответствии с контекстом


2018-03-18 16:14:41 43a14.19
[@] Код
    Добавлены классы поддержки чейн-коллов Pimp и Hooker, а так же производный класс SnPimp
    В GlobalContainer добавлено свойство $pimp


2018-03-17 19:32:23 43a14.18
[%] Альянсы/Дипломатия
    Исправлены и уточнены сообщения, отправляемые в ЛС при принятии предложений об изменении отношений между Альянсами


2018-03-17 18:45:38 43a14.17
[+] Админка/Настройки
    Добавлена возможность настраивать опции смены имени игроком

[~] Игрок/Настройки
    Теперь если смена имени игрока (ника) запрещена настройками сервера - то так и пишется в Настройках Игрока
[~] Квесты
    Добавлены разделители тысяч к целям и наградам квестов

[@] Код
    Добавлена временная функция декодирования строк JSON с фоллбэком на unserialize для старых строк


2018-03-16 23:58:18 43a14.12
[~] Картинки
    Еще чутка пережаты картинки
[~] Звуки
    Немного пережаты звуки


2018-03-16 09:19:00 43a14.10
[@] Код
    Поддержка модулей player_award 0d5 и core_festival 7a3


2018-03-16 09:18:07 43a14.9 core_festival 7a3
[!] Хайспот/8 Марта
    Полностью переработан код админки и награждения
    Теперь так же в админке начисляется ММ и выдаются Памятные Знаки Кавалеров


2018-03-16 09:12:57 43a14.8 player_award 0d5
[+] 8 марта
    Разделены награды за количество ММ и за персон для Кавалеров и Дам
    Добавлены все нужные изображения медалей


2018-03-14 14:55:23 43a14.5
[@] Код
    Поддержка player_award 0d4


2018-03-14 14:49:35 43a14.4 player_award 0d4
[+] 8 марта
    Универсальные медали и памятные знаки для ивента 8 марта


2018-03-13 20:05:09 43a14.3
[!] Настройки
    Рефакторинг кода и переработка дизайна страницы настроек


2018-03-13 12:12:39 43a14.2 menu_customize 0d9
[%] Настройки
    Исправлена ошибка, не дающая сохранить настройки


2018-03-12 22:46:54 43a14.1
[@] Код
    Класс classSupernova переименован в SN


2018-03-12 17:39:41 43a13.39
[~] О сервере
    В футере и на странице информации о сервере к версии движка теперь добавляется номер патча БД


2018-03-12 17:03:26 43a13.38
[~] Админка/Меню
    Название уровня члена АД-ии (Модератор, Оператор итд) теперь является ссылкой на возврат в игру


2018-03-12 16:16:59 43a13.36
[~] Экономика/Исследования
    Изменено название страницы на 'Исследование технологий', что бы не было путаницы между пунктами меню "Исследования" и "Технологии"
    Добавлена ссылка на закладку списка Технологий в Новапедии


2018-03-12 15:13:17 43a13.35
[~] Новости
    Цвет ссылки "Подробнее..." изменен на ярко-голубой для лучшей читаемости


2018-03-12 15:05:46 43a13.34
[@] Вёрстка
    Хак для Google Chrome v65, возвращающий горизонтальную полосу прокрутки на широких экранах (например, "Империя" и "Массовые Операции")


2018-03-12 13:23:10 43a13.33
[@] БД
    Увеличен размер поля `value` в таблице `player_options` до 16000 символов - перестали влезать настройки меню, гггг


2018-03-11 21:07:04 43a13.32
[@] Код
    Немного переделан автолоадер


2018-03-11 20:55:53 43a13.31
[@] Код
    Немного переделан автолоадер


2018-03-11 20:34:00 43a13.29 player_login_token 0a8 - Струя удачи
[!] Струя удачи
    Струя удачи:
        - Теперь при входе в игру несколько дней подряд количество токенов, получаемых игроком в день, медленно увеличивается - это и называется "струя удачи"
        - Если игрок не входит в игру хотя бы один - "струя" иссякает и количество токенов в день опять падает до 1
        - Максимальное количество токенов, которые можно получить в день - 6
    Сильно переработан попап с оповещением о получении токена. Теперь в нём выводится практически вся доступная информация по токену
    Расширена и переработана подсказка игрока на странице


2018-03-11 17:18:10 43a13.28
[@] Код
    Автолоадер:
        - Теперь по одному пути может быть несколько неймспейсов;
        - Теперь можно загружать классы с любыми неймспейсами из произвольных мест файловой системы:
            - При регистрации пути в автолоадере задаётся классовый префикс;
            - Этот префикс игнорируется в неймспейсе класса при генерации имени файла;
            - Классовый префикс может быть как полным, так и частичным;
            - Например, при задании префикса "Module" и пути "folder" класс "Module\Test\Sub" будет грузится из каталога "folder\Test\Sub"
    Опции игрока:
        - Добавлена возможность форсирования загрузки опций из БД, минуя кэш в памяти
    Добавлено несколько констант времени и его форматирования
    Поддержка player_login_token 0a8


2018-03-11 12:08:38 43a13.26
[@] Код
    Код инициализации автолоадера вынесен в конструктор класса sn_module


2018-03-07 12:00:47 43a13.24
[%] Апдейтер
    Исправлена ошибка повторного обновления таблицы для core_festival


2018-03-07 09:23:41 43a13.23
[@] Код
    Поддержка core_festival 7a0


2018-03-07 09:19:00 43a13.21 core_festival 7a0
[#] core_festival 7a0
    [!] Хайспот/8 Марта
        Добавлена возможность Кавалеру открыть свой ник
        Добавлена возможность добавить текстовое поздравление к подарку
        В списках подарков у Дам и Кавалеров каждый подарок теперь выводится отдельно
        В списке полученных подарков у Дам:
            - Выводится поздравление, если оно есть;
            - Выводится игровой ник подарившего, если он решил его открыть;
        В списке отправленных подарков у Кавалеров:
            - Выводится значок (А) после имени Дамы, если подарок был сделан анонимно, т.е. без раскрытия ника;
            - Выводится поздравление, если оно есть;
        Теперь когда Кавалер дарит подарок, Даме отправляется личное сообщение с уведомлением. Сообщение содержит:
            - Подаренную и начисленную (с учётом подарка от АД-ии) суммы ММ;
            - Имя Кавалера, если он решил его раскрыть;
            - Текст поздравления, если он есть


2018-03-05 22:06:27 43a13.20
[@] Код
    Поддержка player_login_token 0a6


2018-03-05 22:04:24 43a13.19 player_login_token 0a6
[!] Алгоритм
    Изменён алгоритм генерации таблицы призов:
        - На порядки увеличено количество получаемых кораблей;
        - Очень значительно увеличены шансы выпадения Артефактов, а так же доступность Артефактов по уровням игроков;
    В целом, очень значительно увеличилась средняя ценность приза

[%] Артефакты
    Исправлено неправильное отображение количества Артефактов при выигрыше - они всегда выигрываются по 1 штуке


2018-03-05 13:43:56 43a13.17
[@] Код
    Класс PlayerLevelHelper теперь всегда выдаёт полную таблицу для всех уровней игроков, а не только для тех, что есть в БД


2018-03-05 13:39:34 43a13.16
[!] Админка/Добыча игроков
    Страница просмотра общей добычи игроков

[@] Код
    Рендерер ников теперь проверяет наличие соответствующих полей в массиве игрока


2018-03-03 08:43:49 43a13.14
[!] Столица
    Теперь на Столице скорость строительства зданий, флота и обороны повышена в два раза
    Теперь на Столице скорость добычи ресурсов повышена в два раза
    Добавлена индикация Столицы в имени планеты иконкой ♕ &#9813;
        - В списке планет в навбаре
        - На странице "Обзор планеты"
        - На странице "Империя"
        - На странице "Вселенная"

[+] Вселенная/Луны
    Добавлена индикация Луны в имени планеты иконкой ☽ U+263D &#9789;
        - В списке планет в навбаре
        - На странице "Обзор планеты"
        - На странице "Империя"


2018-03-01 15:22:32 43a13.13
[@] Дизайн
    Добавлен стиль для модуля chat_advanced


2018-03-01 15:18:13 43a13.11 chat_advanced 6a4
[+] Респонзивный дизайн
    Улучшено отображение чата для экранов разных размеров
    Добавлено автоматическое скрытие правой панели (списка онлайн игроков) на мелких экранах с возможностью показать список онлайн


2018-03-01 11:31:14 43a13.10
[~] Чат
    Оптимизированы CSS-стили


2018-03-01 10:53:41 43a13.9
[~] Чат
    Оптимизированы CSS-стили
    Вынесен JS-код из темплейта


2018-03-01 09:17:46 43a13.8
[@] Дизайн
    Добавлен стиль для модуля chat_advanced


2018-03-01 09:15:05 43a13.7
[%] Чат
    Возвёрнуты назад скобки к вставляемому нику при ссылке на ник


2018-03-01 08:15:48 43a13.6
[~] Чат
    Доработан вид сообщений в чате:
        - Выровнены время сообщения, ник (и иконки) и само сообщение
        - Уменьшен размер передаваемых данных для приходящих сообщений
        - Улучшен генерируемый HTML-код

[~] Воинские звания
    Немного изменены иконки званий младшего офицерского состава (9-11 уровень)


2018-03-01 08:14:09 43a13.5
[%] Вселенная
    Исправлено задвоение значка "Отпуск"


2018-02-28 09:44:39 43a13.3
[+] Воинские звания
    Добавлен дополнительный уменьшенный комплект иконок специально для ников - для большей отзывчивости интерфейса
    На иконки воинских званий в никах добавлены всплывающие подсказки с названиями званийи и уровнем

[+] Админка/Список игроков
    К никам игроков добавлены иконки званий, отпуска, ДР и наград
    Уменьшен размер страницы


2018-02-28 07:29:37 43a13.2
[~] Картинки
    Еще немножко уменьшены размеры картинок


2018-02-28 04:51:31 43a13.0 - Воинские звания
[!] Воинские звания
    В игру добавлены уровни игроков и военные звания для каждого уровня
    Уровни присваиваются в зависимости от общего количества очков игрока
    Если в настройках сервера отключён показ статистики для команды сервера, то все члены команды имеют 20й уровень и соответствующее звание вне зависимости от реального количества очков
    Звания показываются перед ником игрока везде, где это имеет смысл
    Так же картинка звания показывается на странице профиля игрока (ака "Император")
    Всего в игре 21 звание - от Курсанта (уровень 0) до Генералиссимуса (уровень 20)
    Посмотреть полный список званий и соответствующих им уровней можно кликнув на картинку звания на странице Император

[~] Игроки/Ники
    Вид ников во всей игре унифицирован с новым видом на странице "Статистика"


2018-02-27 09:33:47 43a12.12
[~] Игроки/Статистика
    Изменен порядок вывода иконок для имени игрока


2018-02-27 09:31:55 43a12.11
[~] Игроки/Статистика
    Убрана отдельная колонка для ссылки на страницу игрока. Теперь клик на нике является такой ссылкой
    Добавлено выделение названия Альянса как ссылки
    Изменен порядок вывода иконок для имени игрока


2018-02-27 08:58:10 43a12.10
[%] Игроки/Ники
    Исправлена ошибка некорректного рендеринга ников


2018-02-27 08:32:46 43a12.8
[+] Апдейтер
    Добавлен механизм патчей: проверка существования патча и его регистрация
    Отформатирован код

[~] Игроки/Ники
    В рендерере ников функции serialize()/unserialize() заменены на функции json_encode()/json_decode()
    Добавлена возможность сортировки элементов ника в произвольном порядке


2018-02-18 16:12:58 43a12.7
[@] Код
    В бутстрап добавлено время на инициализацию игры при холодном кэше


2018-02-18 15:56:13 43a12.6
[%] Игроки
    Исправлена ошибка расчёта максимального уровня Игрока в игре

[@] Код
    Продолжение разработки нового кода для Экспедиции
    Новый класс Common\OutcomeManager для выбора одного варианта из массива возможных вариантов с разными шансами на появление


2018-02-17 21:13:29 43a12.5
[+] Симулятор
    Добавлен чекбокс "Симуляция", отключающий фактор случайности и гарантирующий повторяемость результатов Симулятора


2018-02-15 14:01:10 43a12.4
[+] Симулятор
    Теперь при создании Луны указывается количество обломков, которое образовалось бы без создания Луны

[~] Артефакты
    Артефакты класса "Крюк" теперь не меняют количество обломков на орбите - т.е. Луна появляется без траты обломков

[%] UBE
    Исправлена ошибка с нулевым размером Луны в отчётах


2018-02-13 12:31:38 43a12.2
[+] Вселенная/Луны
    Теперь при создании лун учитывается текущая скорость добычи ресурсов:
        - Например, для сервера со скоростью добычи x10 стоимость создания луны так же удесятеряется
        - Исправлена древняя ошибка, из-за которой луна после боя могла получится больше, чем на неё потрачено ресурсов
    Унифицированы алгоритмы создания лун после боя, через Артефакты, через Админку итд

[@] Код/UBE
    Продолжен рефакторинг кода UBE


2018-02-13 09:05:46 43a12.1
[%] UBE
    Исправлена ошибка


2018-02-13 07:10:16 43a12.0
[@] Код/UBE
    Сворачивание процедур UBE в классы (UBEv4.1)


2018-02-13 05:18:54 43a11.9
[+] Список планет
    В списке планет на иконках построек/верфи/обороны добавлено количество активных слотов в очереди


2018-02-05 13:03:26 43a11.8
[!] Темплейты
    Добавлен класс Ptl\PtlVariableDecorator для форматирования текста в блоках по разметке темплейта
        - В блоках вызовы prettyNumberStyledDefault() заменены на форматирование внутри темплейтов;


2018-02-01 10:46:35 43a11.7
[@] Код
    Рефакторинг страницы "Империя" и связанного с ней кода


2018-02-01 09:28:23 43a11.6
[@] Код
    Рефакторинг страниц "Обзор Планеты" и "Империя" и связанного с ней кода


2018-02-01 08:12:31 43a11.5
[%] Обзор Планеты
    Исправлена ошибка с неразделением флотов в списке летящих на текущую и другие планеты


2018-02-01 07:41:38 43a11.4
[%] Обзор Планеты
    Исправлена ошибка с непоявлением количества входящих ресурсов в некоторых случаях


2018-01-25 11:08:40 43a11.3
[@] Код
    Рефакторинг страницы "Обзор Планеты" и связанного с ней кода


2018-01-25 05:28:57 43a11.2
[@] Код
    Небольшой рефакторинг Губернаторов


2018-01-08 16:36:57 43a11.0
[@] Код
    Функционал найма Губернаторов вынесен в отдельный класс


2018-01-01 21:21:28 43a10.23
[%] Флот
    Исправлена отладка в коде


2017-12-26 19:50:26 43a10.22
[%] Новости
    Убрана кнопка "Добавить новость" для не-администрации


2017-12-19 00:30:38 43a10.21
[+] BBCode
    Добавлена поддержка BBCode [news=XXX] для вставки прямой ссылки на Новость
    Добавлена поддержка сокращённого URL news://XXX для вставки прямой ссылки на Новость
[+] Чат
    Добавлена трансляция в сообщении полного URL с ссылкой на новость в BBCode
    Добавлена трансляция в сообщении сокращённого URL news://XXX в BBCode


2017-12-18 23:45:31 43a10.19
[+] Новости
    Добавлена возможность ссылаться на отдельную новость:
        - Ссылка на новость "прячется" под датой новости;
        - При открытии - открывается только одна указанная Новость;
        - Под заголовком страницы добавляется ссылка "Все новости" для возврата к полному списку новостей;


2017-12-18 23:00:28 43a10.17
[+] Новости
    Добавлена листалка на страницу Новостей. Теперь можно посмотреть Новости за всю историю игры!
    Добавлен заголовок страницы "Новости"
    Форма добавления новости спрятана под кнопку "Добавить новость" - что бы не мозолила АД-ии глаза


2017-12-17 13:44:13 43a10.12
[~] Изображения
    Пережаты изображения без потерь качества


2017-12-13 16:56:27 43a10.0
[@] Код
    Добавлен хелпер для рассчёта уровней игроков \Player\PlayerLevelHelper


2017-12-13 13:35:46 43a9.19
[@] Код
    Добавлен механизм дополнительного рендеринга элементов страницы через $template_result[TEMPLATE_EXTRA_ARRAY]


2017-12-13 10:37:53 43a9.18
[~] Флоты
    Теперь статус "Новый игрок" рассчитывается с учётом скорости добычи ресурсов
[~] Модули
    Поддержка player_login_token 0a0

[@] Код
    Альфа-версия класса MissionExplore


2017-12-06 15:33:17 43a9.15
[@] Код
    Небольшой рефакторинг и еще один юнит-тест для подсистемы бонусов


2017-12-04 04:02:37 43a9.13
[@] Код
    Функция sn_module_get_active_count() перемещена в sn_module::sn_module_get_active_count()


2017-12-04 03:48:38 43a9.11
[@] Код
    Из файла general.php часть функций вынесены в отдельные файлы и классы


2017-12-04 01:18:00 43a9.8
[@] Код
    Переписана работа BonusAtomXXX и связанных классов


2017-12-03 23:25:54 43a9.7
[@] Код
    Юнит-тесты для части механизма бонусов


2017-12-03 02:00:47 43a9.5
[@] Код
    В описании юнитов 'bonus_type' заменено на P_BONUS_TYPE, 'bonus' заменено на P_BONUS_VALUE


2017-12-02 17:29:26 43a9.4
[@] Код
    Класс BonusDescription развернут в семейство классов BonusAtomXXX
    Переработан класс BonusListAtom (бывш BonusDescriptionList)


2017-12-02 09:54:39 43a9.3
[@] Код
    Альфа-версия поддержки авторасчёта бонусов
    Механизм бонусов используется для расчёта скоростей игры, добычи и флота


2017-12-01 03:13:30 43a9.0
[@] Код
    Добавлен плейсхолдер Bonus\BonusCatalog


2017-11-28 12:43:36 43a8.8
[+] Админка
    Доработана админка Альянсов

[@] Код
    AllianceStatic разобран на классы Alliance\*


2017-11-28 03:07:30 43a8.7
[+] Сообщения
    При просмотре сообщений оставлена лишь кнопка "Удалить отмеченные сообщения" ввиду бессмысленности остальных опций
    Если нет отмеченных сообщений кнопка "Удалить..." неактивна
    При просмотре сообщений добавлена кнопка "Показать все" - для показа всех сообщений в категории


2017-11-26 07:11:02 43a8.6
[~] Обучение
    Обучение по умолчанию отключено


2017-11-26 06:54:14 43a8.5
[~] Награды/Бессмертный
    Лимит для получения статуса "Бессмертный" увеличен до 200.000 ММ


2017-11-26 06:45:10 43a8.4
[~] Обновление
    Количество ММ для награды Бессмертного теперь берется из конфигурации


2017-11-26 06:40:25 43a8.3
[+] Награды/Бессмертный
    Теперь не меняется дата/время установки статуса после повторных начислений ММ
    Теперь так же при установке статуса начисляется памятный знак
    Памятный знак будет начислен всем Бессмертным при апдейте


2017-11-26 05:22:37 43a8.2
[+] Платежи
    В платежи добавлена листалка


2017-11-26 00:07:35 43a8.1
[!] Сообщения
    Добавлено листание сообщений по страницам. Каждая страница вмещает по 10 сообщений
    На странице просмотра сообщений в дроп-дауне выделены цветом удаление всех сообщений категории и всех личных сообщений
    Убрано удаление неотмеченных сообщений. Теперь просто отметить мультигалочкой (галочкой в заголовке) все сообщения на странице и удалить их


2017-11-25 19:30:17 43a8.0
[@] Код
    Добавлена класс-пейджинатор для текстовых sql-запросов


2017-11-24 05:07:29 43a7.16
[#] Поддержка core_festival 6a8


2017-11-04 20:30:11 43a7.11
[%] Вселенная
    Исправлена ошибка неудаления проэкспайрившихся лун


2017-10-31 00:52:03 43a7.0
[@] Код
    Из класса classSupernova в отдельный класс _SnCacheInternal вынесены все операции с внутренним кэшем


2017-10-30 20:33:48 43a6.18
[+] Админка
    Добавлен емейл игрока в список игроков (для auth_level 3)
    Добавлен статус отпуска игрока в список игроков (для auth_level 3) и сортировка по этому полю

[~] Обслуживание
    Обслуживание теперь так же не удаляет админские сообщения

[%] Миссии/Шпионаж
    Исправлена ошибка, если не найдена игрок-отправитель флота или цель/хозяин цели Шпионажа
[%] Код
    Скорректировано несколько инклюдов для вызова из Админки - пути к файлам расширены до полных


2017-10-24 06:15:11 43a6.15
[~] Навбар
    Добавлена поддержка изменения ТМ/ММ во время работы страницы


2017-10-20 05:23:19 43a6.6
[~] Чат
    Поддержка модуля чата


2017-10-19 20:26:27 43a6.5
[~] Админка/Перепаковка счётчиков посещений (СП)
    Теперь выводится результат перепаковки
    Теперь считается количество обработанных записей
    Теперь неизменённые записи не записываются в БД
    Добавлен счётчик обработанных и пропущенных записей
    Добавлено новое условие прерывания обработки - если разница между ID обработанных записей меньше размера пакета
    Добавлено дополнительное время на операцию удаления записей


2017-10-18 09:27:27 43a6.1
[~] Админка/Перепаковка счётчиков посещений (СП)
    Теперь не пакуются хиты свежее трёх недель
    Теперь так же считаются общие хиты за визит
    Теперь записи удаляются и обновляются пакетом
    Теперь корректно обрабатываются визиты, находящиеся на стыке пакетов


2017-10-17 09:49:24 43a6.0
[!] Админка/Перепаковка счётчиков посещений (СП)
    См. страницу "Утилиты". Работает на машинах с 2Gb+ под PHP

[~] Админка/Обслуживание
    Очистка СП от записей несуществующих пользователей

[@] Код
    \DBAL\DbMysqliResultIterator и метод db_mysql->selectIterator()


2017-10-16 08:00:38 43a5.3
[%] Интерфейс/Строительство
    В подсказке по изменению производительности шахт убрано смещение в строке с текущим уровнем шахты
    Изменена индикация бонусов за уровни Астрокартографии


2017-10-15 11:54:26 43a5.0
[@] Код
    Рефакторинг /includes/functions/eco_get_planet_caps.php -> \Meta\Economic\ResourceCalculations


2017-10-13 00:55:41 43a4.9
[@] Код
    Рассчитываемое поле 'caps' планеты теперь нигде не используется


2017-10-12 23:07:52 43a4.7
[%] Миссии/Шпионаж
    Исправлена ошибка обнаружения флота при вероятности 0%
    Удалён неиспользуемый код


2017-10-12 16:18:03 43a4.6 - Переработка шпионажа
[~] Миссии/Шпионаж
    Миссия переписана с нуля
    Теперь в таблице `messages` сохраняются данные, а не HTML-код:
        - Значительно уменьшен объем данных, сохраняемых в БД;
        - Увеличено количество информации в БД;
        - Рендеринг сообщения осуществляется непосредственно при просмотре, а не при сканировании;
        - Уменьшено время на обсчёт миссии (см.пред.пункт);
    Исправлена ошибка, при которой флоты с шансом обнаружения выше 100% не уничтожались
    Теперь на электронную почту не отправляются полные шпионские отчёты, а лишь уведомление о сообщении типа "шпионаж" (без различия входящих и исходящих)


2017-10-12 12:07:40 43a4.5
[@] Код
    Рефакторинг \Fleet\MissionEspionage


2017-10-12 10:03:45 43a4.4
[@] Код
    Рефакторинг /includes/includes/flt_mission_spy.php -> \Fleet\MissionEspionage


2017-10-11 12:51:50 43a4.3
[@] БД
    Добавлен признак json-кодирования `message_json` в таблице `messages`


2017-10-10 11:21:44 43a4.2
[~] Сообщения
    Добавлены разделители тысяч в количестве юнитов в шпионском отчёте


2017-10-08 17:34:41 43a4.0
[@] Код
    ЛС - рефакторинг: \messages.php -> \Deprecated\PageMessages


2017-10-04 08:44:41 43a3.15
[%] Админка/Альянсы
    Исправлена передача Альянса


2017-10-04 08:37:41 43a3.14
[@] Код
    Рефакторинг ActiveRecordAbstract


2017-10-04 02:57:26 43a3.12
[@] Код
    Функция pretty_number() убрана из кода


2017-10-04 01:59:42 43a3.9
[@] Код
    Вызов pretty_number() убран из базового кода


2017-10-04 01:39:39 43a3.8
[@] Код
    Вызов pretty_number() убран почти отовсюду


2017-10-04 01:21:05 43a3.6
[%] Интерфейс/Ресурсы
    Исправлена невозможность смены ядра планеты

[@] Код
    Вызов pretty_number() заменён на prettyNumberStyledCompare()


2017-10-04 00:30:00 43a3.5
[@] Код
    Вызов pretty_number() заменён на prettyNumberStyledDefault() там, где было простое стилизирование чисел от 0


2017-10-03 23:58:20 43a3.4
[@] Код
    Вызов pretty_number() заменён на HelperString::numberFloorAndFormat() там, где было простое форматирование чисел


2017-10-02 22:47:16 43a2.26
[@] Код
    PTL:
        - Добавлен класс \phpbb_hook из phpBB3 для поддержки работы PTL (из phpBB3 /includes/hooks/index.php)
        - Прописан phpDoc для хинтов класса


2017-10-02 22:36:38 43a2.25
[@] Код
    PTL - Вызов eval() инкапсулирован в отдельный метод \template()->evaluate() для облегчения игнора предупреждений в code sniffers


2017-10-02 22:13:00 43a2.24
[@] Код
    PTL - Исправлена ошибка неправильного ре-рендера при отключённом минификаторе


2017-10-01 17:43:27 43a2.22
[~] Империя
    Добавлен новый уровень цветового кодирования процентов производства. Теперь схема выглядит так:
        - Голубой - 100% производства
        - Зеленый - 90-80%%;
        - Жёлтый - 70-50%%;
        - Оранжевый - 40-10%%;
        - Красный - 0%;
    Теперь фон дроп-дауна так же подсвечивается в зависимости от процента производства по вышеописанной схеме
    Добавлено цветовое кодирование для процентов в дропдауне - см. выше. Цвет букв более яркий для лучшего чтения на фоне текущего производства

[@] Код
    /includes/pages/imperium.php -> \Deprecated\PageImperium с оптимизацией и рефакторингом


2017-10-01 13:51:33 43a2.18
[@] Git
    Отладка хуков


2017-10-01 13:25:49 43a2.16
[@] Код
    Добавлен класс \Meta\Economic\EconomicHelper
        - Метод ::getResourcesExchange() - бывш. general.php::get_resource_exchange()
        - Юнит-тесты


2017-10-01 11:45:30 43a2.15
[~] Проверка верcии движка
        - /ajax_version_check.php преобразован в класс \Tools\VersionCheckerDeprecated
        - В init.php переделан вызов версион-чекера


2017-09-30 10:41:09 43a2.10
[@] Код
    Флоты/Своз ресурсов:
        - /includes/includes/flt_page5.inc - преобразован в класс \Deprecated\PageFleet5Gathering.php
        - Из темплейта fleet5.tpl.html извлечён JS-код
        - Рефакторинг


2017-09-30 07:56:16 43a2.8
[~] Интерфейс/Наёмники+Планы
    Добавлен список требований при покупке перманентных Наёмников
    Отключены элементы покупки при неудовлетворённых требованиях по юнитам (в случае перманентных Наёмников)
    Убрано дублирование сообщения об ошибках


2017-09-30 05:53:35 43a2.4
[@] Код
    \Deprecated\PageMercenary - рефакторинг


2017-09-30 05:42:07 43a2.3
[@] Код
    /includes/includes/mrc_mercenary.php - преобразован в класс \Deprecated\PageMercenary


2017-09-30 05:13:36 43a2.2
[@] Код
    /galaxy.php - Еще упрощён код
    /includes/functions/qst_quest.php - Рефакторинг кода


2017-09-25 11:11:39 43a2.0 - Улучшение Обзора Империи
[+] Империя
    В тайтл страницы (заголовок окна браузера) добавлено название страницы "Обзор Империи"
    Добавлены разделители тысяч ко всем количествам юнитов: имеющихся на планете, стоящих в очереди, летящих с флотами
    К количеству ресурсов на планете и производству добавлена индикация ресурсов на летящих на планету флотах


2017-09-25 04:15:45 43a1.33
[@] Код
    /galaxy.php
        - Убраны все замечания от IDE;
        - Оптимизирована работа с Лунами;
        - Оптимизирована работа с обломками;
        - Уменьшено количество холостых циклов;
    /includes/pages/imperium.php
        - Рефакторинг
    /overview.php
        - Небольшой рефакторинг для лучшей совместимости с Империей


2017-09-24 23:52:53 43a1.28
[@] Код
    Флоты:
        - serialize/unserialize для usedfleet заменено на пару json_encode/json_decode
        - /includes/include/flt_page1.php:127 - закомментирована как неиспользуемая
              //'ships'           => str_rot13(base64_encode(serialize($ships))),


2017-09-24 22:50:09 43a1.26
[@] Код
    /admin/admin_metamatter.php:81 - Исправлена ошибка сравнения вместо использования empty()


2017-09-24 22:35:54 43a1.25
[@] Код
    /admin/admin_locale.php:122 - more strict string sanitizing
        //fwrite($file_handler, "'" . str_replace(array("\\", "'"), array('\\\\', "\\'"), $string_value[$lang_id]) . "',");
        fwrite($file_handler, "'" . addslashes($string_value[$lang_id]) . "',");
    ActiveRecordAbstract
        - Fixed phpDoc
        - Replaced direct field name 'id' with aliased class constant
            - :273
                //$recordId = $this->id;
                $recordId = $this->{self::ID_PROPERTY_NAME};
            - :310
                //$this->id = $this->dbLastInsertId();
                $this->{self::ID_PROPERTY_NAME} = $this->dbLastInsertId();
        - :460 - Fixed loose comparsion
    HelperString: removed debug code


2017-09-24 19:31:43 43a1.24
[%] Статистика/Обсчёт
    Исправлено неправильное определение длительности последней операции


2017-09-24 19:15:32 43a1.23
[%] Код
    Добавил отсутствующие файлы


2017-09-24 19:12:30 43a1.22
[~] Интерфейс/Окно сообщений
    Теперь при отключении сервера не показывается навбар - не производится лишних расчётов/обращений к БД
[~] Бенчмарк
    Добавлена дата и время начала операции, для которой проводится бенчмарк
[~] Статистика/Обновление
    Теперь при сбое всех стандартных способов уведомления о занятости сервера выдаётся стандартная простая заглушка

[@] Код
    classConfig: В аннотацию добавлены некоторые переменные для поддержки со стороны IDE
    classPersistent: Немного документации для метода pass()
    /includes/db/db_queries.php: Удалена часть запросов, относящихся исключительно к подсчёту статы
    Статистика:
        - Дефолтное минимальное время между запусками статы вынесено в константу STATS_RUN_INTERVAL_MINIMUM;
        - Функции по обработке статистики вынесены в классы:
            - Статический класс StatUpdateLauncher, который управляет запуском обновления;
            - Статический класс StatCalculator - расчёт статистики


2017-09-24 12:57:56 43a1.21
[@] Код
    ActiveRecords:
        - Переупорядочены расположения методов в классах
        - Добавлены юнит-тесты на базовую функциональность ActiveRecords


2017-09-24 12:54:26 43a1.20
[@] Код
    Отладка - исправлена невозможность сохранения дампа при наличии closure в любом уровне аргументов бэктрейса


2017-07-12 05:26:44 43a1.18
[@] Код
    Работа над ActiveRecords


2017-06-28 09:17:53 43a1.17
[@] Код
    Класс AccessLogged и тесты для него


2017-06-24 07:46:31 43a1.15
[@] Код
    Простенькая глобальная шина событий EventBus


2017-06-19 17:03:45 43a1.13
[@] Код
    ActiveRecord->defaultValues():
        - Выставляет для отсутствюущих полей значения по умолчанию;
        - Значения по умолчанию берутся из схемы таблицы в БД;
        - Поддерживает CURRENT_TIMESTAMP для типа поля `timestamp` - будет установлено в SN_TIME_SQL;
        - Поля со свойством auto_increment игнорируются;
        - Используется в insert(), update() и fromProperties()


2017-06-19 16:09:10 43a1.12
[@] Код
    Класс TableSсhema - получение схемы таблицы


2017-06-19 12:17:46 43a1.11
[@] Код
    Работа над ActiveRecord


2017-06-17 15:35:00 43a1.3
[@] Код
    ActiveRecordStatic переделан в обычный ActiveRecord


2017-06-16 13:20:43 43a1.2
[@] Код
    Начата переделка ActiveRecordStatic в нормальный ActiveRecord


2017-06-16 13:15:07 43a1.1
[~] Админка/Альянсы
    Доработано форматирование


2017-06-15 23:18:03 43a1.0
[%] Админка/Альянсы
    Исправлена очепятка


2017-06-15 21:19:53 43a0.16
[@] Код
    Патч для устранения в разнице работы basename() под Windows и Linux


2017-06-15 20:48:17 43a0.15
[!] Админка/Альянсы
    Добавлена страница для просмотра списка Альянсов
    Добавлена страница для просмотра отдельного Альянса:
        - Дамп записи Альянса;
        - Список игроков с рангами, онлайном, отпуском, баном;
        - Передача Альянса другому игроку;
        - Цветовое кодирование Главы:
            - Зеленый - активен на протяжении 30 дней;
            - Красный - неактивен.


2017-06-15 06:59:23 43a0.13
[@] Код
    Убрана global $skip_fleet_update


2017-06-15 06:43:59 43a0.11
[@] Код
    Перенес константы CACHE_xxx в класс кэшера


2017-06-15 06:32:06 43a0.9
[@] Код
    classPersistent: добавлен метод pass(), заставляющий читать/писать следующую переменную из/в БД


2017-06-15 04:44:57 43a0.8
[@] Код
    Новый класс FleetDispatcher: инкапсулированы функции FFH
    Bootstrap: назначения констант вынесены из класса в init.php - для поддержки phpStorm-ом
    Новый класс Watchdog: набор методов для "слежения" за переменными конфигурации и проверка условий по дельте времени


2017-06-13 12:37:53 43a0.3
[-] Апдейтер
    Удалены апдейты по релиз 39 включительно

[@] Код
    Класс ActiveRecordStatic: добавлено семейство методов find()
    \DBAL\DbQuery::insert() теперь является protected. Тесты переписаны соответственно


2017-06-12 14:59:17 43a0.2
[!] PHP
    Для работы СН требуется PHP не ниже 5.5

[@] Код
    Убрано использование sys_refresh_tablelist()


2017-06-12 14:32:20 43a0.0
[@] Код
    Добавлен класс DBAL\Schema()


2017-06-12 09:24:47 42c0
[!] Project "SuperNova.WS" Release 42 "8th anniversary" Release Candidate
    Обновлён файл docs/changelog.txt


2017-06-11 11:11:21 42a30.0
[@] Код
    Упорядочена процедура инициализации


2017-06-09 21:51:47 42a29.15
[~] Флоты/Менеджер флотов
    Ещё расширено диагностическое сообщение в логах


2017-06-09 21:30:37 42a29.14
[~] Флоты/Менеджер флотов
    Теперь время работы менеджера флотов вычисляется непосредственно с начала его работы, а маскимальное время работы уменьшено до 3 секунд (регулируется константой GAME_FLEET_HANDLER_MAX_TIME)
    Так же расширено диагностическое сообщение в логах


2017-06-08 17:03:55 42a29.6
[@] Код
    Поддержка core_festival 5a4.0+


2017-06-04 19:55:31 42a29.4
[+] Админка/Изменение ММ
    Полностью переписано начисление ММ
    Теперь можно изменять ММ так же по ID или имени игрока
    Теперь перед изменением ММ можно посмотреть, что будет изменено - и лишь потом подтвердить изменения


2017-06-04 17:08:48 42a29.3
[+] Админка/ИзменениеТМ
    Переписано изменение ТМ

[@] Код
    Класс ExceptionSnLocalized:
        - Локализует сообщения об эксцепшнах при вызове getMessageLocalized() - использует $lang
        - Может включать вызов sprintf() для внедрения данных по шаблону. Данные указываются четвертым параметром при вызове конструктора


2017-06-04 14:12:30 42a29.1
[~] Админка
    Пункт меню "Тёмная материя" стал заголовком


2017-06-04 14:07:27 42a29.0
[~] Админка
    Теперь при неудачной попытке начислить ТМ/ММ назад в форму возвращается причина начисления


2017-06-04 02:54:37 42a28.42
[@] Код
    Добавлена функция sign()


2017-06-02 22:51:45 42a28.29
[@] Код
    Поддержка Хайспота "Чёрная Луна"


2017-05-30 14:18:22 42a28.24
[~] Флоты/САБ
    Переверстана страница подбора игроков в САБ
[~] Вселенная/Переименование
    Переверстана страница переименования Галактик/систем


2017-04-15 00:47:15 42a28.17
[%] UBE/Боевой отчёт
    Исправлено отсутствие локализации для BBcode в боевом отчёте


2017-04-14 21:53:31 42a28.16
[~] UBE/Боевой отчёт
    Добавлен BBCode для вставки в чат ссылки на бой


2017-04-14 14:15:19 42a28.13
[~] Меню
    Добавлена опция настройки логотипа сервера в меню - опция 'menu_server_logo' в таблице `config`:
        - Пустое значение - использовать логотип по умолчанию;
        - В остальных случаях строка трактуется, как относительный путь к картинке (от корня игры), например - 'design/images/supernova.png'
        - Опция 'menu_server_logo_disabled' позволяет отключить логотип в меню
    Добавлена опция отключения названия сервера в меню - опция 'menu_server_name_disabled' в таблице `config`:
    Добавлена опция отключения даты запуска в меню - опция 'menu_launch_date_disabled' в таблице `config`:



2017-04-14 00:53:28 42a28.12
[~] PTL
    Доббавлены хинты к PHP-коду, выводящему значения в рендерённом темплейте
    Переменные конфига теперь выводятся через объект свойство classSupernova::$config
    Для вывода переменных конфига используется ArrayAccess для синтаксически-корректной записи

[@] Код
    classCache теперь реализует интерфейс ArrayAccess
[@] Тесты
    Добавлены PTL-тесты для префикса {C_xxx}


2017-04-13 02:17:19 42a28.9
[#] core_festival v4a4.0
    Поддержка core_festival v4a4.0

[@] Код
    Добавлены методы в HelperArray


2017-04-03 15:28:13 42a28.3
[%] Сообщение
    Исправлено задвоение информации об отправке сообщения


2017-04-03 14:59:07 42a28.2
[~] Альянсы
    Добавлены более понятные сообщения об ошибках при попытках сменить имя или тэг Альянса на уже существующие в игре


2017-04-03 14:39:57 42a28.1
[@] Код
    Теперь при загрузке стандартных CSS проводится проверка на физическое наличие файлов:
        - Если есть минифицированный CSS - грузится он
        - В противном случае проверяется наличие оригинального файла
        - Если файлов вообще нет - соответствующая строка не добавляется в хидер страницы



2017-03-28 14:18:41 42a28.0
[!] Биржа ресурсов
    Базовая вёрстка страницы + часть JS-функционала

[@] Код
    JS:
        - Пространство имён "sn" для дальнейшего использования
        - Базовый функионал объекта локализации sn.l() и sn.l.unitName()
        - Рекурсивный подсчёт стоимости юнита/пака стэкируемых юнитов - sn.eco.getPriceIn() и sn.eco.getCostIn()
            - Кэширование результатов для дальнейшего использования
        - События/обработчики для ainput - ainputEnable и ainputDisable


2017-03-22 16:04:24 42a27.15
[@] Код
    Рефакторинг messageBox-ов
    Рефакторинг рендеринга хидера


2017-03-22 10:58:31 42a27.14
[-] Обзор Планеты
    Отключена ранняя загрузка


2017-03-21 21:26:06 42a27.13
[-] Строительство
    Отключена ранняя загрузка на странице строительства


2017-03-21 19:55:11 42a27.11
[%] Строительство
    Исправлена ошибка задвоения юнитов


2017-03-21 18:44:26 42a27.6
[!] Ранняя загрузка
    Включена на страницах overview.php и buildings.php

[@] Код
    Добавлена возможность выводить стандартные элементы страницы (меню и навбар) перед выполнением основного кода:
        - Это даёт возможность браузеру начать загрузку остальных элементов страницы во время выполнения основного кода;
        - Ранний вывод заголовка возможна не всегда и требует поддержки со стороны серверной части;
        - Буфферизация вывода должна быть отключена как в PHP, так и в настройках веб-сервера;
        - Должна быть отключена компрессия в PHP;
        - Метод подключения PHP к веб-серверу должен поддерживать стриминг вывода;
        - Код страницы не должен менять заголовки. В частности - не делать редиректы средствами PHP;
        - Title страницы нужно задать заранее в описании через $sn_mvc['pages'][<имя страницы>][PAGE_OPTION_TITLE];
        - Для включения - выставить $sn_mvc['pages'][<имя страницы>][PAGE_OPTION_EARLY_HEADER] в true;
    Теперь _error-404.php возвращает всегда статус 200


2017-03-21 13:08:57 42a27.4
[@] Код
    Обновлена версия ION Sound до 3.0.8
    Добавлена полная версия библиотеки в docs/extra
    Включено кэширование звуков в браузере


2017-03-21 12:43:36 42a27.3
[@] Код
    Темплейт _page опять разбит на header и footer
    Результаты операции в структуре result теперь выводятся стандартными механизмами, а не хаком
    Вывод ADV_SEO_SCRIPT перенесен выше по коду, что бы он не тормозил дальнешую загрузку
        - Яндекс и Гугль теперь используют https протокол - их скрипты должны ВСЕГДА грузится с префиксом https://
    Звуки теперь загружаются
    Добавлен служебный файл _error-404.php - на него можно сделать редирект для обработки ошибок 404. Его вывод подходит так же для CSS и JS файлов


2017-03-19 14:11:31 42a27.2
[#] player_award
    Поддержка player_award v0с7


2017-03-11 20:09:51 42a26.15
[@] Код
    Добавлено новое поле `skins` в таблицу `users` на замену убраному полю `dpath`


2017-03-06 00:43:16 42a26.4
[#] core_festival
    Поддержка core_festival v4a0.0

[@] Код
    Теперь в навбаре можно программно добавлять кнопки в основной ряд кнопок


2017-03-06 00:40:41 42a26.3
[#] core_festival 4a0.0
    (!) Highspot "8 Марта"
        Добавлен Ивент "8 Марта":
            - При включённом Ивенте в навбаре в конце основного блока кнопок появляется новая кнопка, ведущая на страницу Ивента
            - На странице Ивента игрок с указанным в профиле мужским полом может подарить метаматерию игроку-женщине
            - Подарок будет снят со счёта игрока-мужчины и зачислен на счёт игрока-женщине
            - При зачислении игроку-женщине будет начислено на 25% больше ММ
            - Минимальное количество снимаемой метаматерии - 20.000 ММ
            - Игрок-мужчина может увидеть кому он делал подарки, сколько было списано со счёта и сколько было начислено

    (~) Фестивали
        Фестиваль считается активным только если имеет хоть один активный хайспот


2017-03-05 02:37:20 42a26.2
[~] Квесты
    В списке квестов к фильтру добавлен вариант "Все, кроме выполненных"


2017-03-04 17:09:11 42a26.1
[+] Квесты
    На страницу просмотра квестов добавлен фильтр квестов по статусу:
        - Состояние фильтра запоминается между визитами на страницу квестов

[@] Код
    Квесты:
        - CSS-код вынесен в _template.css
    Добавлен интерфейс IPage
    Добавлена проверка на разрешенные экшны на страницах


2017-03-04 13:03:43 42a26.0
[!] Квесты
    Полностью переделан интерфейс квестов


2017-03-04 11:49:35 42a25.26
[+] Квесты
    Новый статус квеста - "Начат":
        - Квест отмечается как "Начат", если был построен хоть один юнит из условий квеста;
        - Отметка выставляется в момент завершения постройки первого юнита
        - Уже построенные юниты не учитываются - нужно построить хотя бы один юнит, что бы сменить статус квеста
        - Количество начатых квестов отображаетя в навбаре на кнопке квестов желтым цветом


2017-03-04 10:26:45 42a25.24
[@] Рефакторинг
    PHP Strict - устранены нотисы вызова AjaxController::view() в /includes/general.php
    Расшит метод classSupernova::db_query на 4 разных
    Некоторые устаревшие функции доступа к БД заменены операциями через \DBAL\DbQuery


2017-03-03 21:40:35 42a25.20
[@] Рефакторинг
    PHP Strict - устранены нотисы в BBCodeParse.php


2017-03-03 14:21:48 42a25.19
[~] Навбар
    Ресурсбар:
        - Цветовое кодирование к количеству производимой энергии в ресурсбаре
        - Цветовое кодирование к попапам в ресурсбаре
        - Отдельный попап для энергии, выводящий потребление

[@] Код
    В JS добавлены аналоги Tools::fillPercentStyle():
        - Number.prototype.spanByValue()
        - Number.prototype.spanByMaximum()
    В TPL добавлены аналоги Tools::fillPercentStyle():
        - _number_percent_class.tpl.html
        - _number_color_value.tpl.html
        - _number_color_maximum.tpl.html


2017-03-01 16:41:39 42a25.18
[%] Навбар
    Исправлена ошибка отображения производимой энергии


2017-03-01 16:32:18 42a25.17
[~] Навбар
    В ресурсбаре улучшена индикация заполнения складов:
        - Если количество ресурсов больше объема склада (> 100%) - размер склада будет выведен красным
        - Если ресурсов <= 100%, но > 90% - оранжевым
        - <= 90%, но > 75% - желтым
        - <= 75%, но > 50% - синим
        - <= 50% - зеленым
        - И, наконец, если склада нет и количество ресурсов на планете равно нулю - размер склада будет выведен белым

[@] Код
    Добавлена универсальная функция цветового кодирования Tools::fillPercentStyle()


2017-03-01 11:40:45 42a25.14
[@] Рефакторинг
    В админке все проверки доступа заменены вызовом AdminCheckLevel()
    Убраны все упоминания глобальной переменной $parse


2017-03-01 11:27:52 42a25.12
[@] Пакет
    Отдельный каталог extra в подкаталоге docs для разного


2017-03-01 10:46:46 42a25.11
[@] Рефакторинг
    Убрана глобальная переменная $phpbb_root_path


2017-02-28 13:09:26 42a25.8
[@] Рефакторинг
    Еще убраны лишние вызовы функции parsetemplate()
    Убран неиспользуемый код и соответствующие темплейты
        - admin/changelog.php - не работал
        - admin/messall.php - не работал
        - admin/paneladmina.php - не используется


2017-02-28 12:51:45 42a25.7
[+] Альянсы
    Включена отключенная ранее опция рассылки сообщений членам Альянса - кнопка "Послать сообщения всему Альянсу" в блоке "Управлеение Альянсом"
    Переверстаны некоторые страницы
[+] Админка
    Переверстаны страницы:
        - Администрирование чата
        - Утилиты

[@] Рефакторинг
    Убраны почти все лишние вызовы функции parsetemplate()
    Убран неиспользуемый код и соответствующие темплейты
        - changelog.php - не работал
        - admin/add_research.php - не работал из-за смены формата хранения юнитов
        - admin/del_research.php - не работал из-за смены формата хранения юнитов
        - admin/deletuser.php - просто не работал


2017-02-28 09:39:20 42a25.4
[%] Симулятор
    В верхней строке теперь не выводится надпись "Код доступа"

[@] Рефакторинг
    Упрощёна сигнатура функции display() до двух параметров. Соотвественно изменены вызовы
    Объединены файлы темплейта _global_header и _global_footer в _page. Вывод данных производится в общий темплейт
    Изменены некоторые SQL-запросы для совместимости с подсветкой синтаксиса phpStorm
    Удалены куски неиспользуемого кода


2017-02-27 21:52:44 42a25.2
[@] Код
    Добавлен класс-эмулятор текущего пользователя TheUser - для замены $dpath
    Рендерер ников использует скины для получения иконок ДР, пола и отпуска
    Из кода убрано использвание $dpath - остался только в базе


2017-02-27 14:26:36 42a25.1
[%] Навбар
    Исправлена ошибка показа в попапе ресурсбара неправильного объёма склада при ОЧЕНЬ больших складах


2017-02-27 14:15:14 42a25.0
[~] Навбар
    Теперь в ресурсбаре Альянсов не показывается ненужная строка ёмкости хранилищ


2017-02-25 16:18:54 42a24.10
[@] Код
    Убран неиспользуемый класс skin


2017-02-25 16:16:02 42a24.9
[!] Админка
    Рефакторинг страницы просмотра информации об игроке


2017-02-25 14:09:30 42a24.7
[!] Темплейты
    Класс PTLTag:
        - Замена элементов темплейта их значением
        - Формат: {<prefix>{<text>|[elementID]|...}>
            - <prefix> используется для идентификации. Должен быть отрезан перед передачей в PTLTag
            - <text> - текст
            - [elementID] - название элемента в квадратных скобках. Поддерживаются следующие элементы:
                - Корневые значения {VAR} -> [VAR]
                - Переменные темплейта из $DEFINE - {$VAR} -> [$VAR]
                - Блоковые переменные на текущем уровне - {block.VAR] -> [block.VAR]
            - Количество и комбинации текста и названий элементов могут быть любыми:
                - На примере тэга {I_xxx}: {I_unit_[unit.ID]_red_[UNIT_SIZE]}
            - Сейчас поддерживается в тэгах {R_xxx} и {I_xxx} - см. примеры ниже

    Новый тег косвенной адресации {R_[XXX]}:
        - Позволяет в рантайме выводить значение из элемента, чьё имя генерируется во время исполнения темплейта
        - Пример:
            - Пусть у нас в темплейте есть тэг {R_[RENDER]}
            - Пусть во время исполнения корневой элемент 'VAR' равен 'VALUE';
            - Пусть во время исполнения корневой элемент 'RENDER' равен '{VAR}'
            - Тогда во время компиляции сгенерируется исполнимый код, который во время исполнения темплейта проделает следующее:
                - Возьмет значение переменной 'RENDER', т.е. '{VAR}'
                - Динамически скомпилирует код для вывода переменной '{VAR}'
                - Исполнит его и выведет значение элемента 'VAR', т.е. в нашем конкретном случае - выведет 'VALUE'
        - Тэг надо использовать с осторожностью, избегай вывода переменных, полученных напрямую от пользователя
        - Содержимое элемента может быть любым тэгом из поддерживаемых темплейтом: {$VAR}, {block.VAR}, {D_xxx}, {I_xxx} итд

    Тэг изображения {I_xxx} теперь работает через класс PTLTag
        - Пример:
            - Пусть в skin.ini есть записи
                s_black_moon = "planeten/small/s_black_moon.jpg"
                black_moon = "planeten/black_moon.jpg"
            - Пусть в темплейте есть директива <!-- DEFINE $BLACK = 'black_moon' -->
            - Тогда тэг {I_[$BLACK]} выведет '<HTTP путь к текущему скину>planeten/black_moon.jpg'
            - А вот тэг {I_s_[$BLACK]} выведет '<HTTP путь к текущему скину>planeten/small/s_black_moon.jpg'
        - В квадратных скобках можно использовать любые имена элментов, поддерживаемых PTLTag


2017-02-23 13:56:39 42a24.4
[!] Темплейты
    Начата переделка темплейтов для поддержки мультитемплейтов


2017-02-22 17:31:05 42a24.1
[!] Вёрстка
    Перевёрстан базовый темплейт:
        - Переделан на DIV-ах
        - Меню, навбар и дополнения (новости, заметки итд) подключаются теперь в _global_header


2017-02-22 12:26:27 42a23.17
[+] Навбар
    В старом ресурсбаре теперь так же работают всплывающие окна с подсказками
[+] Обзор планеты
    В список ресурсов на планете добавились всплывающие окна с подсказками


2017-02-22 10:53:11 42a23.13
[+] Навбар
    Полностью переверстан новый ресурсбар
    Улучшена поддержка IE в старом/новом ресурсбарах


2017-02-22 04:48:50 42a23.10
[@] Код
    Упрощены CSS-стили набара


2017-02-22 04:02:48 42a23.8
[@] Код
    В темплейтах навбара настройки планетбара вынесены в темплейтные переменные


2017-02-22 01:46:23 42a23.6
[@] Код
    Теперь при обмене ресурсов используется код RPG_MARKET_EXCHANGE = 35 вместо RPG_MARKET = 6


2017-02-21 02:05:54 42a23.5
[@] Код
    Унифицирован код набаровских кнопок с очередями, а так же упрощена вёрстка и CSS


2017-02-21 00:33:30 42a23.4
[@] Код
    Отформатирован код кнопок навбара


2017-02-21 00:24:49 42a23.3
[@] Код
    Навбар
        - Кнопки с очередями (Исследования, Постройки, Верфь) вынесены из темплейта навбара в отдельные файлы
        - Отформатирован HTML-код навбара


2017-02-20 22:12:58 42a23.1
[%] Строительство
    Исправлена ошибка на экране исследований при которой не включалась кнопка "Исследовать" на планетах у которых закончилось свободное место


2017-02-20 21:54:36 42a23.0
[~] Навбар
    Новости навбара вынесены в отдельный темплейт
    Заметки навбара вынесены в отдельный темплейт


2017-02-19 12:14:23 42a22.4
[~] Админка/Статистика регистраций
    Добавлено количество аккаунтов - т.е. без учёта чисток
    Для детализации по дням месяца теперь показывается день недели


2017-02-19 11:44:28 42a22.3
[~] Регистрация
    Теперь новый игрок начинает игру со всеми прочитанными новостями


2017-02-19 08:33:17 42a22.2
[+] Вселенная
    В режиме сканирования теперь работают попапы на лунах/планетах/итд

[%] Админка
    Исправлена ошибка при попытке имперсонации в несуществующего пользователя


2017-02-18 21:38:25 42a22.1
[!] Админка
    Добавлена страница с балансом материи


2017-02-18 17:06:17 42a22.0
[!] Вселенная
    Добавлен режим сканирования Вселенной:
        - Вход в режим осуществляется нажатием кнопки "Включить режима сканирования"
        - Выход - нажатием кнопки "Выйти из режима сканирования"
        - Вид Вселенной переключается на минималистический
        - Убираются лишние вертикальные отступы в ячейках
        - В режиме сканирования отключаются: меню, навбар, подсказки
        - Так же в режиме сканирования отключаются рамки вокруг таблиц, если они были включены в Настройках


2017-02-18 15:14:37 42a21.13
[~] Навбар
    По умолчанию показ ёмкости в ресубаре теперь включен. Опция в настройках отключает показ ресурсов


2017-02-18 15:05:57 42a21.12
[+] Навбар
    В настройках добавлена опция показа ёмкости складов в ресурсбаре. Опция действует как в новом, так и в старом ресурсбарах


2017-02-18 13:33:58 42a21.11
[@] Код
    Убран неиспользуемый класс userOptionsOld


2017-02-18 09:54:34 42a21.10
[%] Флоты
    В отправке флотов на странице выбора точки назначения переписан JS - изменения в ресурс-баре почему-то дали кидать тут ошибку

[@] Код
    Объявления функций classSupernova::db_changeset_xxx сделаны static - убраны лишние notice


2017-02-18 01:46:46 42a21.9
[+] Интерфейс
    Теперь так же работает перетаскивание элементов тапом на тач-скринах
    В частности - теперь можно поменять положение окна Советника на мобильных устройствах


2017-02-18 01:36:03 42a21.8
[%] Новости
    Исправлена сломанная кнопка "Показать текст новости"


2017-02-18 00:56:33 42a21.7
[+] Навбар
    Вместо букв-маркеров ресурсов (М, К, Д итд) используются иконки
    Новый планетбар используется по умолчанию
    В "Настройки" добавлена опция включения старого планетбара


2017-02-17 12:47:37 42a21.6
[+] Навбар
    В новый планетбар добавлена поддержка вертикального расположения в навбаре
    Добавлены разделители тысяч в попапе нового планетбара
    Включен стандартный попап для энергии в новом планетбаре


2017-02-17 11:11:55 42a21.5
[+] Навбар
    Верстка: металл+кристалл и дейтерий+энергия/тм объединены в блоки - так красивее работает адаптивный дизайн
    CSS и JS из темплейта вынесены в соответствующие файлы


2017-02-17 09:26:42 42a21.4
[%] Флоты
    На странице флотов в полёте исправлена ошибка, когда в таблице флотов вместо общего количества показывался список активных экспедиций


2017-02-17 09:25:10 42a21.3
[+] Навбар
    Добавлена обратная совместимость со старыми ресурсбарами (вертикальным и горизонтальным)
    Добавлена поддержка показа ресурсов Альянса


2017-02-16 06:41:04 42a21.0
[!] Навбар
    Новый ресурсбар (количество ресурсов на планете/в Альянсе) - теперь встроенный в навбар
    Выводится количество ресурсов на планете, а для электроэнергии - баланс (т.е. производство минус потребление)
    При наведении курсора мыши на ячейку с ресурсом (металл, кристалл, дейтерий) появляется попап, в котором указывается:
        - Полное название ресурса;
        - Количество ресурсов на складе;
        - Размер склада;
        - Заполнение склада в процентах
    При открытом попапе клик на ячейку закроет попап
    Так же попап открывается при клике/тапе на ячейке - для мобильных устройств
    Планетбар переверстан с использованием flex и поддерживает адаптивный дизайн

[@] Код
    Заменена библиотека jQuery UI - добавлены виджеты Menu и ToolTip


2017-02-15 23:19:01 42a20.21
[!] Админка
    Небольшой тест функиональности phpBB Template Engine в "Утилитах"

[~] PTL
    Теперь PTL при отсутствии переменных LA_xxx выводит полное название переменной с префиксом, т.е. 'LA_xxx' вместо 'xxx'

[%] Админка
    Исправлена работа форсированного обновления с нуля

[@] Код
    Теперь заголовок окна может передаваться в переменной темплейта PAGE_TITLE


2017-02-15 13:13:35 42a20.19
[~] Обучение
    Теперь окно обучения при перезагрузке страницы не "прыгает" из правого нижнего угла, а сразу открывается в нужном месте


2017-02-15 12:33:27 42a20.17
[!] bbCode
    Переписана работа с bbCode
    Класс BBCodeParser переделан в динамический
    Работа со списком смайликов и bbCode вынесены в новый класс Design
    Из класса classSupernova убран теперь неиспользуемый массив $design
    Базовые смайлики и bbCode вынесены в vars.php


2017-02-15 09:50:16 42a20.16
[%] bbCode
    Исправлена ошибка с нерабочими bbCode в чате у обычных игроков


2017-02-14 19:37:02 42a20.13
[%] bbCode
    Исправлена ошибка с неинициализацией bbCodeParser


2017-02-14 17:13:45 42a20.11
[~] Обновление
    Пересоздана таблица `text`


2017-02-14 16:30:41 42a20.9
[+] Обучение
    Текст и заголовок Обучения теперь могут использовать bbCode


2017-02-14 15:42:59 42a20.8
[%] Документация
    Добавлен утерянный readme.html


2017-02-14 13:55:31 42a20.7
[%] Обучение
    Исправлена ошибка показа блока при полном отсутствии туториала


2017-02-14 13:43:06 42a20.5
[@] Код
    Убрано использование функции cht_message_parse() в модулях
    Убрано использование функции sys_bbcodeParse()


2017-02-14 13:17:28 42a20.3
[@] Код
    Убрано использование функции cht_message_parse() в основном коде


2017-02-14 12:49:40 42a20.2
[+] bbCode
    Новый bbCode - [urlw=URL]text[/urlw] - разворачивается в активную ссылку, которая переодит по URL в текущем окне
    Новый префикс "faq://link.html" - разворачивается в активную ссылку на "link.html" в ЧаВо (FAQ) - если ЧаВо сконфигурировано в настройках сервера
    Активная ссылка на боевой отчёт теперь открывается в текущем окне
    Для bbCode [c] появилась полная версия [color]
    Теперь URL боевого отчёта с текущего сервера автоматически преобразуется в активную ссылку на боевой отчёт
    Теперь ссылки bbCode, открывающиеся в новом окне, подчёркиваются двойной линией

[@] Код
    Добавлена автоинициализация статической части класса через статический метод _constructorStatic() (с ОДНИМ подчёркиванием!)
    Добавлен класс BBCodeParser


2017-02-14 10:39:35 42a20.1
[~] Новости
    Переделан вывод результатов опроса для того, что бы не перекрывать всплывающие окна


2017-02-14 10:21:32 42a18
[~] Обучение
    Локализованы строки в JS Обучения
    Убран доступ к опции PLAYER_OPTION_TUTORIAL_WINDOWED - статус хранится на стороне игрока


2017-02-13 13:44:18 42a17
[+] Обучение
    Теперь обучение можно открыть в окне
        - По умолчанию окно открывается в правом нижнем углу страницы
        - Окно прилеплено и не меняет местоположение при скролле
        - Окно можно перемещать по странице, таская его за заголовок
        - Статус обучения (на странице в навбаре или в окне), а так же положение окна на экране сохраняется в куках отдельно на каждом устройстве
    Теперь можно задать ID первого текста из таблицы `text` в обучаловке - опция 'tutorial_first_item' в таблице `config`
    Теперь при сбросе обучения так же сбрасывается статус "обучение завершено"
[+] Лицензия
    Добавлен файл docs/credits.txt для списка используемых материалов и соответствующих копирайтов

[@] Код
    Добавлена библиотека JS для поддержки кукесов


2017-02-13 09:31:36 42a16
[~] Обучение
    Добавлены локализации кнопок - ru, en


2017-02-12 19:11:37 42a15
[+] Обучение
    Первая рабочая версия Обучения
    Работающие кнопки "Вперед", "Назад", "Закончить"
    Подгрузка новых текстов через AJAX

[@] Код
    Базовый контроллер AjaxController
    Скелетные классы Storage и Repository
    Первая итерация класса PageTutorial
    Первая итерация классов для энтити Text
    Вынесена часть кода из рендера навбара в отдельные функции


2017-02-10 04:46:42 42a12
[@] Код
    Добавлены классы AccessAccessors


2017-02-10 01:27:02 42a11
[@] Код
    Добавлен интерфейс IContainer
    Добавлены классы Invoker, AccessorMagic и AccessorsV2 с тестами


2017-02-08 23:00:13 42a10
[!] Обучение
    Добавлен блок "Обучение" в навбар:
        - Заголовок с кнопкой "Закрыть" (действует только на текущей странице)
        - Основной текстовой блок с картинкой Советника
        - Блок с кнопками
        - Футер
    В "Настройки" добавлены опции:
        - Новые опции располагаются на вкладке "Интерфейс", подвкладка "Обучение"
        - Опция отключения Обучения
        - Опция показа Обучения во всплывающем окне (popup)

[~] Новости
    Переделана кнопка "Закрыть" в блоке новостей - вынесены стили в CSS, а обработчик нажатия - в JS


2017-02-07 16:57:17 42a8
[@] Код
    Добавлены классы: DBAL\DbQuery, HelperArray и Validators, а так же тесты для них и для Pimple



2017-02-07 13:34:05 42a6
[#] Модули
    {~} Документация
        Файлы с документацией переименованы в соответствии с нзваниями модулей
    {%} misc_radio 2c4
        Исправлена ошибка незагрузки минифицированного дизайна
    {@} Код
        Модули переписаны на использование $manifest['mvc']['pages']
        Во все модули добавлено свойство $versionCommitted - автозаменяемое значение, указывающее на версии, в которой был сделан коммит модуля

[@] Код
    Добавлен код для отдельной регистрации страниц модулей


2017-02-07 12:25:29 42a2
[@] Код
    Данные страниц перенесены из $sn_data в $sn_mvc
    Из файлов страниц описания MVC занесены в vars.php


2017-02-07 09:43:45 42a0
[~] Новости
    На обзоре страницы теперь можно ограничивать показываемые новости так же по времени публикации:
        - Настройка game_news_overview_show в таблице config устанавливает давность новости;
        - Задаётся в секундах. По умолчанию - новости давнее 2 недель (1209600 секунд) не показываются;
        - При установке в 0 показывает все новости;


2017-02-07 08:08:51 41d0 Project "SuperNova.WS" Release 41
[!] Project "SuperNova.WS" Release 41 "Festival batch fleet navbar"


2017-02-03 18:05:28 41b2
[~] Инсталляция
    Обновлены SQL-файлы до версии 41


2017-02-03 16:10:49 41b1
[-] Апгрейд
    Апгрейд с очень старый версий движка (СН версии 36 и ниже) больше не поддерживается


2017-02-03 15:52:44 41b0 Project "SuperNova.WS" Release 41 Beta
[!] Project "SuperNova.WS" Release 41 "Festival batch fleet navbar" Beta
    Обновлён файл docs/changelog.txt

[~] Друзья
    Теперь можно отправлять пустой запрос на дружбу (хотя кому и зачем это может понадобиться - непонятно)
[~] МПР
    Теперь можно атаковать ракетами свои же планеты. Таким образом можно избавится от излишних ракет или перехватчиков в шахтах, а так же уничтожать свои защитные сооружения
[~] Флоты
    Время возвращения флота из САБа теперь равно времени полёта на САБ, а не чистому времени полёта флота


2016-10-29 10:43:27 41a60.19
[@] Код
    Папка с классами перемещена в корень движка - автолоадер изменен соответствующим образом
    Переименованы файлы с классами для полной поддержки PSR-4 автолоадера


2016-10-08 19:18:12 41a60.5
[@] Код
    Поддержка модуля interface_batch_operations


2016-09-26 09:33:39 41a9.7
[%] Строительство
    Исправлены ошибка с иногда не срабатывающей кнопкой "Уничтожить строение"


2016-09-25 19:26:24 41a9.5
[%] Авторизация
    Исправлена очепятка в запросе автогенерации имени

[@] Код/JS
    Обновлена библиотеека Ion Sound до версии 3.0.7


2016-09-18 20:55:05 41a9.3
[%] Строительство
    Исправлена ошибка с неправильным отображением характеристики кораблей/обороны на страницах постройки


2016-09-18 18:02:18 41a9.2
[+] Дизайн
    Снова оптимизированы картинки более совершенной версией оптимизатора


2016-09-18 11:32:58 41a8.31
[%] Строительство
    Исправлена ошибка с неизменяемыми остатками в таблице ресурсов при постройке флота/обороны


2016-09-18 10:22:47 41a8.30
[%] Строительство
    Исправлены нерабочие кнопки "+" и "-" в интерфейсе строительства


2016-09-17 23:32:18 41a8.29
[%] Заметки/Закладки
    Исправлена невозможность редактирования текста Заметки в новых версиях Хрома


2016-09-09 01:23:12 41a52.88
[~] Постройка
    Немного переработан темплейт построек для соответствия изменениям в JS (см. ниже)
    Так же для уменьшения количества "ошибок" - формально некорректный синтаксис из-за использования PTL

[@] Код/JavaScript
    В основном коде заменены deprecated функции jQuery:
        - bind(), live() и delegate() на on();
        - unbind() - на off();
        - В этот раз - честно-честно!
    В класс Math добавлены функции-аналоги PHP-шных intval() и floatval() и функции округлений
        - Эти функции всегда возвращают только числовые значения, а NaN преобразуют в 0
        - В некоторых местах parseFloat() и parseInt() заменены на новые функции;
    sn_format_number():
        - Функция оптимизирована и разбита на две части
        - Первая - считает вид числа;
        - Вторая - выдаёт соответствующий cssClass для расцветки;
        - При сохранении обратной совместимости (deprecated по факту) теперь можно менять сразу класс элемента, без вставки <span /> в DOMик;
        - Добавлена соотвествующая функция-враппер elementPrettyNumber().
    Постройка:
        - Все значения от PHP теперь пропускаются через новые функции;
        - Оптимизирована работа разных кусков JS и улучшен код;
        - Убрано обращение к document;
    ...а так же всякие мелкие оптимизации.



2016-06-05 20:07:31 41a8.2
[~] Модули
    Поддержка Хайспота "День Рождения СуперНовы"


2016-03-17 21:40:22 41a6.4
[@] Константы
    Поддержка медалей и мемориалий на ивент 8 марта 2016 года


2016-01-26 21:56:35 41a3.4
[%] Вселенная
    Исправлено именование/переименовывание Галактики/Вселенной, когда они отличаются от текущих


2016-01-25 22:41:42 41a3.3
[+] Заметки/Закладки
    Исправлена ошибка, делающая удаление Закладок невозможным при выборе некоторых диапазонов
    Изменения на основной странице Закладок:
        - Заголовок и текст закладки выделяется цветом важности. Отдельный словесный маркер важности убран за ненадобностью;
        - Название объекта в космосе, на который указывает закладка, отображается сокращённо - (П) для Планеты, (Л) для Луны и (О) для Поля обломков
        - Статус "прилепленной" закладки показывается иконкой, а не надписью "Прилеплена";
        - Дата в списке закладок перенесена в заголовок;
        - Увеличена максимальная ширина таблицы с закладками - для обладателей широкоформатных мониторов;
        - На маленьких экранах если заголовок не влазит по ширине - он будет разнесен на нужное количество строк;
        - Диапазоны выбора какие закладки удалять в верхней и нижней части синхронизированы. Т.е. выбор диапазона в верхнем элементе приводит к изменению диапазона в нижнем элементе - и наоборот
    Редактирование/создание закладки:
        - При выборе важности закладки меняется цвет заголовка, текста и самого выбранного элемента;
        - Если в закладке пустой текст и заголовок, но указана хотя бы одна координата (галактика, система или планета) - закладка будет сохранена;


2016-01-23 19:52:52 41a3.2
[+] Флоты/Подбор флота
    Названия характерстик на миниатюрах кораблей заменены иконками
    Название корабля теперь выделяется голубым цветом
    Добавлены настройки (пункт меню "Настройки", вкладка "Интерфейс", подвкладка "Флоты"), на которых можно:
        - Включить "старый режим" - без картинок и с выводом количества кораблей в отдельном столбце;
        - Отключить показ каждой характеристики корабля отдельно: т.е. скорости, ёмкости трюмов, потреблении;


2016-01-22 23:38:06 41a3.1
[~] Флоты/Подбор флота
    Выделены цветом названия кораблей (желтый) и количество на орбите (зеленый


2016-01-22 22:49:10 41a3.0 - Страница подборки флота
[!] Флоты/Подбор флота
    Переверстана страница подбора кораблей во флот:
        - Уменьшена ширина списка кораблей для удобства мобильных пользователей;
        - Миниатюра корабля:
            - Вместо названия корабля и скорости полёта поставлена миниатюра корабля;
            - Клик или тап на миниатюре переадресует на страницу о подробной информации корабля;
            - Миниатюра корабля приведена к общему стандарту - название корабля в верхней строке и количество кораблей на орбите в нижней строке (вместо отдельной колонки);
            - Так же на миниатюре корабля выводится: скорость полёта, расход топлива и ёмкость трюмов;
            - Если корабль не может покинуть орбиту планеты/луны (Солнечный Спутнки, ТОП итд), то вместо характеристик выводится надпись "Спутник";
        - В верхней части списка кораблей продублированы все кнопки. Теперь не обязательно листать до низа страницы, что бы быстро поднять все корабли или свезти ресурсы;
        - Настройки сортировки перенесены в самое начало страницы - по аналогии с другими страницами;
    Теперь при отсутствии свободных слотов для нового флота:
        - Скрываются кнопки массового выбора кораблей, перехода на следующую страницу и своза ресурсов (поскольку слотов под своз всё равно нету);
        - Скрывается мультиэлемент выбора кораблей;
        - Миниатюры кораблей выводятся в большем размере - что бы легче читались характеристики.


2016-01-17 15:43:49 41a2.0 - Новая страница настроек сервера
[!] Админка/Настройки
    Полностью переверстана таблица настроек сервера - со вкладками и на div-ах!


2016-01-14 09:57:12 41a1.0 - Изоляция таблицы `fleets`
[!] Код
    Изолирован код, обращающийся к таблице `fleets`

[~] Флоты/Минифлот
    Доработан заголовок минифлота


2015-12-26 00:54:08 41a0.45
[%] Дизайн
    Исправлены "скачки" вертикального скроллера при скролле до самого низа страницы
    Исправлен черный фон на экране логина в некоторых браузерах


2015-12-24 12:54:12 41a0.43
[!] Дизайн
    Общий responsive бэкграуд Блица для всех скинов
    Responsive бэкграунд при входе в игру в обоих режимах (СН/Блиц)


2015-12-24 09:36:20 41a0.42
[~] Навбар
    Твик, который должен решить проблемы в некоторых мобильных Хромах


2015-12-23 21:11:30 41a0.37
[+] Навбар
    Поддержка добавочных кнопок вверху навбара


2015-12-22 23:03:44 41a0.33
[%] Навбар
    Исправлена ошибка "прыжков" ресурс-навбара в вертикальной ориентации


2015-12-22 15:30:58 41a0.31
[+] Навбар
    Ресурсный навбар:
        - Теперь ресурсный навбар может быть сделан вертикальным
        - "Настройки", раздел "Интерфейс", вкладка "Панель навигации", опция "Вертикальная панель ресурсов"
        - При этом ресурсный навбар "прижимается" сбоку от основного навбара - полезно игрокам с широкими мониторами
    Добавлены поясняющие надписи к кнопкам
    Немного переделан навбар - больше флексбоксов богу флексбоксов!


2015-12-22 12:25:50 41a0.26
[~] Император
    Улучшена читаемость страницы, немного уменьшена HTML-выдача

[@] Код
    Теперь модули могут добавлять свои CSS-файлы и конструкции в заголовок


2015-12-22 01:22:18 41a0.20
[~] Дизайн
    Опять сделан прозрачным основной фон навбара
    Скин supernova-ivash: добавлены стили для TD/TH
    Реформат:
        - Страница партнерской программы;
        - Страница управления Альянсом;

2015-12-22 00:00:32 41a0.17
[+] core_festival
    Еще поддержка хайспота Gather


2015-12-21 06:06:09 41a0.12
[+] core_festival
    Добавлено больше поддержки хайспота Gather


2015-12-21 03:41:22 41a0.10
[+] core_festival
    Добавлена поддержка хайспота Gather

[@] Код
    Исправлен двойной вызов MVC('model', '')


2015-12-20 02:12:59 41a0.7
[@] Код
    Унифицирован вызов MVC-хуков. Теперь их потенциально можно роутить в базовом варианте
    Вьюшки с IN_ADMIN в модулях теперь корректно выдают страницу с обрамлением админки


2015-12-19 04:12:25 41a0.5
[~] Навбар
    Добавлена поддержка ивента ЁГ


2015-12-19 04:03:10 41a0.4
[@] БД
    Добавлена поддержка ивентов типа Puzzle - сбор целого по кусочкам


2015-12-18 06:43:00 41a0.3
[%] Дизайн
    Исправлена очепятка в EpicBlue/skin.ini


2015-12-18 05:01:09 41a0.1
[@] БД
    Добавлена поддержка фестивалей


2015-12-18 01:35:35 41a0.0
[%] Настройки
    Исправлена ошибка появления подвкладки с настройками интерфейса при первом открытии страницы


2015-12-18 00:32:57 40d0 Project "SuperNova.WS" Release 40
[!] Project "SuperNova.WS" Release 40 "RD auth planet universe que sn_timer"
    Release


2015-12-17 23:51:12 40c1.3
[!] Планета
    Прогресс застройки:
        - Код рендеринга застройки планеты унифицирован с кодом страницы Планета/Управление
        - Изменено цветовое кодирование прогресса застройки:
            - Зеленый цвет - свободно не менее 50% секторов;
            - Желтый цвет - свободно меньше 50%, но не меньше 25% секторов;
            - Оранжевый цвет - свободно меньше 25%, но не меньше 10% секторов;
            - Красный цвет - свобдно менее 10% секторов - стоит подумать о постройке Терраформера или расширении планеты
    Теперь отображаются бонусные и максимальные уровни текущего Губернатора (если они есть)
    Добавлена кнопка "Улучшить или сменить Губернатора" если Губернатор уже есть на планете
    JS-код вынесен в отдельный файл
    Вынесены CSS-стили

[+] Планета/Управление
    Теперь отображаются бонусные и максимальные уровни текущего и нанимаемых Губернаторов (если они есть)
    Добавлена иконка помощи для каждого из нанимаемых Губернаторов
    Вынесены CSS-стили
[+] Дизайн/Картинки
    Иконка информации (чёрная буква "i" в синем круге) заменена на иконку помощи (белый вопрос в синем круге с белой окантовкой)
[+] Строительство
    В подробном описании юнита добавлена ссылка на статью в Новапедии - иконка помощи на изображении юнита

[@] Код
    CSS:
        - Добавлены классы абсолютного позиционирования
        - Добавлены флекс-контейнеры


2015-12-17 02:10:53 40c1.0
[!] Планета/Управление
    Страница переверстана
    Разделены формы смены типа ядра, переноса Столицы, телепортации и покидания колонии что бы исключить любое возможное ложное срабатывание
    Добавлены подтверждения на перенос Столицы, Телепортацию и покидание колонии


2015-12-14 08:18:40 40c0.4
[+] Наемники/Чертежи
    Изображение юнита:
        - Название юнита перенесено на саму картинку
        - Добавлен текущий и бонусный уровни - теперь бонусы к Наемникам/Чертежам видны и без найма
        - Для юнитов, покупаемых на время, под уровень подложен прогресс-бар, ширина которого указывает на количество оставшегося времени действия юнита
        - Прогресс-бар имеет цветовое кодирование:
            - Зеленый цвет - >= 50% общего времени найма;
            - Желтый цвет - < 50%, но >= 25% общего времени найма;
            - Оранжевый цвет - < 25%, но >= 10% общего времени найма;
            - Красный цвет - < 10% общего времени найма


2015-12-14 05:20:24 40c0.3
[@] Платежи
    Получение курса теперь производится через функцию get_exchange_rate() в которой предусмотрено получение стоимости ММ через перекрываемую функцию get_mm_cost()
    Класс платежей для получения курса использует get_exchange_rate()


2015-12-14 04:20:27 40c0.2
[@] Отладка
    Добавлен подсчёт времени, затраченный движком на query и fetch_assoc
    Добавлен вывод точки вызова в pdump - для лучшей отладки и поиска, кто же это срёт в вывод


2015-12-06 16:05:00 40c0.0 Project "SuperNova.WS" Release Candidate 40RC0
[!] Project "SuperNova.WS" Release Candidate 40RC0 "RD auth planet universe que sn_timer"
    Обновлён файл docs/changelog.txt


2015-12-06 15:26:44 40b1.2
[%] Апдейтер
    Исправлены ошибки апдейта


2015-12-06 15:10:58 40b1.0
[!] Апдейтер
    Обновлен файл docs/supernova.sql
    Обновлен файл docs/supernova-data.sql
    Добавлено удаление лишних индексов из таблицы `planets`
    Версия БД увеличена до 40-й
    Версия релиза увеличена до 40-й


2015-12-04 23:07:47 40b0.36
[#] skins/immi
    (%) Исправлены ошибки в скине


2015-12-04 23:04:18 40b0.35
[%] Скины
    Исправлена ссылка supernova-ivash на самого себя
    Исправлены неправильные пути к иконкам навбара


2015-12-04 22:45:41 40b0.34
[!] Скины
    supernova-ivash: удалены дубликаты картинок, которые есть в родительском скине
    EpicBlue: удалены дубликаты картинок


2015-12-04 22:42:58 40b0.33
[#] skins/immi
    (!) Скин-предок для immi - теперь supernova-ivash
        Удалены картинки-дубликаты, имеющиеся в родителе


2015-12-04 20:56:20 40b0.32
[+] Скин/supernova-ivash
    Пережаты изображения планет малого размера в стандартное для них разрешение 88x88


2015-12-04 17:04:32 40b0.30
[~] Очередь построек
    На общей панели постройки количество юнитов/уровень в текущем слоте отображается на новой строке


2015-12-04 16:28:03 40b0.29
[~] Дизайн/Изображения
    Добавлены новогодние смайлики


2015-12-04 16:25:43 40b0.28
[~] Дизайн/Изображения
    Еще немного пожаты некоторые глобальные изображения


2015-12-04 15:46:39 40b0.27
[@] Класс skin
    Оптимизация-2


2015-12-04 14:46:52 40b0.26
[@] Класс skin
    Оптимизация-2
    Заглушка _NO_IMAGE компилируется однократно при инициализации скина
    Теперь каждый скин может иметь собственную заглушку _NO_IMAGE

2015-12-04 12:21:12 40b0.24
[+] BBCode
    Добавлен новый макрос 'faq://' - разворачивается в УРЛ ЧаВо, если он прописан в 'url_faq' конфигурации

[@] Класс skin
    Оптимизация-1


2015-12-04 10:49:47 40b0.23
[@] Класс skin
    Теперь в контейнере вдобавок к HTTP-пути к картинке хранится и скомпилированная строка при указании параметров;
    При запросе параметризированного тэга у родителя запрашивается только HTTP-путь к файлу, а параметры применяются по правилам скина;
    Теперь всегда корректно применяются параметры тэга {I_xxx|yyy}
    Проверки file_exists() заменены на is_file()
    Добавлено изображение-заглушка _NO_IMAGE в случае отсутствия изображений
    Переписана логика компиляции изображения


2015-12-04 08:41:53 40b0.22
[@] Класс skin
    Добавлена проверка на физическое существование картинки. Если её не существует - идёт откат на родительские данные


2015-12-04 07:36:04 40b0.21
[!] Скин/supernova-ivash
    Добавлены цветные кнопки в навбар. Большое спасибо Ivash@Alpha


2015-12-04 07:00:25 40b0.20
[@] Код
    На странице Построек и в Очереди используются изображения юнитов, назначенные в skin.ini
    Минифицирован build_unit.js - размер уменьшен на 30%


2015-12-03 20:32:42 40b0.19
[!] Дизайн
    Минифицированы CSSы: глобальные и в скинах EB и SN-I
[@] JS
    Минифицированы глобальные JS-файлы. Оригинальные версии лежат рядом


2015-12-03 20:22:13 40b0.18
[#] skins/immi
    (!) Оптимизированы изображения
        Минифицирован CSS


2015-12-03 18:35:26 40b0.16
[!] Дизайн/Изображения
    Оптимизированы изображения в скинах EP и SN-I. Как и раньше - средний выигрыш более 20%


2015-12-03 12:22:00 40b0.15
[~] Дизайн/Скины
    В скинах 'EpicBlue' и 'supernova-ivash' расширения файлов-картинок приведены в соответствие с их реальным типом


2015-12-03 10:52:55 40b0.14
[!] Дизайн/Изображения
    Оптимизированы изображения в каталоге design/ - в среднем размеры изображений уменьшены на 20%


2015-12-02 17:04:58 40b0.11
[+] Настройки
    Вкладка "Интерфейс" теперь содержит подвкладки "Общие", "Настройки меню" (бывашя вкладка), "Панель навигации" и "Вселенная"


2015-12-02 14:36:17 40b0.10
[+] Навбар
    Теперь в настройках навбара (пункт меню "Настройки", вкладка "Интерфейс", раздел "Панель навигации (вверху экрана)") можно так же отключить кнопку метаматерии


2015-12-02 13:32:16 40b0.9
[%] Метаматерия
    Исправлена ошибка, когда при покупке Альянсовских плюшек (Чертежи, Наёмники итд) списывалась ММ с аккаунта покупающего


2015-12-01 10:20:15 40b0.7
[+] Дизайн/Скины
    supernova-ivash: Добавлена плашка навбара ММ


2015-12-01 09:25:55 40b0.6
[+] Дизайн/Скины
    EpicBlue: Прописаны пути для плашек в навбаре
    supernova-ivash: Плашки в навбаре заменены на подходящие по тону (кроме плашки ММ)
[+] skin.ini
    Добавлена поддержка HTTP-пути от корня СН, например - '/design/images/navbar_hangar.png' станет 'http://localhost/supernova/design/images/navbar_hangar.png' если HTTP-корень СН в 'http://localhost/supernova/'

[~] Дизайн/Вёрстка
    Навбар: Адреса картинок (src) заменены с путей на имена {I_xxx}


2015-11-30 21:16:51 40b0.4
[~] Страница постройки
    Добавлено разрежение ячеек в подтаблицы цены и допинформации о юните
    Добавлено выделение четных рядов другим фоном в подтаблице допинформации
[~] Навбар
    Увеличена прозрачность фонов под цифрами-индикаторами


2015-11-30 13:41:19 40b0.3
[~] Новости
    Добавлен отступ от предыдущего элемента при выводе новостей на страницах игры
    При выводе на страницах игры используется тонкая рамка


2015-11-30 13:32:07 40b0.2
[~] Новости
    Кнопки действия над новостью (для Администрации) перенесены из отдельных колонок под саму новость
    Толстая рамка вокруг опроса заменена тонкой


2015-11-30 13:03:10 40b0.1
[!] Навбар
    Настройки навбара (пункт меню "Настройки", вкладка "Интерфейс", раздел "Панель навигации (вверху экрана)"):
        - Теперь можно так же отключить:
            - Кнопку исследований
            - Кнопку флотов в полёте
            - Кнопку экспедиций
        - По умолчанию кнопка исследований теперь имеет стандартную ширину. Вернуть старый вид можно включив опцию "Широкая кнопка исследований (старый вид)"
    Если на планете есть очередь зданий она выводится на кнопке планеты аналогично Исследованиям и Ангару. При этом количество занятых и свободных слотов не выводится
    Имена планет в дропдауне переключения приведены к стандартному виду [координаты] (тип) Имя
    Навбар переверстан под flex-box - теперь корректно переносятся кнопки на маленьких экранах
    Все инлайн-стили вынесены в _template.css


2015-11-30 10:01:14 40b0.0 Project "SuperNova.WS" Release 40 Beta
[!] Project "SuperNova.WS" Release 40 Beta "RD auth planet universe que sn_timer"
    Бета-версия 40-го релиза доступна для тестирования
    В changelog.txt внесены все изменения по коммит "2015-11-29 05:07:31 40a19.24", включительно
    Не забываем после обновления чистить папку 'cache'
    Взять бету можно по ссылке https://github.com/supernova-ws/SuperNova/archive/master.zip
    За новыми версиями модулей обращаться по личным каналам. Лучше всего - в скайп supernova.ws. Изменений в модулях до релиза не будут и текущие модули так же пойдут на релизе


2015-11-29 05:07:31 40a19.24
[~] Админка/Обслуживание
    Добавлена чистка очередей на покинутых и удалённых планетах
[%] Админка/Обслуживание
    Исправлено сохранение боевых отчётов из списка "Лучшие бои" при чистке таблицы `ube_report`
    Исправлено отсутствие отчёта при выполнении обслуживания


2015-11-29 01:09:13 40a19.22
[~] Меню
    Добавлена иконка для пункта меню "Лучшие бои"


2015-11-28 06:30:27 40a19.21
[#] info_best_battles 1b0
    (!) Модуль "Лучшие бои"
        Добавляет в меню новый пункт "Лучшие бои", который открывает соответствующую страницу
        Для каждого боя выводится:
            - Порядковый номер в таблице;
            - Дата и время боя;
            - Общее количество обломков в пересчете на металл;
            - Ссылка на просмотр соответствующего боевого отчёта;
        На странице выводится 50 лучших боёв
        Бои сравниваются по общему количеству обломков в пересчете на металл
        В таблицу попадают только бои, которые произошли не ранее 2-х суток от текущей даты, т.е.:
            - 2015-11-28 в 00:11:30 будут доступны бои, произошедшие до 2015-11-26 00:00:00 (не включая полуночь);
            - Бои, происшедшие 2015-11-26 появятся в списке лучших боёв 2015-11-29 ровно в 00:00:00 (если, конечно, образовалось больше обломков, чем у худшего из лучших боёв);
            - Это сделано специально, что бы дать всем заинтересованным сторонам собрать лом с орбиты;
        Лучшие бои не удаляются из базы данных во время процедуры технического обслуживания

[~] Боевой отчёт
    Добавлен заголовок на страницу
    Ссылки на планеты приведены к стандартному виду - [координаты] (тип) Имя
    Улучшена вёрстка


2015-11-26 13:31:33 40a19.20
[!] Акции
    Теперь на странице информации "О сервере" выводится стандартное значение рейтов и значение рейтов в рамках акции
    Теперь во время акций с увеличением скорости добычи ресурсов:
        - Размеры хранилищ не увеличиваются - это вызывало много вопросов у новичков
        - Добыча И потребление энергии НЕ ИЗМЕНЯЮТСЯ - т.е. не надо строить дополнительные энергомощности или хранить избыток
        - Добыча в экспедиции не изменяется, как и было задумано

[@] Код
    Немного форматирования


2015-11-26 12:16:05 40a19.19
[~] Платежи
    Немного доработана страница платежей

[~] Вселенная
    В обеих вариантах вселенной относительные ссылки на иконки действий заменены абсолютными - может это поможет решить проблему на некоторых мобильных телефонах


2015-11-24 20:15:52 40a19.18
[~] Реклама
    Изменены условия показа рекламного блока:
        - Реклама не показывается игрокам, которые играют меньше недели
        - Реклама не показывается игрокам, которые взяли Премиум-аккаунт

[@] Код
    Переформатирован файл vars_menu.php
    Добавлен фейковый файл констант для поддержки в phpStorm констант из модулей - их теперь можно вынести из основного кода


2015-11-24 00:12:16 40a19.17
[~] Дизайн/Темплейты/OpenGame
    Максимальная ширина таблицы юнитов установлена в 100em


2015-11-23 04:24:40 40a19.13
[@] Код
    Добавлены phpDoc в includes/template.php


2015-11-19 22:02:27 40a19.12
[+] Очередь постройки
    Добавлено диалоговое окно с подтверждением при полной очистке очереди
    Добавлено диалоговое окно с подтверждением при использовании Артефакта


2015-11-19 16:31:53 40a19.11
[+] Очередь постройки
    Прогресс-бары теперь можно отключить - пункт меню "Настройки", вкладка "Интерфейс", опция "Отключить прогресс-бары"
    Теперь не рендерится очередь постройки, если контейнер для неё невидим - например, в навбаре
[+] Планета
    Добавлены прогресс-бары к общей информации об очередях
[+] Навбар
    Добавлены прогресс-бары к плашке исследований


2015-11-19 14:09:41 40a19.10
[!] Очередь постройки
    Список юнитов в очереди переверстан на дивах с использованием flex-box
    В очередь постройки добавились прогресс-бары:
        - Прогресс-бар постройки текущего юнита в текущем слоте очереди:
            - Цвет - зеленый
            - Выводится под таймером обратного отсчёта постройки текущего юнита
            - Учитывается ПОЛНОЕ время постройки юнита - т.е. при перезагрузке страницы время продолжит идти
            - Показывает процент завершения постройки текущего юнита - т.е. увеличивается со временем
            - Виден во всех очередях постройки на первом слоте в очереди и в навбаре в плашке верфи
        - Прогресс-бар постройки всех юнитов в текущем слоте:
            - Цвет - синий
            - Выводится под количеством юнитов в текущем слоте (для зданий, очевидно, выводится всегда - здания строятся поштучно)
            - Показывает оставшееся количество юнитов к постройке в текущем слоте - т.е. уменьшается со временем
            - Виден во всех очередях постройки на всех слотах
        - Общий прогресс-бар очереди:
            - Цвет - болотный;
            - Выводится под общим таймером обратного отсчёта всей очереди
            - Учитывается ОСТАВШЕЕСЯ время всех слотов в очереди - т.е. при перезагрузке страницы отсчёт стартует с начала
            - Показывает поставшееся время до завершения всей очереди - т.е. уменьшается со временем
            - Виден на странице постройки и в навбаре в плашке верфи
    Оптимизирована работа таймера очередей, так что новые прогресс-бары не должны сказаться на быстродействии

[+] Страница постройки
    Превьюшки юнитов теперь занимают максимум ширины - на широкоформатных мониторах станет меньше вертикального скроллинга
    Улучшилось отображение вертикальной очереди при включенных рамках
    Крайне рекомендуется использовать вертикальную очередь на широкоформатных мониторах - пункт меню "Настройки", вкладка "Интерфейс", опция "Вертикальные очереди"
[+] Дизайн/Скины/EpicBlue
    Заменены изображения Терраформера и Большого Планетарного Шита
    Изображения для Нанолаборатории, МИС, Астрокартографии, Гордыни, ТОПа, ПЗ, Малого Планетарного Щита, МПР и Перехватчика приведены к стилю остальных картинок
    За проделанную работу - особая благодарность игроку 4apaeff@Alpha


2015-11-16 10:17:40 40a19.9
[+] Страница постройки
    Настройки сортировки внесены в основную таблицу
    Таблица стоимости постройки всегда выровнена по левому краю - так уменьшается количество "скачков" при переходе между юнитами
    В Верфи/Обороне галочка "Автоконвертация" перенесена над количеством юнитов - так исключена вероятность нежелательного нажатия при игре на устройствах с тач-интерфейсом
    В очереди построек ссылки "Очистить очередь", ссылка Артефакта ("Наностроитель"/"Эвристический чип") и "Отменить последнее" сделаны кнопками. Это выделит данные элементы, а так же уменьшит количество ложных нажатий
[~] Юниты
    "Хранилища" переименованы в "склады" - так короче. Уточнено и расширено описание хранилищ


2015-11-16 08:46:37 40a19.8
[~] Обзор Планеты
    Добавлены координаты и название планеты в виде заголовка страницы
    Убрано уведомление "У вас Х новых сообщений"
[~] Заметки
    Продублирована группа элементов для удаления заметок в самом верху страницы

[@] Код
    Убрано предупреждение при пустом списке JS-файлов на странице
    Немного подчищен код


2015-10-30 23:11:23 40a19.7
[!] Хэлоуин
    Поддержка ивента "Хэллоуин-2015"


2015-10-30 21:43:22 40a19.6
[!] Хэлоуин
    Поддержка ивента "Хэллоуин-2015"


2015-10-30 19:09:01 40a19.5
[!] Хэлоуин
    Поддержка ивента "Хэллоуин-2015"

[+] Темплейты
    Поддержка централизованного добавления JS-файлов и кода в заголовок страницы
    Поддержка global_override.css для всего сервера


2015-10-29 00:16:48 40a19.4 - Дизайн v2 - Phase 20
[!] Дизайн
    Переделаны картинки ВебМани на странице платежей при выборе метода платежа
    Скин supernova-ivash: доработан CSS для перекрытия наследованных цветов


2015-10-28 21:58:26 40a19.1 - Дизайн v2 - Phase 19
[!] Дизайн
    Выделены скинозависимые цвета в _template.css


2015-10-28 21:01:55 40a19.0 - Дизайн v2 - Phase 18
[!] Дизайн
    body font-size установлен в 1em вместо 1rem - это должно устранить проблему с превым открытием странице в Хроме с его долбанутой системой кэширования CSS
    OpenGame/_template.css:
        - Из скинов вынесены стили для стандартной рамки;
        - Добавлены правила для обработки заголовков основной части страницы через [table_title]::before (то, что сейчас является PAGE_TITLE);
        - Часть skin-related цветов вынесена в "подвал";


2015-10-27 20:41:51 40a18.15
[~] Отправка флотов
    Выбор точки назначения: рамки вокруг точек назначения заменены на тонкие


2015-10-27 19:04:14 40a18.11 - Редизайн страницы "Технологии"
[!] Технологии
    Редизайн страницы:
        - Вкладки на каждый вид технологий;
        - Блочная, а не табличная вёрстка;
        - Гибкая вёрстка в зависимости от размера экрана
        - Добавлены картинки юнитов;
        - Списки "Требуется" и "Предоставляет" теперь являются ссылками - можно сразу перейти на просмотр описания требуемых/предоставляемых технологий;
    Новый дизайн страницы должен подойти любому игроку - начиная от мобильных пользователей и заканчивая владельцами широкоформатных экранов: он динамичен, масштабируем, информация организована удобнее и сама страница занимает меньше экранного пространства
    Табличный дизайн можно включить в "Настройках" вкладка "Интерфейс" опция "Страница Технологий в виде таблицы (старый вид)"

[~] Настройки
    Настройки, которые имеют только один чекбокс приведены к общему виду: сначала идёт чекбокс, затем - описание. Это улучшает читаемость и удобство таблицы, а в некоторых случаях - уменьшает вертикальный размер страницы "Настроек"
[~] Дизайн/Скины
    EpicBlue: Добавлено изображение для ресурса "Метаматерия". Соответственно - оно появилось и во всех остальных скинах;
    supernova-ivash:
        - Выставлен цвет заполненной части у слайдера;
        - Добавлены рамки-изображения к попапам;
        - Исправлена ошибка непоказа в некоторых случаях изображения Эсминца;


2015-10-25 23:06:39 40a18.10
[%] Скины/supernova-ivash
    Исправлен индекс картинки Ракетной шахты в Постройках


2015-10-25 22:40:58 40a18.9
[%] Планета/Управление
    Исправлена ошибка покидания колонии


2015-10-25 21:23:43 40a18.8
[+] Планета/Управление
    Добавлено подтверждение на покупку сектора


2015-10-25 20:00:49 40a18.7
[+] Вселенная
    В новой Вселенной добавилось выделение поля обломков цветной рамкой в зависимости от количества ресурсов
    В обоих видах Вселенной (старый и новый) изменилась цветовая кодировка обломков: добавились новые градации и изменились границы переключения цветов на более интуитивные:
        - Без фона/рамочки - менее 1.000 единиц обломков;
        - Зеленый фон/рамочка - не менее 1.000 и не более 1.000.000 единиц;
        - Желтый - не менее 1.000.000 и не более 1.000.000.000 единиц;
        - Оранжевый - не менее 1.000.000.000 и не более 1.000.000.000.000 единиц;
        - Красный - не менее 1.000.000.000.000 единиц;

[~] Постройки/Исследования
    Немного увеличены размеры иконок на превьюшках юнитов. Так же сами иконки масштабируются при изменении размеров шрифта как внутренними методами СН, так и средствами браузера


2015-10-25 17:00:13 40a18.6 - Дизайн v2 - Phase 17
[!] Дизайн
    Добавлено подтверждение на покупку сектора
    Оптимизированы CSS-файлы
    Попапы обзавелись тонкими рамочками (там где их не было и при включенных рамках)
    Отмеченные чекбоксы теперь подсвечиваются зеленым - в старой Опере и браузерах на основе WebKit
    Перекрашены псевдокнопки - теперь они не отличаются по стилю от конопк jQuery-UI
    В новом виде Вселенной убраны подчеркивания на кнопках Игрока и Альянса
    Исправлена ошибка переименования планеты, когда к спецсимовлам добавлялся слэш


2015-10-24 19:34:00 40a18.2 - Дизайн v2 - Phase 16
[!] Дизайн/Скины/skin.ini
    Поддержка позднего связывания в темплейтах для PTL-структуры DEFINE, например {I_[$PLANET_GOVERNOR_ID]}
    Поддержка skin.ini:
        - gebaeude
            - DEFINE в Обзоре Планеты и Управлении Планетой
        - planeten
            - Список планет (Империя и Планета);
            - Вселенная (старая, новая и общий блок, включая попапы)
            - Навбар - кнопка текущей планеты
        - menu_empire_emperor.png - {dpath}icons/menu_empire_emperor.png
            - Настройки
            - Поиск
            - Статистика
            - Вселенная (везде)
        - Меню
            - Все иконки, включая иконки с путями

    Замена большой рамки маленькой:
        - Управление планетой (вокруг Губернаторов);
        - Вселенная - все попапы. Рамка сделана полупрозрачной;


2015-10-24 17:22:34 40a18.1 - Дизайн v2 - Phase 15
[!] Дизайн/Скины/skin.ini
    Поддержка skin.ini:
        - gebaeude
            - Артефакты;
            - Наёмники;
            - Отправка флотов - миниатюры кораблей во флоте;
            - Список планет (Империя и Планета);
            - Управление планетой (Губернаторы);
    Замена большой рамки маленькой:
        - Управление планетой (вокруг Губернаторов);

[@] Код
    Удалён каталог ".unused" вместе с содержимым


2015-10-24 17:08:58 40a18.0 - Дизайн v2 - Phase 14
[!] Дизайн/Скины/skin.ini
    В подсистему скинов добавлена поддержка файла конфигурации "skin.ini"
    Постройки/исследования (buildings_build) поддерживает "skin.ini":
        - В превьюшках юнитов;
        - В большом изображении юнита;
    Очередь юнитов (eco_queue) поддерживает "skin.ini" в иконках очереди
    Новапедия (novapedia) поддерживает "skin.ini" в изображениях юнита


2015-10-23 18:04:40 40a17.16
[%] Дизайн
    Исправлена ошибка из-за которой в некоторых конфигурациях сбрасывается внутренний размер шрифта


2015-10-23 00:44:20 40a17.14 - Дизайн v2 - Phase 13
[!] Дизайн
    Обновлены рамки в скинах "EpicBlue" и "immi"
    Добавлена поддержка тонких рамок в скин "supernova-ivash"


2015-10-22 22:27:24 40a17.10 - Дизайн v2 - Phase 12
[!] Дизайн
    Добавлена возможность отключения рамки в скин "immi"


2015-10-22 22:21:49 40a17.9 - Дизайн v2 - Phase 11
[!] Дизайн
    Исправлена ошибка с размером лун в списке планет на странице "Обзор Планеты"
    Добавлена возможность отключения рамок в скин "supernova-ivash"


2015-10-22 21:43:30 40a17.8 - Дизайн v2 - Phase 10
[!] Дизайн
    Страница строительства корректно масштабируется с рамками и без
    Отправка флотов:
        - Страница выбора миссии при отправке флотов корректно масштабируется с рамками и без
        - Миниатюры кораблей теперь масштабируются вплоть до 1700 пикселов по ширине - на больших экранах в одну строку влазит больше кораблей
        - Корявый указатель направления миссии "=>" заменен на красивую стрелочку с подписью типа миссии
    В скине EpicBlue добавлены тонкие рамки к планет-бару (количество ресурсов на планете сразу под навбаром) и на страницу строительства - вокруг сортировки, блока дополнительной информации и блока стоимости строительства


2015-10-22 18:55:04 40a17.7 - Дизайн v2 - Phase 9
[!] Дизайн
    Переработано встроенное масштабирование страницы


2015-10-22 17:47:44 40a17.6 - Дизайн v2 - Phase 8
[!] Дизайн
    Элементы ввода (строки и текстовые области) теперь не "прыгают" при нажатии клавиши "пробел" во время набора
    В "Настройки" на вкладке "Интерфейс" добавлена опция "Отключить рамки у таблиц", которая убирает рамки-изображения у элементов дизайна
    Слайдер:
        - Увеличен размер слайдера, ручки слайдера и отступ - для облегчения использования мобильными пользователями
        - Ручка слайдера теперь не "прыгает" при нажатии на неё курсором мыши


2015-10-22 14:37:58 40a17.5 - Дизайн/Скины v2 - Phase 7
[!] Дизайн
    В global.css оставлен только boilerplate. Все остальные стили перенесены в _template.css
    Первичное упорядочивание _template.css
    Везде, где имеет смысл, "px" заменены на "em"
    При увеличении масштаба средствами СН иконки-спрайты нормально центрируются
    Восстановлено выделение цветом отпускника
    Восстановлен жолтый цвет заполненной части слайдера
    Перенарезана рамка с более точными позициями

[~] Локализация
    Кэширование локализаций теперь может быть отключено в таблице 'config' установкой параметра 'locale_cache_disable' в 1
    Апдейтер теперь сбрасывает кэш языков при обновлении

[~] Флоты/Выбор миссии
    Теперь при выборе миссии вместо "=>" меняется иконка


2015-10-21 22:58:01 40a17.3 - Locale v3 - Phase 2
[!] Локализация
    Языковой фоллбэк на уровне строк - откат на другую локализацию, если не найдена строка в текущей


2015-10-21 19:28:56 40a17.2 - Locale v3 - Phase 1
[!] Локализация
    Все файлы локализации в модулях работают через $a_lang_array

[@] Код
    Добавлены константы для рас


2015-10-21 18:18:16 40a17.0 - Locale v3 - Phase 0
[!] Локализация
    Добавлена поддержка кэширования строк локализации во внешнем кэше. Это позволило уменьшить объем процесса на пользователя примерно на 300кб минимум
    Все файлы локализации в базовом движке работают через $a_lang_array
    Класс locale:
        - Конструктор теперь грузить дефолтный язык на старте;
        - Многалогав;

[~] Меню
    Отключен фрагмент JS-кода, относящийся к модулю

[~] Настройки
    Улучшено поведение игры при переключении языков


2015-10-20 16:58:02 40a16.14
[~] Дизайн
    Скин EpicBlue - добавлена рамка
    Скин supernova-ivash - улучшена работа с рамками


2015-10-20 15:53:00 40a16.12
[~] Дизайн/Скины/supernova-ivash
    Добавлено обрамление (рамка) ко всем элементам


2015-10-20 10:57:53 40a16.11
[~] Дизайн/Темплейты/OpenGame
    Улучшена разметка


2015-10-19 18:37:54 40a16.8
[%] Обзор Вселенной
    Исправлена неработа ракетной атаки при вызове через кнопку быстрого действия


2015-10-19 18:24:57 40a16.7
[~] Меню
    Ускорена работа меню в приложениях

[%] Обзор Вселенной
    Исправлена неработа фаланги при вызове через кнопку-название планеты


2015-10-19 16:28:51 40a16.6
[+] Обзор Вселенной
    В "Настройках" на вкладке "Интерфейс" в разделе "Вселенная" добавлена возможность отключить кнопку "Послать колонизатор для основания колонии на позиции номер Х"


2015-10-19 16:17:29 40a16.5
[%] Список планет
    Исправлена неработающая кнопка "Свезти ресурсы" в списке планет (страницы "Планета" и "Империя")


2015-10-19 16:06:08 40a16.4
[%] Обзор Вселенной
    Исправлена ошибка отображения кнопки колонизации


2015-10-19 15:52:41 40a16.2 - Вселенная - Phase 3
[!] Обзор Вселенной
    Полный редизайн вида Обзора Вселенной. Изменений настолько много, что нет смысла их тут описывать все - проще посмотреть самому
    Те, кому не нравится новый вид - могут включить старый вид в "Настройках", вкладка "Интерфейс", галочка 'Использовать старый вид "Обзора Вселенной"'
    Изменения в обоих видах "Вселенной":
        - При выборе "Ракетной атаки" страница скроллируется на форму запуска ракет. Ей добавлена толстая красная рамка, что бы визуально выделить среди остальных элментов;
        - После анализа востребованности фишек, убраны быстрые действия "Просмотреть место игрока в статитстике" и "Добавить игрока в друзья". Действия по-прежнему доступны в попапе игрока, однако быстрые кнопки использовались настолько мало, что было принято решение убрать эти опции;
    Изменения в старом виде Вселенной:
        - Быстрые действия на планету/аккаунт сделаны кнопками для облегчения судьбы наших мобильных друзей;


2015-10-19 10:42:39 40a16.0 - Вселенная - Phase 0
[!] Вселенная
    Возможность выбора старого и нового вида Вселенной
    Доработки старого интерфейса


2015-10-18 22:42:01 40a15.13
[+] Вселенная
    Переработаны попапы игрока и Альянса аналогично кнопкам миссий

[~] Верфь/Оборона
    Чекбокс автоконвертации больше не скиннится как кнопка


2015-10-18 21:12:08 40a15.12
[+] Вселенная
    Добавлена кнопка ракетной атаки в планетарные попапы
    Кнопки в планетарных попапах выглядят аккуратнее
    При выборе ракетной атаки страница автоматически скроллируется на форму ракетной атаки
    При активации AJAX-действия (отправка ракеты, отправка шпионов итд) в центре экрана пишется результат совершения действия
    Значительно уменьшен размер генерируемой страницы Вселенной:
        - С иконок ракетной атаки убран код onclick и перенесен в jQuery-обработчики
        - Кнопки миссий в планетарном попапе переделаны на button_pseudo, a onclick-код вынесен в jQuery-обработчики

[+] JS
    Существенно расширены возможности обработчика HTML-аттрибута "go". Теперь он может отправлять флоты с миссиями и открывать УРЛ-ы в новом окне


2015-10-18 18:23:45 40a15.11
[~] Вселенная
    Изменен вывод названия планеты/луны в попапе


2015-10-18 17:33:14 40a15.10
[%] Новости
    Исправлена ошибка двойного экранирования служебных символов в вопросах опроса


2015-10-18 17:17:07 40a15.8
[~] Навбар
    На кнопку очереди верфи добавлена индикация количества оставшихся в очереди слотов

[~] JS
    Оптимизирована работа функции popup_show()
    Убрано слежение за позицией курсора. Это должно улучшить работу страницы на слабых машинах


2015-10-17 14:49:34 40a15.6
[~] Админка/Обзор
    Первыми в списке всегда выводятся игроки и только потом - Альянсы


2015-10-17 14:46:32 40a15.5
[+] Админка/Обзор
    Пункт меню "Обзор" в админке теперь использует тот же код, что и список пользователей - за исключением того, что "Обзор" показывает только игроков онлайн и показывает Альянсы
    Таким образом теперь в пункте меню "Обзор" можно использовать весь функционал страницы "Список пользователей": сортировку, просмотр информации о пользователе, имперсонейт итд

[@] Код
    Увеличино дефолтное значение размера системы до 16 планет


2015-10-17 10:47:46 40a15.3
[%] Верфь/Оборона
    Исправлена ошибка невозможности постройки чего-либо на Верфи/Обороне при отключенной в Настройках кнопке автоконвертации


2015-10-17 09:47:57 40a15.1
[%] Новости
    Исправлен вывод дробного количества процентов проголосовавших


2015-10-17 09:41:46 40a15.0
[!] Новости
    Общий редизайн блока новостей
    Добавлена индикация общего количества проголосовавших
    Результаты опроса:
        - Бар, показывающий процент проголосовавших, выводится под самим ответом
        - К каждому варианту ответа добавилась индикация процента проголосовавших

[~] Скины/supernova-ivash
    Добавлен нормальный промежуточный цвет фона между TH и TD. В частности, активно используется в новостях
    Для новостей выставлены цвета скина
[~] Оборона/Верфь
    На кнопкочекбокс автоконвертации так же распространяется действие опции "Скрыть кнопку автоконвертации" в "Настройках"

[%] Чёрный Рынок/Обмен ресурсов
    Исправлена ошибка невозможности обмена, когда количество ТМ на аккаунте было менее двухкратной стоимости обмена


2015-10-17 06:52:57 40a14.11
[~] Меню
    Восстановлен прогресс-бар исчерпания премиума в соответствующем пункте меню
    В стандартном режиме обычный пункт меню занимает всю площадь строки - как и меню-заголовок
    Улучшено отображение метки "Свежие" в пункте меню "Новости"
    Режим "низкие пункты меню":
        - Восстановлен функционал подсветки пункта, на котором сейчас находится курсор мышки
        - Подсвечивается весь пункт меню, а не только ссылка
        - Клик срабатывает на всей площади пункта меню, а не только на ссылке


2015-10-16 19:20:05 40a14.9
[~] Планета
    Исправлена ошибка позиционирования попапа с летящими флотами


2015-10-16 14:55:04 40a14.8 - Скины v2 - Phase 6
[~] Скины
    Вид элемента <textarea> приведен к общему виду
    Исправлена ошибка на странице "Верфь" и "Оборона"


2015-10-16 14:09:38 40a14.6
[%] Скины
    Исправлен вид кнопки "Показать пароль" в Хроме


2015-10-16 10:01:07 40a14.5 - Скины v2 - Phase 5
[#] skins/immi
    [!] В игру добавлен скин immi


2015-10-16 09:29:54 40a14.3 - Скины v2 - Phase 4
[+] Скины/supernova-ivash
    Переделаны CSS-стили для jQuery-UI в цветовую гамму скина


2015-10-16 07:11:47 40a14.2 - Скины v2 - Phase 3
[~] Скины
    Закончено выделение общего кода из CSS-файлов скина и перенос его в CSS-файл темплейта
    Добавлено масштабирование фона в скин supernova-ivash
    Улучшено масштабирование фона в скин EpicBlue


2015-10-16 04:42:24 40a14.1 - Скины v2 - Phase 2
[~] Скины
    Часть общей информации перенесена из скиновых CSS-файлов в общий CSS-файл темплейта
    Добавлен фикс jQueryUI для работы tabs с тэгом <base>
    Временно отключен checkator - до выяснения проблем совместимости с jQUI.tabs


2015-10-16 02:57:28 40a14.0 - Скины v2 - Phase 1
[!] Скины
    Обновлен вид чекбоксов и радиобоксов
    Переделан вид стандартных элементов управления (кнопок итд) под новый дизайн
    Унифицирован вид jQueryUI элементов с кастомными элементами в скине EpicBlue
    Переделаны кнопки на странице построек для поддержки нового дизайна
    jQueryUI проапгрейжен до версии 1.11.4
    Теперь не грузится дополнительно jQuery-UI CSS скина - все стили скина должны быть в skin.css
    Отключена поддержка серверных CSS - задача модификации стандартного скина решается клонированием в новый скин


2015-10-15 07:26:21 40a13.17 - authV4 Alpha v4.8.9
[+] Авторизация
    Класс auth_local
        - Возвзращена поддержка древних кук. Видимо - не все сконвертировали...


2015-10-14 19:59:43 40a13.16
[+] Новости
    Переработан интерфейс Опроса
    Теперь под кнопкой "Показать текст новости" скрываются параграфы (два CRLF подряд), а не предложения (жесткий перевод строки - 1 CRLF)
    Кнопка "Показать текст новости" использует новый стиль
    Кнопка закрытия новости теперь машстабируется вместе с интерфейсом


2015-10-14 12:21:49 40a13.15
[@] Код
    Немного почищен и оптимизирован код


2015-10-14 11:56:28 40a13.14
[!] JavaScript
    Заметно ускорена начальная загрузка страниц за счёт избавления от element_cache
[!] Чёрный рынок
    Улучшен интерфейс заглавной страницы
    Обмен ресурсов:
        - Переверстана страница Обмена Ресурсов. Теперь ею должно быть удобнее пользоваться мобильным пользователям, а так же меньше вероятность совершить неправильную операцию
        - Добавлено подтверждение при обмене ТМ на ресурсы

[~] Меню
    Теперь при наведении курсора на пункт меню он подсвечивается
[~] Флоты/Отправка флотов
    Улучшен вид кнопок выбора миссий

[-] Симулятор
    Убрана отладочная галочка "Симуляция" - симулятор всегда работает в режиме симуляции


2015-10-14 05:00:20 40a13.12 - authV4 Alpha v4.8.8
[-] Авторизация
    Класс auth_local
        - Убрана поддержка древних кук - за 5 месяцев кто играет уже сконвертировал себе куки в новый формат;


2015-10-14 04:02:35 40a13.11
[~] Чёрный рынок
    Немного переделан интерфейс заглавной страницы


2015-10-14 03:06:41 40a13.10
[#] chat_advanced 5c6
    (@) Код
        $microtime заменен на SN_TIME_MICRO

[~] Таймеры
    Объявление таймера в темплейте:
        - Свойства таймера 'active' и 'start_time' теперь устанавливается в sn_timer_prepare() - соответственно они убраны из обновления
        - Тип таймера объявляется через соответствующую константу TIMER_xxx

[@] Код
    PHP
        - Во всём коде $microtime заменён на SN_TIME_MICRO
    JavaScript
        - localTime переименован в timeBrowser
        - Убрана переменная TIME_NOW
    Из темплейтов убрана переменная TIME_NOW
    Почищен и упорядочен код

2015-10-14 01:35:55 40a13.8
[+] Таймеры
    PHP-код замера разницы во времени вынесен из general.php в отдельный класс playerTimeDiff
    Добавлен алгоритм замера разницы в часах по GMT-времен браузера и сервера

[~] Вёрстка
    Изменены директивы viewport для лучшей поддержки мобильных устройств
[~] Апдейтер
    В апдейтере в некоторых местах empty() заменены на !isset() согласно логике апдейта

[@] Разное
    В бенчмарк добавлено время рендеринга страницы в браузере, измеряемое через JavaScript
    В основном коде $microtime заменён на SN_TIME_MICRO


2015-10-13 04:15:35 40a13.7
[%] BBCode
    Исправлена ошибка парсинга строки, состоящей только из УРЛ и начинающейся с http://
    Исправлена ошибка парсинга префикса sn:// в составе BBCode 'url'


2015-10-13 04:02:45 40a13.6
[#] menu_customize 0d5
    (!) Настройки/Меню
        Все настройки меню вынесены в отдельный таб "Настройка меню"
        Настройки элементов меню сгруппированы по категориям

[~] Меню
    Весь CSS-код вынесен из темплейта меню в CSS-файл темплейта


2015-10-12 02:15:45 40a13.4
[+] Интерфейс/Меню
    Для недовольных новым стандартным меню - в Настройки добавлена опция "Низкие пункты меню", которая возвращает меню его прежний вид. Опция СОВМЕСТИМА с настройкой "БОЛЬШИЕ ПУНКТЫ МЕНЮ"


2015-10-12 23:12:53 40a13.1
[#] menu_customize 0d4
    (+) Поддержка редизайна меню
        Опция "Показать пункты меню в виде кнопок" переименована в "БОЛЬШИЕ КНОПКИ В МЕНЮ"
        Добавлена опция "Белые надписи на кнопка меню (отключить цвета)"


2015-10-12 23:08:18 40a13.0
[!] GIT
    До этого момента уже некоторое время не учитывался часовой пояс в PHP-CLI на локальной машине и, соответственно, в хуках GIT-a. Значит с какого-то времени и до сейчас даты даны стоят неправильные
    TODO - ИСПРАВИТЬ ДАТЫ. Проверить, когда же был переход на новую версию PHP

[!] Интерфейс/Меню
    Редизайн пунктов меню
    Теперь в стандартном режиме пункты меню выглядят, как кнопки. Однако при этом являются ссылками - т.е. позволяют открывать страницы в новом окне
    Настройке "Показывать пункты меню в виде кнопок" заменён на "БОЛЬШИЕ КНОПКИ В МЕНЮ" и теперь просто увеличивает размер пунктов меню - удобно для мобильных устройств
    Добавлена настройка "Белый надписи на кнопках меню..." убирает раскраску пунктов меню, оставляя выделенными только категории
    Немного переупорядочены пункты меню так, что бы уменьшить количество категорий и не было неактивных заголовков в категориях


2015-10-12 15:20:11 40a12.8
[~] JS/sn_timer
    Дополнительные оптимизации по скорости для Хрома


2015-10-12 02:34:59 40a12.7
[%] JS/sn_timer
    Исправлена глупая, глупая алгоритмическая ошибка


2015-10-12 01:07:26 40a12.6
[+] Навбар
    Если в почтовом ящике есть сообщения - общее количество соощений в навбаре мягко мерцает


2015-10-11 22:34:54 40a12.5
[!] Интерфейс/Очередь построек
    На странице "Обзро планеты" для каждой очереди добавлена дата и время её завершения
    Функционирование таймера для слота с 1-секундным временем строительства восстановлено, как и было ранее - т.е. фактически всегда будет написано 00:00:01
    Добавлены эффекты анимации к списку юнитов в очереди:
        - При начале строительства нового юнита таймер на миниатюре мигает один раз;
        - При окончании строительства всех юнитов в слоте - слот исчезает;
        - Отключить анимацию эффектов в игре можно в пункте меню "Настройки", вкладка "Интерфейс", галочка "Отключить эффекты анимации в игре"


2015-10-11 13:26:35 40a12.3
[%] JS/sn_timer
    Исправлена ошибка, не учитывающая, что в JS время - в тысячных секунды


2015-10-11 10:17:18 40a12.2
[!] JS/sn_timer
    Теперь таймеры хорошо переносят кнопки "Назад"-"Вперед" в браузерах - время почти не сбивается
    Еще оптимизирован код
    Добавлены патчи для работы на разных нестандартных браузерах
    Устранены все найденные ошибки


2015-10-11 07:58:53 40a12.1
[!] JS/sn_timer
    Промежуточный коммит для исправленной версии sn_timer


2015-10-10 18:47:24 40a12.0
[!] JS/sn_timer
    Весь DOM-код переписан с использованием jQuery. Более активно используется кэширование
    Убраны лишние обсчёты невидимых элементов
    Полностью переписан код, относящийся к очередям
    Оптимизированы и другие части таймера
    Новый код максимально оптимизирован (20-50% ускорение). Но заметно это будет лишь на слабых устройствах - на мощных компьютерах абсолютные значение выигрыша исчисляются микросекундами

[!] Интерфейс/Очередь построек
    Переделана Очередь построек
    Теперь время до постройки одного юнита в первом слоте пишется на самом юните
    "Общее время" теперь индицируется сверху
    Оптимизирована выдача HTML-кода - меньше использование свойства style
    Добавлена поддержка нового кода sn_timer

[!] CSS
    Первый этап оптимизации - унифицированы CSS-стили на темплейте OpenGame для скинов EpicBlue и supernova-ivash
    Немного уменьшены итоговые размеры CSS-файлов


2015-10-10 10:19:29 40a11.8 - authV4 Alpha v4.8.7
[!] Авторизация
    Еще немного работы для поддержки auth_vkontakte

[@] Код
    Обсчёт статистики
        - Теперь обсчёт статистики запускается не AJAX-запросом, а в ходе init.php. Это должно улучшить отзывчивость игры
    По умолчанию - отключена запись полных УРЛов в таблицу счётчиков. Включить её можно в конфигурации, установив security_write_full_url_disabled в 0
    Теперь в таблице `security_url` сохраняются пути без учета SN_ROOT_RELATIVE
    Назначения констант вынесены из classSupernova - так опять будет нормально работать autocomplete в IDE по этим константам


2015-10-10 03:56:31 40a11.7 - authV4 Alpha v4.8.6
[!] Авторизация
    Добавлен базовый класс авторизации auth_abstract
        - auth_local теперь является потомком auth_abstract;
        - публичные методы и свойства вынесены в auth_abstract;
        - provider_id вынесен из $manifest в отдельное свойство;


2015-10-09 22:31:21 40a11.6 - authV4 Alpha v4.8.5
[!] Авторизация
    Доделана Имперсонация для поддержки ММ на аккаунте
    Почищен код


2015-10-08 02:57:35 40a11.3 - Немного Мобильной И Широкоформатной Любви
[+] Флоты/Отправка флотов
    Выбор миссий на странице выбора миссий сделан иконками-пиктограммами. Это улучшит юзабилити для игроков на мобильных устройствах
    Для миссии "Колонизация" введено цветовое кодирование количества колоний:
        - Красный - количество колоний больше максимально возможного количества (например, вследствие исчерпания срока Премиум-аккаунта или окончания специальных акций)
        - Оранжевый - количество колоний равно максимальному количеству. Нельзя колонизировать ни одной новой планеты;
        - Желтый - количество колоний на 1 меньше максимального количества. Текущая миссия заблокирует возможность дальнейшего расширения;
        - Зеленый - количество колоний на 2 и более единиц меньше максимального количества. Можно спокойно запускать текущую миссию.
    Улучшено отображение состава флота на больших и маленьких экранах
    Теперь при отсутствии кораблей на планете на экране подбора флота доступна кнопка "Свезти ресурсы"
    Весь автономный JS-код вынесен в отдельный файл - это уменьшило размер страницы и улучшило отзывчивость

[~] Темплейт/OpenGame
    Триггеры на переключение по медиа-запросам выставлены в rem. Это должно улучшить работу на мобильных устройствах

[@] Код/JS
    Нельзя полагаться на document.ready() из-за возможных проблем с загрузками сторонних скриптов (например - Яндекс.Метрика). Поэтому теперь соответствующие действия активируются насильно по загрузке футера


2015-10-02 10:35:46 40a11.2
[~] Админка
    Добавлены разделители разрядов в сообщение о начислении игроку ТМ и ММ через админку


2015-10-02 08:46:41 40a11.1
[~] Обзор Планеты
    В расчёте миниатюр планет и иконок на них транзакции теперь делаются per-planet, а не глобально по всем планетам. Это должно существенно улучшить отзывчивость для остальных игроков
[~] Империя
    Транзакции теперь делаются per-planet, а не глобальные по всем планетам. Это должно существенно улучшить отзывчивость для остальных игроков


2015-10-01 22:43:09 40a11.0
[#] interface_batch_operations v0a1
    [~] Транзакции
        Транзакции теперь делаются per-planet, а не глобальные по всем планетам
        Это должно существенно улучшить отзывчивость для остальных игроков - за счёт небольшого ухудшения производительности для пользователей масс-фишек

[~] Флот/Своз ресурсов
    Транзакции теперь делаются per-planet, а не глобальные по всем планетам
    Это должно существенно улучшить отзывчивость для остальных игроков - за счёт небольшого ухудшения производительности для пользователей своза ресурсов


2015-09-29 22:43:38 40a10.31
[~] Навбар
    Изменена иконка Верфи в навбаре - теперь на стандартной плашке!!!


2015-09-25 11:41:46 40a10.30 - authV4 Alpha 4.8.2
[!] Авторизация/ММ на аккаунте
    Исправлены ошибки в модулях платежей robokassa и xsolla


2015-09-25 10:06:05 40a10.28 - authV4 Alpha 4.8.1
[!] Авторизация/ММ на аккаунте
    Класс sn_module_payment:
        - Исправлена ошибка начисления ММ;
    Код почищен


2015-09-24 11:39:37 40a10.25 - authV4 Alpha 4.8
[!] Авторизация/ММ на аккаунте
    МетаМатерия:
        - Теперь ММ является свойством аккаунта, а не записи игрока;
        - Так же статус "Бессмертного" поднят на уровень аккаунта;
    Класс Account:
        - Старая функция mm_points_change() внесена в виде метода metamatter_change() - с соответствующими переделками
        - Добавлена проверка на существование нужных таблиц в БД - пригодится в ЕА для выявления критических проблем с миграцией;
    Платежи:
        - Полностью переписан базовый абстрактный класс платежей;
        - Полностью переписаны модули платежей robokassa, webmoney, xsolla;
        - Унифицированы огромные куски кода как в связке абстрактный класс/модули так и между модулями;
        - Теперь всегда создаётся запись в таблице `payment` при начале платежа. Это позволит адекватно оценивать восстребованность разных платёжных систем;
        - Теперь в платежные системы передаётся количество покупаемой ММ с учётом бонуса;
        - Добавлена защита на случай совершения покупок на границе акций. В этом случае могли не совпадать заявленные суммы покупки/ММ с актуальными на момент попытки начисления ММ и могла возникнуть ошибка;
        - Унифицирована защита от двойных зачислений;
    Админка:
        - Переработано начисление ММ с учётом изменений;
    Код:
        - ACCOUNT_PROVIDER_BASIC -> ACCOUNT_PROVIDER_NONE;
        - Убран статус PAYMENT_STATUS_TEST, а так же переработана работа с тестовыми платежами;
    Разное:
        - Исправлена ошибка в Хроме с невозможностью сменить аккаунт на странице выбора имени игрока;
        - Еще немного логов богу логов!


2015-09-18 12:42:51 40a10.24 - authV4 Alpha 4.7
[!] Авторизация
    Полностью работает impersonate на уровне пользователя
    Класс PlayerToAccountTranslate:
        - Из auth вынесен функционал работы с таблицей трансляции игроков в аккаунты
    Класс core_auth (бывший auth):
        - Класс переименован в core_auth для поддержания единообразия в именовании модулей;
        - Почти все методы и поля сделаны не-статическими;
        - Проставлены нужные visibility для всех методов и полей;
        - Методы db_player_name_exists() и db_player_get_max_id() вынесены в глобальные функции;


2015-09-18 08:32:37 40a10.23 - authV4 Alpha 4.6
[!] Авторизация
    Регистрация теперь двухэтапная:
        - На первом этапе вводится емейл и пароль. Регистрируется аккаунт
        - На втором этапе игроку предлагается выбрать имя, под которым он будет виден в игре. По умолчанию - это название почтового ящика без домена. Регистрируется новый игрок
        - Новые аккаунты регистрируются с емейлом в качестве имени аккаунта
    Логин теперь двухэтапный:
        - На первом этапе проверяется имя/емейл игрока. Аутентифицируется аккаунт
        - На втором этапе аккаунт авторизируется - выбирается игрок, который привязан к данному аккаунту и по нему выставляются права доступа. Если игрока нет - предлагается зарегестрировать нового
        - Теперь игрок может входить в игру по имени аккаунта или емейлу
    Класс auth:
        - Для второго этапа авторизации добавлена форма выбора имени игрока - модель и вид в core_auth
        - auth::$account теперь выставляется в выбранный аккаунт
        - Убраны неиспользуемые куски кода
    Классa auth_local:
        - В класс перенесены методы password_reset_send_code() и password_reset_confirm() - они теперь являются частью процесса логина
    Настройки:
        - Добавлена индикация имени текущего аккаунта (логина) на страницу "Настройки", вкладка "Интерфейс"
        - Полностью работает смена пароля
        - Полностью работает проверка пароля (например, при покидании колонии)
    Класс Confirmation:
        - Работа с подтверждениями вынесены в отдельный класс Confirmation
        - Подтверждения работают на том же уровне, что и аккаунт
    Темплейт логина переделан под 'em'
    Переработан код для поддержки двухэтапной авторизации
    Работает имперсонейт на вход, но на выход вообще выкидывает из игры

[~] Флоты/Отправка кораблей
    Добавлены вертикальные границы между миниатюрами кораблей

[~] Навбар
    Убрана горизонтальная зеленая линия над общим количеством ТМ в случае, если на аккаунте нет ММ и/или ММ не подключена в игре


2015-09-17 09:16:45 40a10.22 - authV4 Alpha 4.51
[!] Авторизация
    Избавились от F_ACCOUNT
    Избавились от $data в auth_local
    Удалён неиспользуемый код в auth и auth_local

[~] БД
    `account_name` в `account` теперь уникальное
    Добавлены поля для ЕММ в `account`


2015-09-15 05:23:56 40a10.21 - authV4 Alpha 4.5
[!] Авторизация
    Полнофункциональный класс Account
        - Хранит все данные об аккаунте
        - Все индивидуальные операции над аккаунтом вынесены из провайдера в методы Account
        - Методы разделены на public и protected
    Класс RequestInfo
        - Из провайдера вынесены методы записи счетчика и системы безопасности
    Класс auth_local
        - Теперь является универсальным local/central классом
        - Упорядочены методы, разделены на public и protected, убраны неиспользуемые методы

[~] Модули
    Конфиг модуля может быть в другом каталоге - например, в общем конфиге приложения


2015-09-10 09:58:58 40a10.20
[%] Вселенная/Планеты
    Исправлена очепятка в коде определения типа ядра колонии, из-за которой не бралось реальной значение Астрокартографии у игрока


2015-09-07 21:11:48 40a10.19
[~] Режим Рубилова
    Уточнено уведомление о провале захвата в победном бое, не закончвшемся одним раундом


2015-09-05 17:07:15 40a10.17
[+] UBEv4
    Добавлена поддержка Режима Рубилова в отчётах


2015-09-05 16:14:04 40a10.16 - authV4 Alpha 4.2 - auth_central
[!] Авторизация
    Избавились от F_LOGIN_STATUS в классах
    Избавились от auth::$hidden
    $user_id_to_provider теперь свойство auth
    $auth_level_max_local теперь свойство auth
    Почищен и немного переупорядочен код


2015-09-03 21:28:08 40a10.15 - authV4 Альфа3.3 - подготовка к auth_central
[!] Авторизация
    Игрок теперь прописывается автоматически на все авторизированные аккаунты
    Максимальный auth_level всех игроков на авторизированных аккаунтах теперь является свойством auth
    Домен, путь, имя куки и секретное слово для куки теперь берутся из свойств auth_local
    Больше логов богу логов!!!

[!] Код/БД
    Префикс таблиц теперь является свойством db_mysql, так что методы не обращаются к внешним сущностям
    Список таблиц теперь хранится в db_mysql
    Исправлена ошибка реконнекта при живой БД (апдейтер вызывал)



2015-09-02 01:00:17 40a10.14 - authV4 Альфа3.2
[!] Авторизация
    auth использует свою собственную БД
    auth_local использует свою собственную БД


2015-09-01 23:39:51 40a10.13 - DB redo Phase 4
[!] Код/БД
    Низкоуровневые функции SQL вынесены в отдельные драйвера
        - Добавлена возможность выбора драйвера SQL
        - Название драйвера задается в config.php в поле 'sn_driver' массива $dbsettings
        - В стандартном комплекте поставляются два драйвера - db_mysql_v5 и db_mysql_v4
        - db_mysql_v5 использует более новый интерфейс ext/mysqli
        - db_mysql_v4 использует интерфейс ext/mysql, который объявлен устаревшим и не будет использоваться начиная с PHP 5.5.0
        - По умолчанию используется db_mysql_v5. В случае проблем с PHP у хостера можно попробовать использовать db_mysql_v4
        - Подробнее о разнице в интерфейсах MySQL API можно прочитать тут: http://php.net/manual/en/mysqlinfo.api.choosing.php
        - Так же можно написать свой драйвер по примеру предоставленных. Результаты его методов должны эмулировать поведение MySQL
        - Драйвера находятся в каталоге /includes/classes/
    В auth_local избавились от F_INPUT

[!] Код/СН
    Куски инициализации вынесены в classSupernova. Не то, что бы им там было место - но теперь init.php немного разгружен
    Настройки из файла конфигурации теперь хранятся в classSupernova


2015-09-01 18:07:06 40a10.12 - DB redo Phase 3
[!] Код/БД
    Убран $link в заголовках функции
    Причесан код и переупорядочены функции


2015-09-01 16:42:38 40a10.11 - DB redo Phase 2
[!] Код/БД
    Упорядочен код инициализации и реакция на ошибки БД при инициализации
    Убрано использование $link в коде


2015-09-01 14:36:37 40a10.10 - DB redo Phase 1
[!] Код/БД
    Изоляция БД-код в отдельном объекте


2015-08-31 12:34:21 40a10.8
[%] Вселенная/Планеты
    Исправлена ошибка вычисления диаметра планеты


2015-08-30 15:04:04 40a10.6 - authV4 Альфа3
[!] Авторизация
    Изолированы БД-запросы в отдельных методах
    Удалены функциональные дубликаты методов
    Часть полей из $data перенесены в свойства классов


2015-08-29 15:24:46 40a10.5 - authV4 Альфа2
[!] Авторизация
    Информация о запросе (IP, браузер, УРЛ итд) вынесены в отдельный класс RequestInfo
    Работает смена пароля
    Добавлен, но не проверен код смены емейла
    Добавлен, но не проверен код проверки пароля
    Немного почищен код


2015-08-28 00:41:31 40a10.4
[~] Авторизация
    Добавлены сообщения для ошибок при регистрации игрока
    Почищен код


2015-08-27 19:38:58 40a10.2
[+] Партнерская программа
    Теперь когда аффилейт (игрок, приглашенный реферралом) покупает МетаМатерию, то реферрал (игрок, пригласивший аффилейта) получает 20% от купленной ММ в виде Тёмной Материи (в отличии от 10% при получении аффилейтом ТМ)


2015-08-27 19:14:05 40a10.0 - authV4 Альфа
[!] Авторизация
    В очередной раз переписана система авторизации. Цель - подготовка к вводу в игру Единого Аккаунта
    Информация игрока (таблица `users`) отвязана от информации о логине/пароле
    "Имя игрока" в игре и "Логин" (aka "Имя аккаунта") теперь разные вещи
    Работает, но не оттестировано:
        Вход в игру
        Регистрация в игре (имя игрока автоматически выбирается равным имени аккаунта)
        Сброс пароля
    Не работает:
        Смена имени ИГРОКА
        Смена пароля
        Смена вторичного емейла
        Верификация вторичного емейла
    Не реализовано:
        Смена имени АККАУНТА
        AUTH_LEVEL аккаунта (под вопросом необходимость реализации)
        Смена основного емейла
        Верификация основного емейла
        ...и многое, многое другое!


2015-08-22 18:24:26 40a9.10
[+] Код
    Поддержка захвата планет в РР


2015-08-21 11:24:35 40a9.9
[~] Навбар
    Счетчики сообщений теперь располагаются не в линию, а по углам иконки сообщений:
        - Левый верхний - личные сообщения;
        - Правый верхний - сообщения от Альянса;
        - Левый нижний - сообщения от Администрации;
        - Правый нижний - общее количество сообщений.
    Таким образом на мобильных устройствах будет гораздо проще выбрать нужный тип сообщений


2015-08-21 10:47:52 40a9.8
[%] Планета/Управление
    Исправлена нерабочая автоконвертация ММ при покупке секторов


2015-08-20 04:47:33 40a9.7
[+] Чёрный рынок/Обмен ресурсов
    Добавлена поддержка автоконвертации ММ на страницу


2015-08-20 00:48:25 40a9.6
[~] Метаматерия
    Улучшено логгирование автоконвертации


2015-08-20 00:26:08 40a9.5
[+] Планета/Управление
    Добавлена поддержка автоконвертации ММ на страницу


2015-08-20 00:03:59 40a9.4
[%] Метаматерия
    Исправлена ошибка в работе автоконвертации


2015-08-19 22:28:30 40a9.2
[%] Метаматерия
    Исправлена ошибка при покупке через Иксоллу


2015-08-19 22:10:44 40a9.0 - Автоконвертация ММ в ТМ
[!] Метаматерия
    Теперь не нужно вручную конвертировать ММ в ТМ - конвертация осуществляется автоматически при нехватке ТМ. Это упростит обращение с ММ для новых игроков
    Переработан интерфейс покупки Метаматерии с учётом добавления в игру автоконвертации


2015-08-19 05:28:59 40a8.12
[%] Авторизация
    Исправлена ошибка необновления "онлайн" статуса игрока


2015-08-19 04:37:02 40a8.9
[%] Вселенная/Планеты
    Исправлена ошибка, когда стартовой планете не назначалось изображение


2015-08-19 03:56:24 40a8.8
[+] Навбар
    В навбар добавлена кнопка "Планета". Клик на неё откроет страницу "Обзор Планеты". В правом нижнем углу кнопки показывается количество колоний у игрока и максимально возможное количество колоний
    В навбар добавлена кнопка "Верфь". Клик на неё откроет страницу "Верфь". При наличии юнитов в очереди Верфи на кнопке будет отображено:
        - Название юнита в текущем слоте очереди (т.е. корабль, который сейчас строится)
        - Количество оставшихся юнитов в текущем слоте
        - Время, оставшееся до окончания постройки текущего корабля в текущем юните
        - Общее время до окончания постройки всех юнитов в очереди
    Добавлена возможно отключить в навбаре следующие кнопки:
        - "Планета"
        - "Верфь"
        - "Квесты"
    Отключение кнопок происходит в пункте меню "Настройки", вкладка "Интерфейс", раздел "Навигационная панель"


2015-08-19 01:50:06 40a8.7
[%] Авторизация
    Исправлено отсутствие вывода информации об ошибках при логине/регистрации/сбросе пароля


2015-08-18 15:01
[#] menu_customize 0d3
    (%) Пустые пункты меню
        Теперь пустые пункты меню не показываются в меню при включенном модуле настройки меню


2015-08-18 12:18:38 40a8.6 - Дальнейшая подготовка к режиму "Рубилово"
[~] Интерфейс
    В режиме "Рубилово" из навбара убрана иконка исследований, а из Обзора Планеты - данные об очередях постройки и обороны


2015-08-18 11:11:53 40a8.4
[+] Админка
    В настройки сервера вынесены:
        - Стартовый размер хранилищ на планете
        - Стартовое количество ресурсов на планете


2015-08-18 10:31:07 40a8.3 - Дальнейшая подготовка к режиму "Рубилово"
[+] Поддержка модуля game_skirmish
    Для неуправляемых добывающих юнитов (P_MINING_IS_MANAGED = false) не показываются дропдауны выбора производительности


2015-08-18 10:07:54 40a8.0 - Подготовка к режиму "Рубилово"
[+] Поддержка модуля game_skirmish
    Добавлена возможность отключать интерфейсы Построек, Обороны и Исследований
    Добавлена поддержка 'grants' в интерфейсы на страницах постройки и "Технологии"
    Добавлена возможность получить сразу весь список юнитов в локации из db_get_unit_by_location() по $unit_id = 0


2015-08-13 18:20:58 40a7.1
[~] Код
    Кодировка файла includes/classes/core_classes.php изменен на UTF-8
    Добавлен список блокировки родительских записей для поддержки LOC_FLEET
    Добавлено сохранение NULL в db_changeset как NULL в MySQL
    Добавлена новая отладочная функция print_rr()


2015-08-06 18:24:16 40a7.0 - Планеты. Фаза 2
[!] Вселенная/Планеты
    Пересчитана математическая модель типов ядер с учётом пожеланий игроков. Поменялось ВСЁ: шансы нахождения определенных типов ядер, добыча ресурсов, цены на смену типа ядра итд
    Теперь тип ядра, находимого в колонизации, ограничивается уровнем Астрокартографии:
        От 0 до 5 - могут быть найдены только планеты с типами ядер "Стандарт", "Водяной лёд", "Камень", "Руда"
        От 6 до 10 - так же могут быть найдены планеты с типами ядер "Метановый лёд", "Силикат", "Оливин
        11 и больше - так же могут быть найдены планеты с типами ядер "Водородный лёд", "Кристалл", "Металл"
    Это сделано для облегчения игры для новичков и уравнивания стартовых условий
    Например, если первая же найденная колония имеет тип ядра "Водородный лёд" - новый игрок получает сильное пенальти на развитие планеты (планеты "Раритетного" класса очень сложно застраивать сам-один и для нормальной застройки требуется транспорт других типов ресурсов с остальных планет)

[+] Новапедия
    Переписана статья о типах ядер в соответствии с текущим положением дел

[~] Интерфейс/Империя
    Цветовое кодирование типов ядер приведено в соответствие с описанием. Теперь чем "тревожнее" цвет, тем реже этот тип ядра можно найти при колонизации, т.е. красный цвет означает самый редкий (Раритетный) класс ядер , оранжевый - Редкий класс, желтый - Продвинутый класс, и, наконец, белый - стандартное ядро


2015-08-06 09:43:22 40a6.6
[~] Код
    Код почищен от отладочных строк
    В основном коде конструкции create_function заменены на лямбда-функции


2015-08-06 08:36:28 40a6.5
[!] Код
    Реализован класс хранения многомерных массивов в плоской хэш-таблице
[!] Игроки/Настройки
    Полностью переписана система хранения настроек игроков с использованием класса ArrayAccessMultidimensional (старые настройки времен xnova пока хранятся в стиле xnova)

[+] Интерфейс/Строительство
    На страницы постройки (исследования, здания, верфь, оборона) добавлена возможность сортировки
    Для каждой из вышеперечисленных страниц настройки сортировки сохраняются отдельно
    Добавлена поддержка стандартной сортировки в обратном порядке

[-] Интерфейс/Метаматерия
    Убрана ненужная блок с курсами и скидками: цена теперь всегда выводится в выбранной валюте, а все скидки прописаны в блоке покупок кнопками


2015-08-04 05:49:22 40a6.4
[~] Админка/Логи
    Ссылка на чистку логов теперь так же удаляет записи об обслуживании БД


2015-08-04 05:40:38 40a6.3
[~] Админка/Логи
    Добавлена ссылка на удаление из логов записей об обновлении движка и статистики (неактуальную после успешно проведенных обновлений)


2015-08-04 05:28:26 40a6.2
[~] БД
    Добавлена поддержка форсированной блокировки таблиц


2015-08-03 15:05:26 40a6.0 - Планеты. Фаза 1
[!] Вселенная/Планеты
    !!!ВНИМАНИЕ!!! Полностью переписана с нуля генерация планет! Теперь она очень сильно отличается от оГеймовской!
    Размер планеты:
        Теоретические размеры планет составляют: минимальный - 30 секторов, максимальный - 330 (бывают только при наличии в системе планет-странников)
        На стандартных слотах (с 1-го по 15-й) кардинально увеличен средний размер планеты - как за счёт пересчёта минимального и максимального количества секторов, так и за счёт исправления архитектурной ошибки xnova
        Диаметр планеты теперь вычисляется по более вразумительной формуле
    Типы ядер:
        Полностью переработаны типы ядер
        Пересчитана добыча всех типов ядер с учётом экономической эффективности и собранной статистики по типам планет у игроков (Нерф? Кто сказал - "НЕРФ"?!. Наоборот!)
        Переработаны и переименованы старые типы ядер:
            Во всех старых типах ядер увеличена добыча
            "Лёд" переименован в "Метановый лёд" и улучшена добыча
            "Камень", "Силикат" и "Руда" - улучшена добыча
            "Металл" переименован в "Оливин". Его добыча находится на уровне старого типа "Тяжелый металл"
            Ядра типа "Тяжелый металл" мигрированы в тип "Оливин" (с улучшением добычи)
        Добавлены 4 новых типа ядра:
            "Водяной лёд" - приблизительный аналог "Камня" или "Руды" для водорода
            Три новых типа ядра - "Водородный лёд", "Кристалл" и "Металл" (новая версия) - с охренительной добычей соответствующих типов ресурсов
        Десять типов ядер четырех классов:
            "Базовый" класс - тип ядра "Стандарт"
            "Продвинутый" - "Водяной лёд", "Камень", "Руда"
            "Редкий" - "Метановый лёд", "Силикат", "Оливин
            "Раритетный" - "Водородный лёд", "Кристалл", "Металл"
        Смена типа ядра:
            Стоимость смены типа ядра теперь не зависит от текущего - можно недорого поэкспериментировать как минимум с продвинутым классом ядер, а то и с редкими
            Стоимость смены типа ядра теперь зависит от типа планеты
            В среднем - смена ядра планеты стала ГОРАЗДО выгоднее (в пересчете затраченной ТМ на полученный прирост производительности)
        ПРИМЕРНО половина планет во Вселенной имеет улучшенный тип ядра (или водяной лёд, или камень, или руда), еще треть имеют тип ядра "Стандарт". Остаток приходится на долю остальных типов ядер
    Температура:
        Изменены диапазоны, в пределах которых меняется максимальная температура планеты
        Разница между максимальной и минимальной температурами теперь не фиксирована (40 градусов в xnova), а определяется случайным образом в определенном диапазоне
        Диапазон разницы температур зависит от места планеты в системе
        !!!ВНИМАНИЕ!!! У всех старых планет (колонизированных до установки патча) минимальная температура установлена равной максимальной температуре для того, что бы изменения патча не повлияли на добычу
    Добавлена поддержка "планет-странников":
        Планета-странник - ранее блуждавшая по галактике экзопланета, захваченная тяготением звезды
        Планеты-странники находятся за 15-м слотом в системе (если в настройках игры включен размер системы более 15 планет)
        Хотя планета-странник может быть достаточно тёплой, ожидать околозвёздных температур в сотни градусов Цельсия от неё не стоит. А вот получить промороженную насквозь планету - вполне реально
        Планеты-странники имеют огромный разброс по всем параметрам - соответственно и типов таких планет несчётнок множество
        Получить граничные значения размера планеты можно только на планете-страннике
        По умолчанию размер системы увеличен до 16 планет (ПРОВЕРЬТЕ ВАШИ ЗАМЕТКИ/ЗАКЛАДКИ НА ЭКСПЕДИЦИЮ!)
    Переработано распределение планет по системе:
        Естественно, средняя температура планеты падает на расстоянии от звезды (т.е. по мере увеличения
        Теперь бесполезно искать планеты с ледяным ядром возле звезды или планеты с металлическим ядром на внешних границах системы
        Кристаллические ядра встречаются практически по всей системе
        Крупные планеты группируются в середине системы. Соответственно - на внешней и внутренней границах системы планеты более мелкие
        Как и с размером планет - температурные диапазоны уменьшаются от центра системы к её границам
    Изменена цветовая кодировка типа ядер на странице "Империя":
        Белый - стандартное ядро
        Красный - ядро "Продвинутого" класса
        Оранжевый - "Редкий" класс
        Желтый - "Раритетный" класс


2015-06-21 03:41:00 40a5.3
[#] player_award 0c4
    (+) День Рождения СН 2015
        Добавлены памятные знаки Дня Рождения СН


2015-06-16 07:43:01 40a5.0
[+] Авторизация
    Базовая система имперсонации для новой авторизации


2015-06-07 16:02:37 40a4.15
[~] Ивенты
    Добавлена поддержка удаления, перекрытия и расширения исходов в Экспедиции
    Добавлена поддержка изменения максимального количества Экспедиций


2015-06-07 13:16:42 40a4.14
[~] Ивенты
    Поддержка ивента "Звезда родилась"


2015-06-01 18:09:23 40a4.13
[+] Новости
    Теперь если новость содержит больше 1 параграфа, то остаток новости скрывается под кнопкой "Показать текст новости"

[+] BBCode
    Добавлен новый тип ссылок: "sn://" доступный тем же, кому доступны обычные ссылки. Он развертывается в полный URL к корню игры, т.е. если игра стоит по адресу "http://your_domain.tld/your_path/", то "sn://overview.php" будет развернуто в "http://your_domain.tld/your_path/overview.php"


2015-05-29 08:43:57 40a4.11
[~] Ивенты
    Поддержка Дня Защиты Детей


2015-05-27 20:20:48 40a4.10
[~] Дизайн
    Небольшие изменения для поддержки RD - в основном в чате


2015-05-26 14:11:32 40a4.9
[~] Навбар
    Переименованы кнопки-иконки, что бы уменьшить вероятность блокировки ад-блокерами


2015-05-26 11:42:33 40a4.8
[~] JS
    Исправлена несовместимость с IE - использование зарезервированного только в IE слова `parent` в качестве названия переменной


2015-05-24 14:08:41 40a4.6
[~] Меню
    Поддержка иконок меню, расположенных в любом месте движка


2015-05-23 19:10:00 40a4.5
[~] Страница построек/исследований
    На странице постройки кораблей и обороны добавлено форматирование максимального количества юнитов для обычной постройки и постройки с автоконвертированием


2015-05-23 18:56:14 40a4.4 - Автоконвертация Phase 2
[!] Страница построек/исследований
    На странице постройки кораблей и обороны добавлена возможность постройки с автоконвертацией
    В строке максимального количества через слэш показывается максимально доступное количество юнитов при автоконвертации
    Для включения режима автоконвертации необходимо отметить галочку "Автоконвертация". При этом все элементы страницы работают так же, как и раньше, однако максимальное количество юнитов к постройке становится равно максимально доступному количеству юнитов с учётом автоконвертации
    Автоконвертация щадяща: даже если при включенной галочке автоконвертации поставить на постройку не больше максимального количества юнитов, доступных без автоконвертации - ТМ снята не будет и конвертация ресурсов производится не будет
    Автоконвертация переводит ресурсы исходя из заказанного количества юнитов - даже если в очередь может стать меньше. Это сделано специально для того, что бы можно было однократно воспользоваться автоконвертацией, а затем просто пополнять очередь новыми юнитами - с уже сконвертированных в правильном отношении ресурсов


2015-05-23 15:31:11 40a4.3
[~] Код
    Неиспользуемые файлы кода и темплейта постройки ангара и исследований перемещены в подкаталог .unused


2015-05-23 10:15:21 40a4.2
[~] Страница построек/исследований
    Добавлено форматирование чисел в автоконвертацию


2015-05-23 10:08:08 40a4.1
[~] Страница построек/исследований
    Увеличено количество информации, выводимой в лог ТМ при автоконвертации


2015-05-23 09:55:41 40a4.0 - Автоконвертация Phase 1
[!] Страница построек/исследований
    На странице постройки зданий и исследования технологий добавлена возможность постройки с автоматической конвертацией ресурсов (далее просто - "автоконвертация")
    Автоконвертация доступна если для постройки/исследовния не хватает какого-то конкретного типа ресурсов, однако есть излишек других ресурсов, которые можно сконвертировать на ЧР в недостающий ресурс
    Конвертируются только планетарные ресурсы - металл, кристалл и дейтерий. ТМ автоматически не конвертируется
    Сразу после конвертации недостающих ресурсов постройка/исследование ставится в очередь
    Для предотвращения случайных срабатываний при нажатии на кнопку автоконвертации выскакивает дополнительное окно с подтверждением
    Автоконвертация ресурсов - платная. Стоимость операции составляет утроенную цену одной конвертации на ЧР или 3.000 ТМ, если ручной обмен на ЧР бесплатен
    Отключить кнопку автоконвертации можно в "Настройках", вкладка "Интерфейс", чекбокс "Скрыть кнопку автоконвертации"


2015-05-18 11:25:35 40a3.11
[~] Responsive Design
    Очередные изменения для лучшей поддержки мобильных устройств

[~] Чат
    Теперь при маленьком размере экрана строка ввода сообщений переносится на отдельную строку - что бы было больше места для текста
    Теперь при маленьком размере экрана текст сообщения переносится на отдельную строчку, а при совсем крохотном - так же на отдельную строчку переносится ник
    При переносе ника/сообщения на отдельную строчку для лучшей читаемости блоки разделяются линией и перед сообщением делается отступ

[~] Страница построек/исследований
    RD: На больших экранах блоки покупки/уничтожения теперь выстраиваются в один ряд с информацией о стоимости постройки
    Теперь если при постройке зданий нет свободных секторов - превьюшки затеняются и выводится соответствующее сообщение
    При постройке зданий/исследовании технологий теперь показывается уровень, который будет строится/исследоваться
    При постройке зданий/исследовании технологий кнопка постройки/исследования теперь отключается, если операция невозможна


2015-05-18 00:25:13 40a3.10
[%] Локализация
    Исправлена en/infos.php


2015-05-17 04:55:54 40a3.8
[~] Заметки
    Теперь в пределах одной категории важности заметки дополнительно сортируются в порядке убывания по координатам и типу планеты


2015-05-17 03:26:45 40a3.7
[!] Ребрендинг
    "Сверхновая" стала "СуперНовой"

[~] RD
    Улучшена поддержка мобильных устройств
    Добавлен хак для отключения хромо-андроидовского FontBusting (не очепятка)


2015-05-17 02:01:00 40a3.6
[~] Страница построек/исследований
    Переработана вёрстка блока информации о юните
    Убрана кнопка "Спрятать/Показать дополнительную информацию"
    Добавлен патч для форсирования отрисовки блока допинфы для некоторых браузеров

[~] Флот/Отправка флота
    Миниатюры кораблей уменьшены в размере

[~] Масштабирование
    Масштабирование теперь работает с %, а не с px


2015-05-16 07:25:27 40a3.5
[%] Страница построек/исследований
    Еще убраны найденные "прыжки"


2015-05-16 03:37:27 40a3.3 - Корабли во флоте при отправке
[!] Флот/Отправка флота
    Теперь при отправке флота на страницах "Выбор точки назначения", "Выбор задания" и "Флот отправлен" выводятся:
      - Состав флота в виде картинок с названиями и количеством;
      - Точка отправления флота;
      - (если доступно) Точка назначения флота;
      - (если доступно) Время и срок прибытия в точку отправления и назначения.
    На странице "Выбор точки назначения" при выборе планеты/заметки/боевого союза точка назначения флота меняется соответственно

[+] Флот/Флоты в полёте
    Добавлена возможность массового отзыва флотов

[+] Флот/САБ
    При создании/присоединении к САБу теперь видна дополнительная информация о флоте, к которому присоединяется САБ: состав флота, откуда и куда направляется флот, а так же дата и оставшееся время до прибытия/возвращения
    Теперь при нажатии кнопки "Боевой союз" автоматически создается САБ и в него добавляется текущий игрок. При этом ему не отсылается в данном случае лишнее сообщение
    Название САБА теперь имеет вид "САБ <ID>", где <ID> - назначаемый игрой идентификатор

[~] Страница построек/исследований
    Исправлены брекпоинты в медиа-запросах, что бы не появлялся скроллер при включенной опции "Вертикальные очереди построек"
    По умолчанию - дополнительная информация о юнитах включена. "Прыжки" форматированию будут устранены в следующих патчах

[%] Локализация
    Убран отладочный текст из описания ТЭ


2015-05-15 22:40:10 40a3.1 - Responsive design, FTW! Phase 2
[~] Страница построек/исследований
    Количество превьюшек теперь динамически меняется в зависимости от разрешения экрана от 3 до 7 в одном ряду
    Дополнительная информация о юнитах (боевые характеристики кораблей, баланс производства на рудниках, количество колоний/слотов экспедиции у Астрокартографии итд) теперь по умолчанию скрыта. Увидеть её можно нажав на кнопку "Показать дополнительную информацию"
    На больших экранах (там, где вмещается не менее 6 превьюшек в ряд) таблица с дополнительной информацией располагается справа от описания юнитов
    Убраны скачкообразные изменения размеров блока информации о юните при mouseover курсора мыши на превьюшках
    Исправлены все замеченные проблемы верстки при разных разрешениях


2015-05-15 07:51:28 40a3.0 - Responsive design, FTW! Phase 1
[!] Responsive design
    Responsive design (автоматическое изменение верстки в зависимости от размеров экрана) не совместим с функцией "Масштабирование". Используйте либо одно, либо другое

[!] Страница построек/исследований
    Страница переверстана для поддержки responsive design

[!] Мультиэлемент выбора чисел
    Мультиэлемент переверстан для лучшей поддержки масштабирования и для поддержки Responsive design

[~] Исследования
    Гравитехнология для исследования теперь требует минимум 6-го уровня Гипертехнологии
    ЗС теперь не требует напрямую Гипертехнологии для постройки
    СН теперь не требует напрямую Гипертехнологии для постройки


2015-05-15 01:39:07 40a2.4
[%] Планета
    Исправлена ошибка отображение кнопки "Управление" в глюкобаге


2015-05-13 21:12:11 40a2.2
[+] Админка/Платежи
    Добавлена ссылка на отправку письма игроку из списка платежа


2015-05-07 04:39:51 40a2.1
[%] Список планет
    Восстановлена иконка своза ресурсов на неактивной планете


2015-05-06 23:57:27 40a2.0 - Масштабирование
[!] Масштабирование
    Переработана система масштабирования. Теперь она делается не через JS, а через CSS установкой базового размера шрифта. Это улучшило результат масштабирования
    Базовый размер шрифта теперь запоминается в куке и в настройках пользователя. При загрузке страницы он берется сначала из куки и только если кука не установлена - из настроек

[+] Навбар
    Кнопки-картинки в навбаре теперь масштабируются в соответствии с базовым размером шрифта

[+] Список планет
    Список планет переделан для поддержки масштабирования
    Под полосу застройки и очередь на планете добавлена подложка с фоном
    На каждой планете теперь даже при отсутствии очередей выводятся полупрозрачные иконки, при клике на которые можно сразу перейти к строительству зданий, кораблей и обороны
    Иконка своза ресурсов на луну появляется только при выборе луны

[+] Очередь
    Очередь переделана для поддержки масштабирования

[+] Планета
    Исправлен вид шкалы застройки

[+] Планета/Управление
    Исправлен вид шкалы застройки
    Картинки Губернаторов теперь масштабируются в зависимости от базового размера шрифта
    "Вернутся к обзору" теперь стало кнопкой

[+] Империя
    Страница переделана для поддержки масштабирования
    Размеры ячеек с количеством/уровнем юнитов теперь не наползают одна на другую и не обрезаются

[+] Страница строительства
    Страница переделана для поддержки масштабирования
    Корректно масштабируются все элементы в блоке информации, в частности - кнопка "Построить", требования в описании юнита, картинка юнита итд
    Переделан блок превью юнита:
      - масштабируются поля под иконки (сами иконки пока не масштабируются);
      - количество ресурсов не закрывает название ресурсов;
      - все элементы выровнены друг относительно друга и не наползают один на другой;
      - масштабируется рамка вокруг выбранного элемента.

[+] Подсказки
    Подсказка переделана для поддержки масштабирования

[+] Настройки
    Настройки переделаны для поддержки масштабирования

[+] Вселенная
    Вселенная переделана для поддержки масштабирования
    Корректно масштабируются изображения планет, лун и обломков
    Корректно масштабируются в попапах картинки планеты, луны и обломков
    Корректно масштабируются иконки: в "Обозначениях", в заголовке и теле таблицы


2015-05-05 23:28:02 40a1.17
[%] Интерфейс/Масштабирование
    Исправлена ошибка масштабирования, когда масштаб применялся к стандартному размеру шрифта


2015-05-05 23:18:14 40a1.16
[%] Админка/Обслуживание
    Исправлена очепятка в запросе


2015-05-05 22:56:40 40a1.15
[~] Навбар
    Добавлена кнопка "Норма" для нормализации шрифта
    Кнопки увеличения/уменьшения шрифта переехали в строку со временем
    "Локальное время" переименовано во "Время у игрока", "Серверное время" - во "Время на сервере"


2015-05-05 22:05:52 40a1.12
[!] Интерфейс/Масштабирование
    Добавлена экспериментальная фишка - увеличение и уменьшение шрифта


2015-05-05 19:34:40 40a1.11
[+] Планета
    Часть функционала "Управления планетой" вынесена на основной экран "Планеты":
      - Переименование
      - Смена типа ядра
    Ссылка "Управление" переделана в кнопку


2015-05-05 17:16:02 40a1.10
[%] Блиц
    Исправлена ошибка создания игроков


2015-05-04 15:08:54 40a1.8
[%] Авторизация
    Исправлен выход из отпуска


2015-05-04 14:23:40 40a1.7
[%] Авторизация
    Исправлены нерабочие баны и отпуски. Нет, это не причина Амнистии - это повод. Сейчас уже всё работает


2015-05-04 02:42:15 40a1.6
[~] Обновление
    Отключено логгировние служебных запросов апдейтера

[~] Обслуживание
    Добавлено удаление юнитов без планет
    Добавлено удаление пустых юнитов
    Добавлено удаление стандартных записей логов (обсчёт статистики, маинтенанс, апдейт) более чем недельной давности

[~] Статистика
    Все записи обсчёта статистики теперь проходят под кодом 191 - LOG_INFO_STAT_PROCESS


2015-05-04 01:08:42 40a1.5
[@] Код
    Отключено логгирование в авторизации


2015-05-04 00:58:09 40a1.4
[#] chat_advanced 5c5
    (%) Прилепленный чат
        Исправлена невозможность отлепить прилепленный чат в некоторых браузерах


2015-05-04 00:09:02 40a1.2 - Настройки игрока, Фаза 2
[#] menu_customize 0d2
    (%) Кнопка Скрыть/Показать меню
        Исправлены проблемы с позиционированием кнопки

[@] Код - Настройки игрока
    Настройки игрока полностью переписаны с использованием объекта userOptions
    Убраны неиспользуемые теперь функции
      - player_load_option()
      - player_save_option_array()
      - player_save_option()


2015-05-03 23:03:52 40a1.0 - Настройки игрока, Фаза 1
[!] Настройки игрока
    Переписана с нуля работа с настройками игрока
    Большая часть полей с настройками вынесены в отдельную таблицу player_options - уменьшен размер записи в таблице `users`
    Настройки теперь кэшируются write-through - уменьшено количество обращений к БД
    Закрыта возможность сменить имя игрока с использованием зарещенных символов


2015-05-03 12:49:23 40a0.25
[%] Игрок/Создание
    Исправлена ошибка незаписи системы и планеты игрока в таблицу `users`

[%] Авторизация
    Исправлено неправильное сообщение при вводе некорректного пароля


2015-05-02 20:13:45 40a0.24
[%] Авторизация
    Багфиксы по результатам тестирования


2015-05-02 18:55:20 40a0.22
[~] Авторизация
    При сбросе пароля письмо с новым паролем отправляется в ЛС


2015-05-02 18:24:15 40a0.17
[%] Планета/Управление
    Исправлена ошибка удаления планеты


2015-05-02 17:38:46 40a0.14
    [%] Авторизация
    Багфиксы по результатам тестирования


2015-05-02 17:23:07 40a0.10
[%] Авторизация
    Исправлены странные символы в письмо о сбросе пароля


2015-05-02 17:12:54 40a0.9
[%] Авторизация
    Исправлена неправильная ссылка на подтверждение пароля


2015-05-02 17:07:29 40a0.8
[%] Авторизация
    Багфиксы по результатам тестирования


2015-05-02 15:40:47 40a0.7
[%] Обновления
    Исправлена очепятки в обновлении


2015-05-02 15:19:36 40a0.5
[#] player_premium 3c3
    (+) Ивенты
        Поддержка бонусных уровней Премиума по ивентам

[#] unit_captain 3b1
    (%) Исправлена ошибка дублирования записей Капитанов в таблице units

[!] Админка
    adm_user_analyze.php - утилита для отслеживания пользователей-ботов


2015-05-02 15:11:07 40a0.1 - Авторизация, Фаза 3
[!] Авторизация
    В третий раз переписана авторизация
    Теперь авторизация модульная
    Убран юзернейм из куки, однако оставлен код для совместимости
    Больше сообщений о возможных ошибках. Сообщения об ошибках стали более понятными

[@] Код
    Большое количество изменений для совместимости с новым модулем авторизации
    Подробнее - см. лог гитхаба


2015-04-19 23:46:50 40a0.0 - Авторизация, Фаза 2
[!] Авторизация
    Переписана система авторизации - логин отделен от внутриигрового имени
    Логин, пароль и системный емейл пользователя вынесены в отдельну таблицу `account`
    Длина кода подтверждения для сброса пароля увеличена до 9 символов - усилена секретность и уменьшена вероятность коллизий
    При регистрации запрещены символы ", ', \ в имени аккаунта
    При смене пароля новый пароль так же сбрасывается в личную почту в сообщении от Администрации

[+] Настройки игрока
    Отделен логин от игрового имени
    Добавлены кнопки "Показать пароль" ко всем парольным полям

[~] Апдейтер
    Код апдейтов по 36-ю версию включительно вынесены в старый файл


2015-04-17 13:45:23 39d2
[~] Апдейтер
    Повышена устойчивость работы движка при смене префикса в конфигурации
    Повышена устойчивость работы системы логгирования

2015-04-17 07:11:07 39d0 Project "SuperNova.WS" Release 39 "2014 annual joint operation report"
[!] Project "SuperNova.WS" Release 39 "2014 annual joint operation report"
[!] ВНИМАНИЕ! Требуется версия PHP >= 5.3.2
[!] Рад представить вам очередной релиз СуперНовы. Перед вами - результат более чем года работы. Фактически, в этом мегапатче объединены целых ПЯТЬ релизов:
      1. "Зима-2014" - системный релиз, где было проведена гигантская работа по упорядочиванию внутренних механизмов работы:
        - Все юниты были отвязаны в БД от записей планет и пользователей;
        - Вся работа с юнитами была переписана с нуля;
        - С нуля была написана подсистема очередей;
        - Разделены очереди кораблей и обороны;
        - Полностью переписаны квесты;
        - Добавлено глубокое сквозное кэширование, что позволило в 2-4 раза увеличить скорость работы движка;
        - ...и многое, многое другое!
      2. "Весна-Лето 2014" - багфиксы и небольшие оптимизации релиза З-2014;
      3. "Лето-Осень 2014" - "мобильнутый релиз". Было сделано множество улучшений и усовершенствования для большего удобства игры с мобильных устройств (насколько это возможно без полной переделки темплейта и всех скинов);
      4. "Зима 2014-2015" - "бета релиз". В начале зимы была выпущена бета 39-го релиза, но потом как-то всё закрутилось - новый год, фишки к НГ, ивенты к НГ, просто фишки, просто ивенты - и объем кода, написанного после беты неожиданно сам начал тянуть на отдельный релиз
      5. "Март-апрель 2015" - "бета релиз". В середине февраля наконец-то было решено завязать с добавлением фишек и просто пофиксить баги... Очнулся я только в середине апреля. В игре появились звук, опросы, переработан код таймера, была добавлена пачка улучшений, пофикшены баги и переписана авторизация...
    В общем, тут я решил все-таки выпустить 39й релиз as-is и сделать стабильную ветку
    Общий объем проделанной работы можно оценить по количеству коммитов в GitHub. Ну или хотя бы по чейнджлогу релиза, приведенному ниже


2015-04-17 06:21:50 39b15.23
[~] Авторизация/Регистрация
    Добавлена подсказка по вводу емейла

[@] Код
    Функции, относящиеся к пользователям, вынесены в /includes/functions/sys_user.php
    Создание пользователя вынесено в отдельную функцию


2015-04-17 03:23:08 39b15.22
[%] Флоты/Ракетные атаки
    Исправлена выдача отчета "нет защиты" при ракетной атаки даже тогда, когда защита есть


2015-04-17 02:48:52 39b15.21
[%] Флоты/Экспедиция
    Исправлено PHP предупреждение в flt_mission_explore()


2015-04-16 08:54:11 39b15.20
[~] Авторизация/Регистрация
    Запоминается имя сервера, на котором зарегестрировался игрок


2015-04-16 01:16:31 39b15.19
[~] Админка/Обслуживание
    Восстановлена работа упаковщика логов ТМ


2015-04-16 01:01:08 39b15.17
[%] Апдейтер
    Исправлена очепятка в запросе


2015-04-15 21:26:51 39b15.16
[~] Апдейтер
    Доработана процедура апдейта


2015-04-15 19:49:29 39b15.15
[#] player_award 0c3
    (+) Блиц-сервер
        Добавлены медали за 1-2-3 места в 0-м раунде Блица
        Добавлен памятный знак за участие в 0-м раунде Блица


2015-04-15 18:38:25 39b15.13
[~] Блитц
    В кнопку Блица добавлено количество зарегестрировавшихся игроков в текущем раунде


2015-04-15 15:49:17 39b15.12
[%] Настройки игрока
    Исправлено несохранение настроек ЛС


2015-04-15 06:08:20 39b15.11
[~] Блиц-сервер
    Добавлена индикация текущего режима на кнопку Блица
    Добавлена индикация цены на страницу регистрации


2015-04-15 04:50:08 39b15.10
[+] Блиц-сервер
    Добавлена поддержка раундов
    Добавлена поддержка подачи заявок на участие за ММ и возвращения взноса при отзыве заявки

[%] Админка/Просмотр пользователя
    Исправлена ошибка при пустой таблице браузеров


2015-04-14 20:09:19 39b15.9
[~] Обзор Вселенной
    Теперь на уничтоженной планете/луне не всплывает попап


2015-04-14 15:24:26 39b15.8
[~] Чёрный Рынок
    Каждый тип операции теперь имеет свой уникальный код


2015-04-14 15:08:44 39b15.6
[@] Код
    Исправлены очепятки в запросах с SN_TIME_NOW


2015-04-14 14:57:55 39b15.5
[%] Авторизация/Регистрация
    Исправлены нерабочие кнопки "Показать пароль"


2015-04-14 14:52:27 39b15.4
[%] Система
    Код вывода уведомления о наличии плохих запросов внесен в шатдаун-функцию


2015-04-14 14:45:40 39b15.2
[~] Код
    Добавлена функция sn_version_compare - обёртка над PHP-шной для работы с видом версий СН


2015-04-14 02:37:16 39b15.1 - Авторизация, Фаза 1
[!] Авторизация
    Дальнейшие изменения в процедуре авторизации
    При вводе кода подтверждения на сброс пароля теперь удаляется только этот код
    Теперь при сбросе пароля происходит автологин - не надо самому логиниться с новым паролем


2015-04-13 02:57:18 39b15.0 - Авторизация, Фаза 0
[!] Авторизация
    Добавлена соль к паролям. Новые пароли теперь будут просолены
    Теперь при смене пароля игроку не надо логиниться заново - при смене пароля так же изменяется кука


2015-04-11 19:52:41 39b14.10
[~] Статистика
    Теперь устаревшая статистика удаляется по дням, а не по количеству обсчётов
    Настраивается количество дней в таблице `config` переменная 'stats_history_days' (по умолчанию - 14 дней)


2015-04-11 16:39:43 39b14.9
[~] Меню
    Добавлены два новых поля к записям меню:
      - AUTH_LEVEL - меню видно только игрокам с уровнем доступа не меньше указанного;
      - DISABLED - если установлено в 1 - меню не рендерится
    Переработан код для основных пунктов меню без использования $sn_menu_extra


2015-04-11 14:36:37 39b14.7
[~] Чёрный Рынок
    Добавлена настройка, отвечающая за заполнение ЧР кораблей, если там не осталось ни одного корабля
    Она находится в таблице `config` переменная 'eco_stockman_fleet_populate' (по умолчанию - включена)


2015-04-11 14:22:33 39b14.6
[#] Модули
    В модулях $time_now заменено на SN_TIME_NOW


2015-04-11 14:17:51 39b14.4
[%] Обзор Империи
    Теперь правильно показывает остаток обороны/флотов в очереди

[@] Код
    Оптимизировано количество вызовов функции sys_o_get_updated()
    В основном коде $time_now заменено на SN_TIME_NOW


2015-04-11 11:46:48 39b14.1
[@] Код
    Простенький DB abstraction layer: замена прямых вызовов mysql на враппер
    Так же убрано использование подстроки mysql в переменных, строках локализации итд


2015-04-10 03:57:59 39b13.1
[%] Авторизация/Логин
    Исправлена проблема пропадающих элементов на странице логина


2015-04-10 02:03:18 39b13.0
[!] Счетчик посещений
    Переделан счетчик посещения так, что бы таблица занимала меньше места


2015-04-09 19:57:47 39b12.9
[+] Метаматерия
    Переработана страница покупки ММ
    Курсы валют и бонусы оптовой покупки сведены в одну ячейку
    Игрок теперь может выбрать валюту по-умолчанию
    Валюта игрока будет использована во всех расчетах вместо базовой валюты сервера, т.е. при расчете стоимости ММ, стоимости пакетов итд
    На каждом пакете теперь указывается его стоимость в валюте игрока


2015-04-08 15:05:09 39b12.7
[%] Блиц-сервер
    Исправлена ошибка появления кнопки Блиц-сервера даже при отключенной регистрации


2015-04-06 12:43:19 39b12.6
[~] Блиц-сервер
    Кнопка Блиц-сервера выровнена по правому краю навбара, что бы было удобнее нажимать на планетарный дропдаун


2015-04-05 16:18:07 39b12.5
[%] Статистика
    Исправлено пропадание иконок Мира и РО


2015-04-05 07:50:45 39b12.4
[+] Блиц-сервер
    Добавлена возможность просмотра статистики по результатам блиц-сервера - ссылка "Посмотреть статистику Блиц-сервера" на странице Блиц-сервера
    Показывается статистика только для первых 100 игроков


2015-04-05 06:01:27 39b12.3
[+] Блиц-сервер
    Добавлен код для награждения победителей
    Добавлена индикация Альянса игрока в таблице участников

[~] Статистика
    Настройки страницы статистики (типа статистики, Игроки/Альянсы итд) теперь передаются в строке браузера - теперь можно легко обмениваться ссылками на конкретную страницу статистики


2015-04-04 13:32:47 39b12.2
[~] Блиц-сервер
    В экспорт/импорт результатов добавлен ID игрока на Блице


2015-04-04 10:25:52 39b12.1
[+] Блиц-сервер
    Добавлен механизм импорта результатов


2015-04-04 10:15:23 39b12.0 - MOAR BLITZ!
[+] Блиц-сервер
    Добавлен механизм экспорта результатов


2015-04-04 09:13:35 39b11.8
[+] Блиц-сервер
    Добавлен режим раскрытия соотвествий аккаунтов на странице регистраций заявок


2015-04-03 17:17:10 39b11.7
[%] Меню
    У кнопки "Скрыть/Показать меню" исправлен неработающий тип "Обычная"


2015-04-03 15:25:33 39b11.6
[#] menu_customize 0d1
    (~) Кнопка Скрыть/Показать меню
        Кнопка перенесена справа от меню и зафиксирована на своей позиции

[~] Меню
    Поддержка нового вида кнопки "Скрыть/Показать меню"


2015-04-02 15:59:32 39b11.3 - Сортировка кораблей
[+] Флоты/Отправка флотов
    На странице подбора кораблей во флот добавлена опция сортировки списка кораблей
    Возможна следующие виды сортировки: "Стандартная", "По названию", "По скорости", "По количеству" и "По ID" - по возрастанию характеристики
    Так же возможна инверсная сортировка - по убыванию характеристики
    Выбор вида и хода сортировки осуществляется дропдауном и галочкой в нижней части таблицы
    Сделанный выбор сохраняется в настройках пользователя и затем используется при следующих открытиях той же страницы
    Изменения вида или хода сортировки перегружает страницу


2015-04-02 15:59:32 39b11.3
[%] Опросы
    Исправлена подсказка при создании опроса (3 дня -> 1 день)


2015-03-31 07:22:08 39b11.2
[~] Опросы
    Теперь по умолчанию опрос открыт в течении 1 суток

[%] Опросы
    Исправлена ошибка, не позволявшая полностью использовать возможности strtotime() в дате окончания опроса


2015-03-31 06:57:47 39b11.1
[+] Опросы
    Добавлена индикация срока опроса
    Улучшена верстка


2015-03-30 23:36:46 39b11.0 - Опросы
[!] Опросы
    Добавлена возможность проводить опросы/голосования
    Опросы прикрепляются к новостям - один опрос на одну новость
    Можно копировать новости с опросами
    Можно редактировать новости с опросами, но при этом потеряются текущие результаты опроса
    Поддерживается произвольное количество ответов, но не менее двух
    Можно устанавливать срок действия опроса, используя синтаксис PHP-функции strtotime() или просто задавая дату окончания опроса (по серверному времени). По умолчанию опрос действует 3 дня
    Игрок может выбрать 1 вариант ответа из списка


2015-03-24 19:10:37 39b10.2
[#] chat_advanced 5c2
    (+) Звук
        Добавлено звуковое уведомление при получении сообщения в чате


2015-03-24 19:03:24 39b10.0 - Звуки Му
[!] Звуки
    Добавлена библиотека для поддержки звуков ion.sound © 2014 Денис Инешин лицензия http://ionden.com/a/plugins/licence.html
    По умолчанию звуки отключены. Для включения нужно на странице "Настройки" (вкладка "Интерфейс") поставить галочку "Включить звуки в игре" и сохранить изменения
    Работа звуков в устаревших и/или мобильных версиях браузеров НЕ ГАРАНТИРУЕТСЯ!

[+] Чат
    Добавлен звук при получении нового сообщения в чате


2015-03-22 17:50:38 39b9.10
[%] Админка/Обслуживание
    Исправлен запрос к таблице messages


2015-03-22 16:26:49 39b9.9
[~] Таймеры
    Доработан код таймера. Теперь он корректно работает в некоторых часовых поясах, в которых ранее не работал

[@] Код
    Теперь приобретение Губернатора записывается в БД с собственным кодом и комментарием
    Расстояние между галактиками вынесено в таблицу config, переменная uni_galaxy_distance (20000 по умолчанию)


2015-03-22 09:51:31 39b9.8
[+] Таймеры
    Переработан код JS-таймеров
    JS-таймер опять устойчив к навигации между страницами (кнопки "вперед-назад" в браузере, обновление, переход на ту же страницу с чтением её из кэша), т.е. результаты работы таймера будут корректны при навигации


2015-03-21 21:47:41 39b9.7
[~] Апдейтер
    Переупорядочен код работы с полями dark_matter_total, metamatter_total и immortal

[@] Код
    Исправлено вычисление полей metamatter_total и dark_matter_total. Теперь от них не отнимаются отрицательные значения


2015-03-21 10:54:52 39b9.6
[~] Блиц-сервер
    Ссылка на БЦ теперь подчеркнута


2015-03-21 10:44:18 39b9.5
[~] Блиц-сервер
    На странице приема заявок на Блиц-сервер добавлена ссылка на БЦ


2015-03-21 01:22:08 39b9.4
[~] Блиц-сервер
    Добавлено удаление ничьих планет перед заполнении Вселенной


2015-03-21 01:15:53 39b9.3
[%] Блиц-сервер
    Исправлена ошибка заполнения Вселенной


2015-03-21 01:06:28 39b9.2
[+] Блиц-сервер
    Добавлена генерация логинов и паролей для заявок игроков
    Добавлено заполнение Вселенной по сгенерированным логинам и паролям

[~] Меню
    Переделано меню, что бы на месте отключенных пунктов не было пустого места
[~] Альянсы/Управление
    Альянс теперь можно передать любому участнику - а не только заместителю главы

[%] Альянсы/Управление
    Исправлена невозможность включить прием заявок после его отключения
    Исправлена ошибка попадения в список кандидатов на передачу Альянса игроков не из Альянса


2015-03-20 06:27:27 39b9.1
[+] Блиц-сервер
    Теперь в режиме Блиц-сервера:
      - Отключен механизм Альянсов и убраны соответствующие пункты меню;
      - Отключен поиск по серверу и убран пункт меню;
      - Отключена регистрация;

    Добавлен режим регистрации заявок на игру на Блиц-сервере:
      - Включается установкой переменной game_blitz_register в таблице config в 1;
      - Установка переменной в 2 закрывает регистрацию;
      - При включении этого режима в самом верху страницы появляется кнопка, ведущая на страницу регистрации.
    На странице регистрации игрок может:
      - Посмотреть список зарегестрировавшихся игроков;
      - Подать регистрацию на игру;
      - Отозвать свою заявку.


2015-03-20 04:34:49 39b9.0 - Блиц-сервер
[!] Блиц-сервер
    Добавлены отдельные картинки для экрана логина и бэкграунды для режима Блиц-сервера
    Добавлен "Блиц-сервер" в режим выбора режима работы СН


2015-03-18 03:40:56 39b8.5
[~] Админка/Обслуживание
    Теперь удаляются все сообщения (кроме личных и альянсовских) старше 4 недель у всех игроков
    Теперь удаляются все сообщения (кроме личных и альянсовских) любой давности у игроков, неактивных более 4 недель

[%] Статистика
    Теперь для новых аккаунтов при первом обсчете статистики в изменении места показывается "*", а не "-(новое место)"


2015-03-18 01:57:35 39b8.4
[+] Обслуживание/Регламент аккаунта
    Теперь из отпуска выводятся аккаунты, бывшие в отпуске более 5 недель, а не 9, как раньше
    Теперь удаляются спящие аккаунты, неактивные более 8 недель

[@] Код
    Подготовка к новому регламенту по Бессмертным


2015-03-15 13:02:31 39b8.3
[%] Заметки/Закладки
    Можно делать закладки на слот Экспедиции


2015-03-14 20:34:26 39b8.2
[%] Император
    Исправлена формула вычисления высоты графика
    Добавлена анимация смены высоты графика


2015-03-14 20:06:06 39b8.1
[%] Император
    Убран вывод отладочной информации


2015-03-14 20:00:15 39b8.0 - График статистики
[!] Император
    Теперь на странице показывается статистика изменения основных показателей игрока за прошедшие 2 недели (меньше - если не накоплена нужная статистика)

[+] Статистика
    Теперь в базе хранится статистика за 2 недели


2015-03-11 03:36:23 39b7.2
[~] Обновление
    Добавлено metamatter_total = 1 тем, у кого есть статус "Бессмертный" и metamatter_total == 0


2015-03-11 03:30:45 39b7.1
[%] Обновление
    Исправлена ошибка вычисления metamatter_total


2015-03-11 03:16:16 39b7.0 - Новый регламент аккаунта
[!] Обслуживание/Регламент аккаунта
    Новый регламент распространяется на все аккаунты, без учёта статуса Бессмертного
    Изменен регламент для аккаунтов, находящихся в отпуске более 8 недель и не находящиеся в блокировке. Теперь такие аккаунты при Обслуживании выводятся из отпуска
    Изменен регламент для аккаунтов, неактивных более 4 недель (I-шки). Теперь для таких аккаунтов:
    - Отключается получение сообщений, кроме личных, Альянсовских и административных;
    - Отключается производство на планетах;
    - Очищаются все очереди (строительства, исследования, обороны, верфи итд) без компенсации.


2015-03-09 22:24:44 39b6.34
[!] Пакетные операции
    Поддержка пакетных операций


2015-03-09 02:44:56 39b6.33
[%] Статистика
    Исправлена очепятка, из-за которой в очках по ресурсам не учитывались ресурсы, находящиеся в очередях


2015-03-09 01:58:09 39b6.32
[%] Альянсы
    Исправлен прием игрока в Альянс, чей тег или название содержат спецсимволы
[%] Админка/ТМ
    Исправлена ошибка начисления ТМ игрокам, чье имя начинается со знака "-"


2015-03-08 01:54:11 39b6.31
[#] player_award 0c2
    (~) Кавалер-2015
        Изменено изображение памятного знака


2015-03-08 01:00:22 39b6.29
[#] player_award 0c1
    (+) Кавалер-2015
        Памятный знак за подарок Даме в ходе ивента "8 марта 2015 года"


2015-03-06 19:45:00 39b6.27 - Пол и половые принадлежности
[+] Игрок/Пол
    Для исключения блокировки корпоративными фаерволлами и прочим, "sex" заменен на "gender"
    Добавлена возможность выбрать пол в "Настройках"


2015-03-03 16:41:59 39b6.26
[~] Статистика/Интерфейс
    Теперь ники игроков и названия Альянсов не переносятся на вторую строку


2015-03-03 16:33:15 39b6.25
[+] Игроки/Отпуск
    Добавлена индикация аккаунтов, находящихся в отпуске. Такие аккаунты отмечаются специальной иконкой в нике и надписью "В отпуске" на странице "Император"

[~] Флоты/Отправка
    При подборе кораблей во флот теперь показывается актуальная скорость каждого корабля
    Добавлены разделители тысяч к количеству кораблей во второй колонке


2015-02-22 13:34:21 39b6.22
[~] Планета/Управление
    Уточнена надпись - какой пароль нужно ввести для сноса колонии


2015-02-22 12:35:22 39b6.21
[#] chat_advanced 5c1
    (~) Сообщения
        Сообщения в чате переверстаны опять на таблицы. Ха-ха-ха


2015-02-22 01:02:59 39b6.19
[#] player_award 0c0
    (+) Орден Спонсора
        Добавлены Ордена Спонсора 5-й, 6-й и 7-й степеней - соответстенно "Алмазный Спонсор", "Тёмный Спонсор" и "Метаспонсор"
        Уменьшены размеры картинок


2015-02-21 23:32:46 39b6.16
[#] chat_advanced 5c0
    (~) Сообщения
        Изменена верстка сообщений в чате. Новая вёрстка дает лучше форматированный текст при операциях Copy-Paste


2015-02-19 20:50:44 39b6.13
[#] unit_captain 3b0
    (~) Стоимость Капитана снижена до 20.000 ТМ


2015-02-19 20:47:41 39b6.11
[~] Планета
    Добавлено отображение бонусных уровней Губернатора


2015-02-16 13:06:07 39b6.9
[#] chat_advanced 5b6
    (+) Теперь на замьюченом игроке в попапе видна причина мьюта
    (%) Исправлена незапись причины мьюта в БД


2015-02-15 18:13:15 39b6.6
[+] Админка/Обслуживание
    Добавлена чистка общих логов. Из таблицы `logs` при обслуживании удаляются записи, сделанные ранее 1 числа три месяца назад


2015-02-15 18:05:25 39b6.5
[~] Админка/Обслуживание
    Небольшие изменения запросов для большей устойчивости работы при повторных запусках


2015-02-15 17:29:42 39b6.4
[%] Обновление
    Исправлены очепятки


2015-02-15 17:22:33 39b6.3
[~] Обновление
    Добавлен пересчет начального баланса ТМ в таблице log_dark_matter

[%] Админка/Обслуживание
    Исправлены очепятки в SQL-запросах


2015-02-15 16:28:55 39b6.2
[+] Админка/Обслуживание
    Добавлена упаковка логов транзакций Тёмной Материи. Записи, сделанные ранее 1 числа три месяца назад, пакуются в одну запись от 1 числа указанного месяца с суммой всех транзакций за период упаковки
    Добавлена агрегирование статистики онлайна игроков. Записи, сделанные ранее 1 числа три месяца назад, агрегируются в записи с интервалом по 10 минут со средним арифметическим онлайна за указанный интервал
    Добавлена чистка game_watchlist и stats_hide_player_list от несуществующих пользователей


2015-02-12 13:43:58 39b6.1
[%] Сообщения
    Исправлена очепятка в темплейте


2015-02-12 13:35:56 39b6.0
[+] Сообщения
    Теперь при отправке сообщения в ответ на личное сообщения, доступна история переписки. Она показывается под формой создания сообщения
    В истории показываются в порядке написания сообщения от собеседника игроку и неудаленные сообщения от игрока собеседнику, но не более 20 сообщений
    Так же добавлена автоматическая замена нескольких подряд префиксов ответов ("RE:") на один


2015-02-11 13:52:34 39b5.10
[#] menu_customize 0d0
    (~) Исправлена несовместимость с пермачатом в модуле chat_advanced

[#] chat_advanced 5b5
    (~) Ссылка на историю чата вынесена в заголовок
    (%) Пермачат
        Исправлена ошибка с неработающим ресайзингом элементов пермачата


2015-02-11 13:32:31 39b5.7
[~] Интерфейс
    Ссылки, открывающие дополнительные окна, теперь подчеркиваются двойной линией


2015-02-09 16:26:14 39b5.6
[%] Заметки
    Исправлена ошибка с невозможностью сохранить луну в качестве точки назначения
    Исправлена ошибка, когда при редактировании заметки точка назначения сбрасывалась в "планету"


2015-02-09 16:08:42 39b5.5
[%] Флоты/САБ
    Исправлена невозможность присоеденить флот к САБу


2015-02-09 14:06:35 39b5.4
[~] Обзор Вселенной
    Ячейка для кнопки колонизации теперь не включает ячейки действия


2015-02-09 13:09:50 39b5.3
[+] Обзор Вселенной
    Восстановлена работа настройки "Время показа подсказок" в разделе "Вселенная" на вкладке "Интерфейс"
    Настройка даёт возможность задать задержку между наведением курсора мыши на элемент в Обзоре Вселенной и появлением попапа
    По умолчанию задержка выставлена в 500 миллисекунд (0,5 секунды)
    Значение "0" означает "использовать задержку по умолчанию". Для фактического отключения задержки можно использовать небольшие значения, например, "1"
    Задержка действует только при наведении курсора - при клике на элементе попап появляется сразу

[-] Настройки/Замер времени
    Отключено использование window.performance при замере времени - не все браузеры адекватно возвращают соответствующие значения


2015-02-01 20:36:32 39b5.1
[!] Настройки
    Таймеры в JavaScript теперь не зависят от того, был ли произведен замер или нет - нужные данные вычисляются на клиентской стороне по данным с сервера
    Фактически, это означает, что все таймеры теперь всегда будут корректно работать - не взирая на правильность/неправильность часовых поясов, "сбитых" часов итд
    Замер времени сохраняется для рендеринга времени на стороне сервера (дата/время сообщений, чат, новости итд)


2015-02-01 15:19:11 39b5.0
[!] Настройки
    Замеры времени делаются индивидуально для каждого устройства
    Теперь время не будет сбиваться при переходе с устройства на устройство вне зависимости от разницы настроек во времени/часовых поясах
    Там, где есть соответствующая поддержка, при замере времени учитываются задержки при передаче данных. Особенно актуально это для мобильных игроков с нестабильным каналом


2015-01-31 05:49:49 39b4.4
[%] Админка/Локализация
    Восстановлена работа интерфейса локализации в админке


2015-01-23 19:45:42 39b4.2
[%] BBCode
    Исправлена ошибка с тэгами [s] и [u]


2015-01-23 10:06:29 39b4.1
[%] Обзор Вселенной
    Исправлена ошибка отсутствия места игрока в попапе


2015-01-23 09:38:50 39b4.0 - Переработка Обзора Вселенной
[!] Обзор Вселенной
    Страница сильно переработана
    Полностью переделана работа с попапами:
      - Изменен принцип позиционирования попапов - теперь они по минимуму закрывают информацию от пользователя, а так же стараются не вылазить за границы окна
      - Устранены ошибки с позиционированием попапов у большинства мобильных пользователей - в отдельных браузерах ошибка может сохранится из-за некорректной реализации в браузере масштабирования
      - Теперь попапы открываются не только при наведении мышки, а и по клику. Повторный клик на той же ячейке закрывает попап для удобства мобильных пользователей. Впрочем, "мышисты" тоже могут этим пользоваться
      - Расширены области срабатывания попапов для удобства мобильных пользователей
      - Передеалн попап игрока: в нём сдублированы все возможности, которые дают иконки. Так что теперь иконки можно отключать для экономии места на экране без потери функциональности
    Везде, где это имело смысл, ссылки изменены на кнопки для удобства мобильных пользователей
    Заменены иконки шпионажа и ракетной атаки - теоретически их теперь не должны блокировать рекламорезки на мобильных устройствах
    На пустой позиции в системе теперь высвечивается большая кнопка "Колонизировать..."
    JS-код переписан с использованием jQuery и большая его часть вынесена в отдельный файл
    Переверстана страница с активным использованием CSS - размер итоговой страницы уменьшен на несколько десятков % - в зависимости от населенности системы и активности флотов в ней
    Кнопка "Перейти" в выборе Галактики/Системы вынесена вправо от элементов листания Вселенной
    Исправлена ошибка появления отрицательных цифр в попапе обломков, если на планете не хватает дейтерия для отправки переработчиков

[-] Закладки
    Удалена таблица Закладок, код и темплейт

[~] Заметки/Закладки
    При редактировании заметки иконки подтверждения и отмены изменений разнесены в вертикальной плоскости
[~] Темплейты
    Все темплейты теперь используют общую иконку для отправки писем из /design/images


2015-01-22 11:12:20 39b3.2
[~] Флоты
    Убран переход на следующую страницу при отправке флота при выборе координат нажатием кнопки


2015-01-22 02:34:51 39b3.1
[%] Заметки/Закладки
    Добавлен код для миграции Закладок в Заметки


2015-01-22 02:16:22 39b3.0 Объединение Заметок и Закладок
[!] Заметки/Закладки
    Теперь в "Заметках" можно добавлять координаты во Вселенной и тип объекта (Планета, Луна, Поле обломков)
    Таблица на второй странице отправки флота теперь берет данные из Заметок, выбирая только записи, у которых все три координаты планеты отличны от нуля. В качестве текста используется заголовок Заметки. Работает сортировка по приоритету
    Ввиду полной бессмысленности дублирования функционала, "Закладки" убраны из игры. Все существуещие в игре "Закладки" перенесены в "Заметки" вместе с комментариями
    В Заметке теперь может быть пустым либо заголовок, либо текст - но не оба одновременно
    На странице редактирования теперь только важность Заметки выделяется цветом, а не вся Заметка, как раньше
    Теперь Заметку можно сделать прилепленной. Такие Заметки будут отображаться на всех страницах игры под навбаром сразу после Новостей в отдельной таблице. Клик на заголовке переведет на страницу редактирования Заметок
    Клик на координатах в обычных и прилепленных Заметках откроет страницу "Вселенная" в указанной галактике и системе

[~] Флоты
    На второй странице отправки флота список текущих планет и список Заметок с координатами переделаны в кнопки для удобства мобильных пользователей
[~] Аффилейты
    Добавлена прямая ссылка
[~] Админка/Список игроков
    Добавлена подсветка всей строки при наведении курсора для облегчения операций с аккаунтами


2015-01-17 13:14:53 39b2.0
[+] Авторизация
    Данные об user_agent и user_proxy вынесены в отдельную таблицу со справочником
[+] Админка/Информация об игроке
    Отформатированы все даты и числа (там, где это имеет смысл)

[~] BBCode
    Устаревшие HTML-тэги <u> и <s> заменены на <span style>
    Исправлена ошибка добавления в конец URL закрывающего BBCode при парсинге чистых URL


2015-01-12 05:50:10 39b1.6
[~] Движок
    Обновление информации о статусе пользователя производится после проверки на отключение сервера - что бы не было блокировок


2015-01-12 02:29:58 39b1.2
[@] ТМ
    Добавлено и заполнено поле dark_matter_total в таблице `users`. Поле так же изменяется при начислении ТМ внутренними механизмами движка


2015-01-09 20:58:29 39b1.1
[~] Флоты/Менеджер летящих флотов
    Доработан таймер-сторожок зависания флотов


2015-01-08 04:58:24 39b1.0
[~] Флоты/Менеджер летящих флотов
    Переписан менеджер летящих флотов для избежания зависаний
    Интервал обсчёта флотов теперь задается в таблице `config` переменной 'fleet_update_interval'
    Так же теперь обновление флотов не производится во время отключений сервера

[@] class cache
    Переписан кэшер для поддержки блокировок на уровне БД
[@] TimeProbe
    Отключен запуск флотов


2015-01-02 02:49:29 39b0.16
[*] Поиск
    Отключён поиск планет. Я вообще с трудом понимаю, зачем он был изначально сделан в игре...


2014-12-28 14:25:02 39b0.12
[@] БД
    Добавлен индекс в таблицу `unit` для ускорения работы ивента


2014-12-28 14:02:49 39b0.11
[~] Флоты
    Поддержка моратория на агрессивные миссии


2014-12-27 20:16:37 39b0.9
[~] Флоты/Экспедиция
    Поддержка дополнительных событий в Экспедиции


2014-12-24 19:01:42 39b0.8
[#] player_premium 3c2
    (+) Ивенты
        Поддержка скидок на Премиум по ивентам

[@] Код
    Поддержка скидок на Премиум по ивентам


2014-12-18 13:58:02 39b0.5
[@] Код: Флоты
    Вычисление расстояния между вселенными вынесено в отдельную функцию


2014-12-13 06:58:13 39b0.4
[@] Код: Флоты
    Поддержка ресурсов в составе флота: проверка на перегрузку, на отрицательное количество ресурсов


2014-12-12 08:04:30 39b0.2
[+] Флоты
    Проверка качества отправляемого флота на предмет наличия орбитальных структур (СС, ТОП, "Лень")
    Поддержка внешней активации транзакции при отправке флота - для пакетной обработки массовой отправки со страницы своза ресурсов


2014-12-07 14:53:35 39b0.1
[%] JS
    Исправлена ошибка в JS


2014-12-07 14:27:52 39b0.0 Project "SuperNova.WS" Release 39 Beta
[!] Project "SuperNova.WS" Release 39 Beta "2014 annual joint operation report"
    Рад сообщить, что для тестирования доступна бета-версия 39-го релиза!
    Перед вами - результат более чем года работы. К сожалению, планируемая цель данного релиза - ввод в строй модуля КК - не достигнута. Однако, этот релиз делается именно для того, что бы КК появился
    Цель выпуска 39-го релиза именно в текущем состоянии - проверить работу подсистем движка на остальных хостингах. Очень многое было переписано, переделано и написано с нуля для поддержки КК. На своём сервере я отладил работу всех новых изменений и дополнений, однако теперь нужно провести более широкий тест
    Качество кода - "good enough". У меня он работает стабильно несколько месяцев, т.е. вполне можно ставить на свои основные сервера. Примерно через неделю-две я планирую сделать полноценный релиз. Возможно в этот раз - с пропуском Release Candidate, поскольку эта бета, фактически, им является. Однако могут возникнуть определенные НЮАНСЫ при работе на других серверах. Поэтому - бета
    Обновление документации по игре будет подготовлено к релизу. Пока же можно читать технический чейнджлог
    Не забываем после обновления чистить папку 'cache'
    Взять бету можно по ссылке https://github.com/supernova-ws/SuperNova/archive/master.zip
    За новыми версиями модулей обращаться по личным каналам. Лучше всего - в скайп supernova.ws


2014-12-07 14:20:35 39a21.4
[!] Инсталляция
    Добавлен специальный режим отключения сервера "Инсталляция и конфигурация". В этом режиме игра стартует после инсталляции (логин по умолчанию - admin, пароль - admin). Так же его можно включить в админке или выставив в таблице `config` в записи 'game_disable' значение 4
    Отличие данного режима отключения от остальных в том, что нём доступны страницы login.php и logout.php
    Основное назначение режима - настройка сервера после инсталляции движка и аварийное восстановление после сбоев в работе сервера

[+] JS
    Защита от двойного старта JS-скриптов sn_global.js и sn_timer.js
    Код замера времени перенесен из хидера в sn_global.js


2014-12-01 18:07:24 39a21.3
[+] Планета/Управление
    Переверстана страница. Теперь разные типы элементов разделены на группы и упорядочены так, что бы исключить случайное нажатие на мобильных устройствах
    Тип ядра:
     - Увеличена высота кнопки
     - Количество ТМ, нужной для операции, теперь форматируется с группировкой тысяч и кодируется цветом
    Телепорт:
     - Увеличена высота кнопки
     - Количество ТМ, нужной для операции, теперь форматируется с группировкой тысяч и кодируется цветом
    Губернаторы: вынесены в отдельный блок
    Перенос столицы:
      - Сделано подтверждение на перенос столицы;
      - Увеличена высота кнопки и кнопка теперь отключается, если перенос невозможен
      - Количество ТМ, нужной для операции, теперь форматируется с группировкой тысяч и кодируется цветом
[+] Планета
    Ссылка "Переработать" сделана кнопкой. Она всегда показывается, если на планете есть переработчики. При этом, если обломков нет на орбите - кнопка неактивна
[+] Покупка секторов
    Более подробный лог траты ТМ


2014-12-01 14:17:13 39a21.2
[+] Наёмники/Чертежи
    Лог ТМ при найме/покупке Чертежа теперь пишется на языке текущего пользователя. Так же в него пишется стоимость и срок найма
    В лог ТМ теперь пишется запись об увольнении Наёмника с детальной информацией


2014-12-01 13:07:32 39a21.1
[+] Император
    Переработана страница "Император"


2014-11-28 07:36:32 39a21.0
[!] Метаматерия
    Изменены скидки за оптовую покупку. Теперь небольшие сумм покупок дают большую скидку, чем раньше

[+] Система
    Поддержка акций

[%] Флоты/Своз ресурсов
    Исправлено PHP-предупреждение, если у игрока только одна планета
[%] Админка
    Исправлен вылет админки в попытке обсчитать флоты (симптомы - белый экран на любой из страниц админки)
[%] Регистрация
    Исправлено PHP-предупреждение в редиректоре регистрации reg.php

[@] Код
    Определение скоростей (игры/добычи/флота) вынесены в отдельные перекрываемы функции


2014-11-23 20:08:50 39a20.18
[!] Система
    Переделана работа отключения сайта. Теперь различаются источники блокировки сайта, для каждого из которых выводится своё сообщение:
      - Блокировка из админки. Игроки в причине блокировки видят то, что введено в настройках сайта;
      - Блокирование из статистики - своё сообщение;
      - Блокирование из обновления - своё сообщение;
      - Блокирования при первой инсталляции до окончания настройки
    Текущий режим отображается для игроков соответствующим сообщением, автовыбором соответствующего пункта в "Настройках" в админке и красным сообщением вверху странице в админке же
    Администратор может насильно отменить режимы блокировки, устанавливаемые статистикой и обновлением - однако делать это крайне не рекомендуется

[+] Статистика
    Теперь во время расчёта статистики сайт отключается
[+] Админка/Статистика
    Опять переделана процедура расчёта статистики
    Теперь указывается не интервал расчёта статистики, а "расписание", т.е. конкретное время запуска в привязке к текущему времени. Ниже будет подробнее объяснено на примерах
    Формат расписания изменился и теперь выглядит так:
      <время запуска>[,<время запуска>...]
      <время запуска>: [ГГГГ:[ММ:[ДД:[ЧЧ:[ММ:[СС]]]]]]
    Пустые параметры приравниваются к нулю. Лидирующий ноль укзаывать не обязательно. Т.е. записи: "0000:00:00:00:30:00", "0:30:0" и "30:" - равноценны. Примеры:
      - "00:00:27:00" означает "запуск в 27 минут каждого часа", т.е. в 00:27:00, 01:27:00, 02:27:00 итд;
      - "04::" означает "запуск в 4 утра каждого дня"
      - "01::,17:15" означает "запуск в 1 утра каждого дня и в 17 минут 15 секунд каждого часа", т.е. каждый день в 00:17:15, 01:00:00 (это сработало дополнительное расписание), 01:17:15, затем в 02:17:15, 03:17:15, 04:17:15 итд;
      - "1:4:30:00" означает "Запуск 1 числа каждого месяца в 04:30 утра", т.е. 1 января в 04:30:00, 1 февраля в 04:30:00, 1 марта в 04:30:00 итд;
      - "2015:1:1:00:00:00" означает "Однократное срабатывание 1 января 2015 года ровно в полночь"

[~] Метаматерия
    Пересчитано по логам общее количество метаматерии, пришедшее на аккаунт для более точной работы системы очистки старых аккаунтов

[%] Статистика
    Исправлена ошибка с неправильным указанием времени запуска статистики


2014-11-23 14:10:19 39a20.17
[%] Меню
    Исправлена ошибка вёрстки при индикации свежей новости в соответствующем пункте


2014-11-23 12:30:47 39a20.16
[%] Флоты/САБ
    Исправлена ошибка многократного обсчёта САБа
[%] Меню
    Исправлена ошибка применения настроек меню при отключенном модуле menu_customize

[@] Темплейты
    В рендерере темплейтов отключен вывод ошибки когда не существует файла с указанным темплейтом - это нужно для корректной работы условного INCLUDE


2014-11-23 10:51:10 39a20.14 - Пункты меню в виде кнопок
[#] menu_customize 0c1
  (+) Пункты меню как кнопки
      Добавлена возможность выводить пункты меню в виде кнопок для большего удобства мобильных пользователей
      Эта возможность доступна при базовой настройке меню: чекбокс "Показывать пункты меню в виде кнопок" в "Настройках", вкладка "Профиль", раздел "Настройка меню"
  (@) Темплейт
      Все настройки из общего темплейта перенесены в соответствующий файл темплейта модуля

[#] player_premium 3c1
    (~) Меню
        Поддержка пунктов-кнопок
    (~) Вёрстка
        Изменена вёрстка для корректной работы страницы при отключенном минификаторе

[+] Пункты меню как кнопки
    Поддержка новой фичи модуля menu_customize


2014-11-22 18:36:54 39a20.10
[%] Планета
    Убран давно ненужный вызов jQuery.noConflict()


2014-11-22 18:24:09 39a20.9
[#] menu_customize v0c0
    (+) Администрация сервера имеет возможность менять/прятать все пункты меню даже без премиум-аккаунта
    (~) Теперь настройки меню записываются не AJAX-post, а как скрытый элемент формы, что делает настройку меню работоспособной в андроид-приложении и FireFox
    (~) Кнопка "Показать/Спрятать все пункты" сделана именно кнопкой, что должно облегчить её использование мобильным пользователям
    (~) Кнопка "Открепить меню" сделана неперемещаемой


2014-11-22 16:40:22 39a20.5
[~] Админка/Начисление ТМ/ММ
    Редактирование сообщения в логе


2014-11-22 16:34:49 39a20.4
[+] Админка/Начисление ТМ
    Восстановлен поиск по ID игрока
    Убран поиск по планете
    Теперь при начислении ТМ через админку в комментариях пишется причина начисления и кто произвел начисление
[+] Админка/Начисление ММ
    Восстановлен поиск по ID игрока
    Теперь при начислении ММ через админку в комментариях пишется причина начисления и кто произвел начисление

[~] Меню
    Переверстано меню, что бы корректно работать без минификатора


2014-11-20 17:47:07 39a20.1
[#] player_premium v3c0
    (!) Требуется СН 38a20.0
    (!) Модуль переписан
        Добавлена возможность продления Премиума и Апгрейда на более высокий уровень
        В интерфейс страницы добавлена развернутая таблица с ценами на все комбинации уровня премиума и срока действия
        При имеющемся премиуме дополнительно в таблице выводится информация о базовой стоимости премиума
        Добавлена защита от двойного срабатывания при обновлении страницы
        Базовая стоимость премиум-аккаунта уменьшена с 25.000 ТМ до 20.000 ТМ
        Добавлен +6 премиум


2014-11-18 14:17:59 39a19.0 - Настраиваемые менюшки!
[#] menu_customize v0a0
    (!) Первая версия
        Требуется СН 38a19.0
    (!) Базовая настройка меню
        Новый раздел "Настройки меню" в "Настройках"
        Настраивается вид кнопки "Спрятать/Показать меню". Она может быть:
          - "прилепленная", т.е. всегда находится в левом верхнем углу экрана - даже когда страница скроллируется
          - "обычная" - т.е. находится в левом верхнем углу СТРАНИЦЫ и скроллируется как нормальный элемент
          - "скрытая" - т.е. кнопка не показывается. В этом случае недоступна кнопка "Прикрепить/Открепить меню". Так же при выборе этого варианта сбрасывается флаг открепления меню
        Настраивается поведение кнопки "Спрятать/Показать меню":
          - можно настроить скрытие меню при наведении курсора на кнопку "Спрятать меню"
          - можно настроить показ меню при наведении курсора на кнопку "Показать меню"
        Настраивается вид и поведение откреплённого меню:
          - можно настроить скрытие откреплённого меню при выводе курсора за его пределы
          - можно настроить показ откреплённого меню поверх всех элементов
    (!) Расширенная настройка меню
        Для игроков с премиум-аккаунтом доступна пользовательская сортировка пунктов меню и скрытие отдельных пунктов (с определенными ограничениями в зависимости от уровня премиума, см. ниже)
        Режим расширенной настройки меню включается при нажатии кнопки "Настроить пункты меню". При этом все остальные настройки становятся недоступными
        У элементов, которые можно менять местами, слева появляется значок в виде двойной стрелки вверх-вниз. Такой пункт можно схватить курсором мышки и перетащить на новое место
        У элементов, которые можно скрыть, справа появляется значок глаза. Клик на нём меняет видимость пункта меню. Белый глаз - пункт меню будет виден. Черный перечеркнутый глаз - пункт меню будет скрыт
        После окончания настройки нужно нажать кнопку "Сохранить настройки пунктов". Настройки пунктов будут сохранены, а страница перегружена. При этом все остальные изменения в настройках сохранены НЕ БУДУТ
        Так же нажатием кнопки "Сбросить настройки пунктов меню" можно вернуть меню первоначальный вид
        Если скрыты какие-то пункты, то в самом низу меню появляется дополнительный пункт "Показать скрытые", который покажет скрытые пункты меню
        Возможности по настройке меню зависят от уровня премиум-аккаунта игрока:
          - нет премиум-аккаунта: доступны только базовые настройки
          - Премиум 1-го уровня: игрок может менять местами пункты меню, кроме системных (название и логотип сервера, пункты "Как играть", "Настройки", "Выход" и логотип движка). Игрок не может скрывать пункты меню
          - Премиум 2-го уровня: игрок может менять местами все пункты меню. Игрок может скрывать пункты меню, кроме системных
          - Премиум 3-го уровня: игрок может менять местами и скрывать любые пункты меню

[~] Интерфейс
    Теперь текст кнопок и вводимые данные в элементах ввода имеют жирный шрифт

[@] Код
    Добавлен функционал чтения/записи настроек пользователя в отдельную таблицу


2014-11-11 23:36:15 39a18.14
[-] Меню
    Временно отключен функционал показывания/скрытия меню по событиям mouseenter и mouseleave


2014-11-11 23:19:28 39a18.13
[~] Чат
    Скруглены углы в попапах и в админском элементе ввода сообщений
    Уменьшены размеры кнопок со смайликами, а так же уменьшен размер соответствующего попапа

[-] Смайлики
    Добавлены новый смайлик:
      :accordion:
    Убраны смайлики из-за их больших размеров, которые сильно портят форматирование
      :tratata: :maniac: :bayan:


2014-11-11 22:51:05 39a18.12
[+] Смайлики
    Добавлены новые смайлики:
      :ban: :bayan: :censored: :contract: :facepalm: :help: :hmm: :maniac: :panic: :poke: :pray: :whistle:
    Заменены лучшими версиями (в основном - без подкладки белого "креста") смайлики:
      :clap: :coffee: :nea: :popcorn: :rose: :quote: :shout: :sorry: :spiteful: :ups:


2014-11-10 14:52:37 39a18.11
[%] Интерфейс
    Исправленна ошибка появления кнопок chat_advanced при открытии открепленного главного меню

[+] jQuery
    Добавлены виджеты Droppable и Sortable


2014-11-10 14:04:38 39a18.9
[#] chat_advanced v5b3
    (~) Интерфейс
        Для мобильных клиентов отключено обработка события mouseleave для меню - в них она вызывала тормоза

[@] Темплейты
    {-path_prefix-} заменен на {D_SN_ROOT_VIRTUAL}
    Добавлена глобальная переменная SN_GOOGLE - в темплейт и JS


2014-11-10 13:48:39 39a18.7
[!] Империя
    Переверстана страница "Империя" с активным использованием CSS и jQuery
    При идентичном виде и идентичной функциональности, на тестовом примере (15 планет при средней застройке) выигрышь в размере составил порядка 45% (~41 кб) при уже включенном минификаторе!
    При большем количестве объектов или более плотной застройке, выигрышь может быть еще больше


2014-11-10 11:05:55 39a18.6
[#] chat_advanced v5b2
    (~) Интерфейс
        Панель элементов переверстана на чистом CSS без участия JS для расчёта размера элемента ввода - размер строки для сообщения теперь меняется динамически при ресайзе окна браузера
        Вывод сообщений переписан-таки на DIV-ах. В результате опять уменьшился объем передаваемых данных


2014-11-10 07:04:48 39a18.4
[%] Меню
    Исправлена ошибка с нескроллируемым меню


2014-11-10 05:03:35 39a18.3
[#] misc_radio v2c2
    (@) JS и CSS
        Файлы JS и CSS модуля маркируются датой и временем последнего обновления - для форсирования обновления браузерами при изменении этих файлов

[#] chat_advanced v5b1
    (@) JS и CSS
        Файлы JS и CSS модуля маркируются датой и временем последнего обновления - для форсирования обновления браузерами при изменении этих файлов


2014-11-10 04:55:03 39a18.0 - Крадущаяся мышка, затаившееся меню
[!] Меню
    Появилась возможность спрятать меню разово или однократно - до обновления страницы или перехода на другую страницу
      - Возможность спрятать меню однократно бывает полезна, например, в окне чата, что бы увеличить его площадь или в окне "Империя", что бы больше информации влезло на экран
      - Для того, что бы однократно спрятать меню нужно навестись мышкой или тапнуть по кнопке "Спрятать меню" в левом верхнем углу экрана. При этом кнопка изменится на "Показать меню"
      - Что бы вернуть меню достаточно навестись мышкой или тапнуть по кнопке "Показать меню"
    Так же можно спрятать меню на постоянной основе тем самым, увеличивать полезную площадь страницы
    Для того, что бы постоянно спрятать меню, нужно нажать кнопку "Открепить меню" в самом верху меню. В открепленном режиме меню имеются следующие особенности:
      - Статус открепленного меню запоминается в куках устройства, т.е. для каждого устройства открепление меню настраивается отдельно
      - При каждом следующем открытии страницы меню будет сразу в спрятанном состоянии (см. выше)
      - Кнопка "Открепить меню" меняется на кнопку "Закрепить меню"
      - Что бы вернуть стандартное поведение меню достаточно нажать на кнопку "Закрепить меню"
      - Что бы воспользоваться, нужно навестись мышкой или тапнуть на кнопке "Показать меню". При этом при выходе курсора мышки за пределы меню оно автоматически скрывается
    Особенно полезна возможность скрытия меню будет для устройств с маленькими экранами - телефонов и мелкоразмерных планшетов
    Однако она так же может оказаться полезной и для пользователей обычных компьютеров, благо из-за функционала кнопки "Показать меню" привычки в работе с меню практически не нужно менять

[@] JS и CSS
    Все файлы JS и CSS в основном коде маркируются датой и временем последнего обновления - для форсирования обновления браузерами при изменении этих файлов
    Информация из global.css, относящяяся к темплейту OpenGame перенесена в CSS темплейта


2014-11-09 22:44:59 39a17.11
[#] payment_xsolla v1a0
    (!) Стартовый релиз для СН 35a17.0
        Полностью реализован протокол "Shopping Cart 3.0 Xsolla" - команды 'check', 'pay' и 'cancel'
        Поддержка режима тестирования
        Конфигурация отдельным файлом config.php в каталоге модуля. Если конфигурация недоступна - модуль отключается
        Поддержка выбора способа платежа xSolla
        Генерик-плательщик xSolla
        Хочу отметить часть методов платежа, добавленных к уже существующим:
          - мобильные платежи: через SMS, со счета мобильного, сервия ZONG от PayPal, со счета Киевстар
          - платежные системы: PayPal, EasyPay
          - банковские переводы: Приват24, Сбербанк Онлайн, Банк24 Национальный кредит
          - терминалы: EasyPay, Ibox, Терминалы Украины, Терминалы России
          - кредитные карты American Express, JCB, UnionPay
        Список далеко не полон - на сайте xSolla можно выбрать десятки других способов оплаты


[#] chat_advanced v5b0
    (!) ЭКСПЕРИМЕНТАЛЬНАЯ ФИШКА
        Добавлен код для устранения проблем с потерей фокуса строки ввода под некоторыми браузерами (в частности - IE 11, возможно поможет и на некоторых мобильных устройствах)
        Фишка реализована грязным хаком, поэтому если возникнут проблемы с работой чата - необходимо срочно об этом сообщить
    (~) Интерфейс
        Смайлики теперь центрированы в своих кнопках и по вертикали
        Уменьшен размер кнопок смайликов и попапа со смайликами

[#] payment_robokassa v3c3
    (+) Добавлен generic-метод RoboKassa


2014-11-09 08:04:30 39a17.5
[#] chat_advanced v5a1
    (~) Интерфейс
        Подогнан размер поля для ввода текста
        Раздвинуты элементы панели ввода: кнопка выбора цвета, кнопка смайла итд
        Небольшой визуальный тюнинг


2014-11-09 05:57:11 39a17.3 - Больше красоты в чат!
[#] chat_advanced v5a0
    (!) Администрирование
        Теперь можно забанить игрока из чата без РО. Для этого сразу после срока бана надо добавить восклицательный знак. Например, так:
          /ban id 10 7d! Бан без РО
        Переписано меню бана и мьюта - сроки бана и мьюта стали кнопками
        Во всплывающее меню для бана/мьюта добавлено поле для ввода причины бана/мьюта. По умолчанию при мьюте поле пустое, а при бане заполнено стандартной причиной "Заблокирован из чата"
        Во всплывающем меню для мьюта добавлен чекбокс "Забанить без РО" с соответствующим функционалом. По умолчанию галочка включена
        И поле причины, и чекбокс бана без РО при открытии меню выставляются в значение по умолчанию. Это сделано специально для уменьшения вероятности ошибиться
    (!) Интерфейс
        Изменено позиционирование попапов и подсказок с тем, что бы они не перекрывали вызывающий их элемент
        Так же немного изменены сами попапы для лучшей читаемости
        Смайлик, открывающий попап со смайликами, теперь сам стал кнопкой
        Цвет фона в поле ввода сообщения изменен на черный
        Выпадающий список с выбором цвета заменен на кнопку, при нажатии на которую выскакивает попап с вариантами выбора цвета
        Выбранный цвет текста сразу же отражается в поле ввода сообщения, давая возможность увидеть, как будет выглядеть сообщение в игре
    (%) Смайлики
        Исправлена ошибка, когда на кнопке смайлика её часть оставалась неактивной и некликабельной
        Исправлена ошибка неправильных кодов для смайликов ":)" и ":("
    (%) Администрирование
        Исправлена неработа некоторых диапазонов продолжительности мьюта/бана - в частности, "y" и "w"


2014-11-09 01:54:11 39a17.0
[!] Платежи
    Подготовка к подключению модуля xSolla
    Платежи теперь соблюдают порядок, назначенный им в module
    Заменены почти все картинки платежей на более качественные
    Если методов оплаты более 6 - остальные сворачиваются и прячутся с возможностью в дальнейшем развернуть
    Добавлено 17 новых методов платежей и картинок к ним


2014-11-07 22:14:27 39a16.15
[#] chat_advanced v4b4
    (~) Смайлики
        Уменьшен размер выдачи: попап переделан на jQuery и вынесены стили в CSS, а так же убран лишний внутренний элемент
        Улучшено позиционирование попапа, а сам попап стал выше и шире для удобства мобильных пользователей
        Иконки заменены кнопками - для удобства мобильных пользователей
        Клик в попапе вне иконки закрывает попап - для удобства мобильных пользователей
    (~) Администрирование
        Добавлено больше сроков для команд мюьта и бана в меню администрирования
        Код меню администрирования теперь не рендерится для обычных игроков
    (%) Исправлена странная ошибка с &amp; не транслирующимся в символ амперсанда


2014-11-07 07:18:23 39a16.11
[#] chat_advanced v4b2
    (%) История
        Исправлен внешний вид Истории чата


2014-11-07 07:12:28 39a16.9
[~] Рендерер ников
    Изменен порядок иконок в нике


2014-11-07 05:15:30 39a16.8
[+] Чат
    Добавлена поддержка нового рендерера ников
    Теперь если по какой-либо причине отключается модуль chat_advanced, то в чате не видны личные и информационные сообщения


2014-11-07 04:56:30 39a16.7
[#] chat_advanced v4b1
    (+) Список сообщений
        Еще уменьшена выдача списка сообщений


2014-11-07 02:02:18 39a16.4 - chat_advanced v4
[#] chat_advanced v4b0
    (!) Требуется СН 39a16.0+
    (!) Функционал списка сообщений и онлайн-листа переписан на CSS и jQuery
    (!) Администрирование
        Полностью переписаны функции администрирования
        На кнопках бана и мьюта добавлен попап с выбором сороков бана
        На кнопка аньмюта при наведении курсора появляется соответствующая подсказка - что позволяет её отличить от кнопки мьюта
        При операциях бана, мьюта и анмьюта чётко указывается, к какому пользователю будет применена команда. Это позволит исключить случайные промахи при обновлении онлайн-листа
        ID пользователя перенесен из тултипа в онлайн-лист - так что его теперь легко увидеть
        При бане из чата в бан-листе проставляется соответствующая причина
        Иконки бана и мьюта теперь не показываются на аккаунты, которые выше игрока по иерархии
    (!) Список сообщений
        Переверстан на таблицах. Сами ебитесь со своими div-ами!
        Очень сильно оптимизирован вывод сообщений по размеру
        Теперь вторая и последующие строки многострочных сообщений выравнены по первой строке, а не переносятся на следующую
        Корректно выравнены иконки в нике относительно надписей
        Благодаря новому парсеру, корректно выводятся URL-ы, стоящие сразу за символами ")", "]" и "}"
    (!) Список онлайна
        Очень сильно оптимизирован вывод списка по размеру - даже без минимайзера на каждой строке выигрышь составляет более 0,5 кб!
        При наведении на статус мьюта в списке онлайна сразу появляется подсказка с именем пользователя и сроком мьюта
    (%) Чат корректно работает с никами, содержащими символы "'", " ", "\", "/"
    (@) Добавлена поддержка компактизированных ников - соответственно в БД уменьшен размер таблицы с сообщениями

[#] player_award v0b0
    (!) Требуется СН 39a16.0+
    (-) Убрана неработающая ссылка в админском меню
    (@) Поддержка новой версии движка

[#] player_race v2d3
    (!) Требуется СН 39a16.0+
    (@) Поддержка новой версии движка

[!] Рендерер ников
    Полностью переписан рендерер ников
    Добавлена поддержка компактизированных скин-независимых ников
    Расширена возможность отключать части ника
    Иконки теперь имеют фиксированные положения, не зависимые от порядка загрузки модулей

[+] BBCode
    Теперь парсер понимает URL-ы, стоящие сразу за символами ")", "]" и "}"


2014-11-06 12:00:27 39a15.5
[~] Новости
    Теперь статус новости (например, "СВЕЖАЯ") пишется перед датой, а не перед текстом новости

[%] Настройки
    Исправлена невозможность снять галочку "Задать вручную разницу во времени"
[%] Страница покупки ММ
    Исправлены очепятки


2014-11-05 00:48:58 39a15.4
[+] Настройки
    На вкладке "Профиль" добавлена возможность вручную выставить разницу между серверным и клиентским временем. Для этого нужно выставить галочку "Задать вручную разницу во времени", ввести разницу во времени в секундах и сохранить изменения

[%] Платежи
    Исправлены перепутанные иконки МТС и Мегафона


2014-10-25 03:58:25 39a15.3
[+] Платежи
    Добавлены картинки для большинства поддерживаемых методов платежей
    Выбор фиксированного пакета при покупке ММ теперь сразу переводит на следующую страницу
    Добавлена индикация стоимости выбранного количества ММ в валюте сервера на всех этапах платежа
    Переупорядочены доступные методы платежей - от наиболее используемых к наименее используемым
    Немного переформатирована страница платежей
    Исправлено вычисление рассчётной стоимости ММ в рублях


2014-10-25 01:36:52 39a15.0 - Немного любви для Администраторов
[!] Админка/Информация об игроке
    Добавлена базовая страница с информацией об игроке. Она доступна только Администраторам и выше. Перейти на неё можно кликнув по ИД или нику игрока на странице "Список игроков"
    В настоящий момент страница является чуть облагороженным дампом соответствующей записи в таблице users без возможности редактирования

[~] Админка/Список игроков
    Добавлена колонка "Активен", показывающее прошедшее время с момента прошлой активности игрока
    При наличии модуля платежей появляется колонка с общим количеством купленной игроком ММ
    Убрана колонка "Е-Мейл" - эту и другую иноформацию об игроке теперь можно посмотреть на отдельной странице
    В колонке "Рефералы" подколонки "Игроки" и "ТМ" выравнены по правому краю
    Добавлены разделители тысяч в количество ТМ, заработанной рефералами
    Колонки переупорядочены для большего удобства
    Уменьшен размер страницы примерно на 40-60%%


2014-10-24 17:37:31 39a14.9
[%] Платежи
    Исправлена ошибка при выборе метода только с одним провайдером


2014-10-23 18:48:40 39a14.8
[%] Реферральная программа
    Исправлена ошибка, при которой баннер не показывался без регистрации


2014-10-23 18:17:53 39a14.7
[~] Реферральная программа
    Теперь в простых ссылках указывается не УРЛ, а имя сервера


2014-10-23 17:25:18 39a14.6
[!] Меню
    Новые авторские иконки: уменьшенного размера, оптимизированные, оригинальные

[~] Платежи
    Банковские карты перенесены выше электронных платежей


2014-10-23 16:40:50 39a14.4
[~] Реферральная программа
    Изменены УРЛы на действительные (с reg.php на login.php)
[~] Сообщения
    "Написать сообщение" теперь стало отдельной кнопкой

[%] Вселенная
    Исправлена ошибка отображения информации об игроках с определенными никами
[%] Сообщения
    Исправлена ошибка невозможности отправки сообщений игроками с определенными никами

2014-10-23 07:29:31 39a14.3
[#] payment_robokassa v3c0
    Требуется СН 39a14.1+
    Модуль переписан под новую систему платежей

[#] payment_webmoney v3c0
    Требуется СН 39a14.1+
    Модуль переписан под новую систему платежей

[!] Платежи
    Полностью переделан интерфейс системы платежей


2014-10-23 00:13:50 39a14.0 - Багфиксы и патчи
[~] Интерфейс/Строительство
    Теперь здание можно удалить даже если требования к постройке не удовлетворены. Т.е. теперь здания можно удалять в любом порядке и не нужны соответствующие Планы
[~] Интерфейс
    К элементам textarea не применяются теперь стили jQuery - применение стиля в Хроме делало текст невидимым

[%] Партнерская программа
    Исправлена регистрация по партнерским ссылкам - теперь правильно регистрируются привлеченные игроки
[%] Интерфейс/Строительство
    Убрана надпись NaN/NaN в конце требования к юниту, когда требованием является определенный Родной Мир
    Исправлена ошибка, позволяющее строить на луне/планете запрещенные к постройке здания
[%] Интерфейс/Император
    Добавлен пробел между "У вас" и количеством сообщений
[%] Альянсы
    Исправлена ошибка отправки многострочных сообщений

[@] Код
    Исправлено предупреждение в /includes/classes/supernova.php line 125


2014-10-22 21:26:13 39a13.7
[#] adm_user_stats
    Блокировка по расчету недельных данных уменьшена до 1 недели - хотя данные и не совсем адекватные, однако лучше видеть не совсем адекватные данные, чем никаких
    Добавлен рассчет % для активных (активность < 1 дня) и спящих (активность < 1 недели) пользователей


2014-09-09 01:47:22 39a13.2
[!] Интерфейс/Покупка юнитов
    Страница постройки кораблей и обороны:
      1. В списке юнитов вместо остатка при постройке 1 юнита показывается цена постройки 1 юнита: красным - если не хватает ресурса, желтым - если хватает ресурса на 1 юнит, зеленым - если после постройки юнита еще остаются ресурсы
      2. В описании в таблице стоимости юнита цена и остаток ресурсов теперь меняются динамически с учетом количества выбранных для постройки юнитов
      3. В описании юнитов под таблицей стоимости теперь показывается максимальное количество юнитов, которое можно построить с имеющимися ресурсами
      4. Теперь при вводе корректного количества юнитов и нажатии кнопки "Enter" юниты ставятся в очередь
    При входе на страницу первый элемент для отображения деталей выбирается по порядку отображения, а не по ID. Например, на Верфи теперь отображается Легкий Истребитель, а не Супертранспорт, как раньше
[!] Мультиэлемент ввода чисел
    Полностью переписан мультиэлемент:
      1. Максимальное использование jQuery
      2. Убраны устаревшие функции bind(), live() и delegate()
      3. Уменьшено количество обработчиков
      4. Ускорена работа мультиэлемента
      5. Использование спецтега <ainput> и вставка мультиэлемента на его место методами jQuery
      6. Теперь при входе в ячейку если значение в ней отлична от нуля, то значение выбирается (как в операционных системах)
    Исправлена ошибка, когда после нажатия курсором на кнопку "+" или "-", а затем отпускание кнопки мыши вне соответствующего элемента не отключал действие кнопки
    Новый мультиэлемент работает на страницах: постройки флота и обороны; набора кораблей во флот; черный рынок - покупка и продажа кораблей


2014-09-07 06:14:51 39a13.1
[%] Обзор планеты
    Исправлена ошибка с неработающими таймерами


2014-09-07 05:29:01 39a13.0 - Мобильнутый интерфейс
[!] Интерфейс
    Все строки ввода данных, чекбоксы и кнопки теперь используют jQueryUI в тех браузерах, в которых он работает
    Переработано множество страниц для совместимости с новым видом интерфейса, сделано огромное количество мелких правок - так что даже не буду пытаться их все перечислить

[~] Интерфейс/Покупка юнитов
    Если к юниту нет требований - требования не показываются вообще
    Уменьшен на 1 размер шрифта требований
    На странице технологий отображается "Время исследования", а не "Время строительства"
    Теперь на странице постройки флота/обороны кнопка "Построить" блокируется, если не выбрано количество юнитов
[~] Симулятор боя
    Переверстан интерфейс симулятора

[%] Админка
    Исправлена ошибка в SQL-запросе, которая не давала работать спискам планет



2014-09-06 23:11:56 39a12.3
[%] JS
    Откат на jQueryUI 1.8.7 - в новой версии какие-то несовместимости с кодом СН, дающие СТРАШНЫЕ баги на странице логина
    На всякий случай добавлены полные исходники работающей версии библиотеки
[%] Мультиэлемент ввода чисел
    Исправлена ошибка "NaN" при вводе первого нечислового символа
    Установлена фиксированная ширина кнопок. Это сделало вид элементов аккуратнее. Ну, и заодно - исправило некрасивость на странице отправки флотов


2014-09-06 21:54:21 39a12.1
[!] Мультиэлемент ввода чисел
    Элемент переделан под jQueryUI.button(). Выглядит получше и более дружественнен к мобильным пользователям (читай - больше по размеру)
    Переверстан под таблицы из-за странного поведения float div в некоторых сценариях. Пока ребята из Вилларибо верстают сайт дивами....
    Исправлен баг, когда нажатие на кнопки "+" или "-" при отключенном мультиэлементе меняли числовое значение

[+] Интерфейс/Покупка юнитов
    Переверстана страница. Теперь она более дружелюбна к мобильным пользователям:
      1. Уменьшено количество юнитов в ряду до 4-х
      2. Переверстана панель детальной информации о юните
      3. Благодаря пп. 1 и 2 удалось на 20% уменьшить ширину страницы - теперь она практически не отличается по ширине от навбара и гораздо удобней для просмотра на узких экранах
      4. Кнопка постройки юнита сделана через jQueryUI - стала толще и красивее. Кнопка "Удалить" осталась такой же мелкой - для исключения случайных промахах на мелких экранах
    Еще допилена таблица бонусов. Теперь если количество бонуса с прошлого уровня не изменилось - общее число бонуса подсвечивается желтым, а не зеленым. Таким образом, быстрый взгляд на таблицу дает полное представление об изменениях бонуса по уровням: зеленый цвет - положительные изменения, красный цвет - отрицательные, желтый цвет - нет изменений
    Пример:
      1. Возьмем опять же Астрокартографию 2-го уровня
      2. Раньше в третьей строке таблицы бонусов (Ур 3) количество экспедиций (1) подсвечивало зеленым
      3. Теперь в той же строке количество экспедиций (1) подсвечивается желтым - поскольку новых экспедиций на третьем уровне Астрокартографии не появится
      4. Опять же - проще посмотреть в интерфейсе, чем объяснять

[@] JS
    jQueryUI обновлен до самой свежей версии v1.11.1 и в него включены все виджеты


2014-09-06 17:58:47 39a12.0
[+] Интерфейс/Покупка юнитов
    Теперь в описании юнита показывается не кумулятивная разница бонусов с текущим уровнем, а инкрементальная. Так гораздо лучше виден эффект перехода от уровня к уровню юнита, что позволяет лучше планировать своё развитие.
    Пример:
      1. Пусть есть Астрокартография 2-го уровня
      2. Раньше четвертая строка таблицы бонусов (Ур 4) показывала разницу в +2 колонии. Это была кумулятивная разницу с текущим 2-м уровнем. Т.е. +1 колония за 3 уровень (значение в строке Ур 3) и +1 колония за четвертый уровень - итого +2 колонии
      3. Теперь четвертая строка будет показывать разницу в +1 колонию. Т.е. разницу между 3-м и 4-м уровнем Астрокартографии, которая и есть +1 колония. Значение в третьей строке (Ур 3) останется по-прежнему +1
      4. На самом деле - изменение выглядит в интерфейсе горзадо проще и интуитивнее, чем его объяснение
    Теперь на странице покупки юнитов показываются требования для покупки, а так же их выполнение
    Теперь ссылка на покупку юнита изменяется в контексте страницы: здания и боевые юниты "строятся", технологии - "исследуются", Наемники - "нанимаются"

[~] Документация
    В пример конфигурационного файла добавлено уведомление о необходимости использования разных префиксов для нескольких копий СН на одном сервере

[%] Интерфейс/Строительство
    Исправлена ошибка, когда уровень/количество юнита в описании под изображением "замерзал" и не обнулялся при выборе юнита с 0 уровнями/количеством


2014-08-26 12:57:47 39a11.9
[#] menu_applications_button 1с0
    Иконки-ссылки для загрузки приложений под Android, Windows 8.1, Windows Phone 8
    Иконки располагаются в каталоге модуля


2014-08-25 03:06:19 39a11.6
[@] Код
    Поставлены заглушки для будущей поддержки GeoIP
    Теперь модули могут добавлять пункты в админское меню


2014-08-24 20:56:18 39a11.5
[#] chat_advanced 3a4 Смайлики
    Исправлен пустой список смайликов


2014-08-24 20:06:59 39a11.2
[#] chat_advanced 3a3
    В чате теперь доступен расширенный функционал BBCode (см. ниже)


2014-08-24 19:57:09 39a11.0 Расширение функционала BBCode
[+] BBCode
    Расширен функционал BBCode - добавлена поддержка уровня автора сообщений при парсинге
    Для пользователей с разным authlevel досутпны разные BBCode. В частности, Администраторам (authlevel 3) теперь доступны следующие возможности:
      1. Автоматическое преобразование URL-ов в ссылки
      2. BBCode [url=HREF]text[/url]
      3. BBCode [c] может использоваться с любыми цветами в формате [c=#XXXXXX]text[/c], где #XXXXXX - HTML-код цвета
[+] Новости
    В новостях теперь доступен весь функционал BBCode (см.выше)
    Теперь по умолчанию галочка "Разослать новость всем игрокам" отключена
[+] Чат
    В чате теперь доступен расширенный функционал BBCode (см.выше)


2014-08-23 17:04:43 39a10.20
[%] Обслуживание
    Исправлена несовместимость Обслуживания с новым кодом аутентификации


2014-08-23 16:47:19 39a10.18
[%] UBE
    Исправлена ошибка, при которой при потерях в возвращающемся флоте неправильно отображалось количество кораблей


2014-08-23 16:37:03 39a10.17
[~] Режим отпуска
    Теперь на странице отпуска не отображаются: меню, новости, навбар... По прежнему блокируется вход на любые страницы игры. Отдыхать - так отдыхать!


2014-08-23 16:22:25 39a10.16
[%] Миссии/Шпионаж
    Исправлена ошибка добавления в отчёт эффективного уровня юнитов, а не базового


2014-08-23 15:56:19 39a10.14
[%] Код
    Убраны BOM-префиксы в исходниках - таким образом, восстановлена работа создания баннера на странице "Заработай ТМ" и, собственно, сама генерация баннера


2014-08-23 15:20:58 39a10.13
[~] Интерфейс/Исследования
    На странице "Исследования" при выборе Астрокартографии в подробном описании добавлена таблица, показывающая увеличение количества экспедиций и колоний при апгрейде технологии
[~] Интерфейс/Империя
    Добавлено количество текущих/максимальных экспедиций

[%] Флоты/Колонизация
    Исправлена ошибка, позволяющая колонизировать на 1 планету больше возможного количества


2014-08-15 05:02:31 39a10.12
[~] Авторизация
    Убрано автозаполнение аналогичных ячеек при наборе данных - как возможная причина дублирования символов на некоторых андроид-устройствах


2014-08-14 18:07:14 39a10.11
[%] Локализация
    В текстах экспедиционная технология заменена Астрокартографией


2014-08-14 15:24:27 39a10.10
[~] Авторизация
    Добавлены страницы редиректа старых адресов reg.php и lostpassword.php


2014-08-10 07:59:30 39a10.9
[%] Платежные модули
    Исправлена несовместимость платежных модулей с новой системой аутентификации


2014-08-09 22:21:39 39a10.6
[!] misc_player v2c1
    Новый  HTML5/SWF плеер, совместимый с подавляющим большинством устройств
    Теперь определение мобильныого устройства и переключение плеера на HTML5 версию работает корректно
    Поправлены CSS-стили под поддержку бОльшего количества браузеров
    Обновлен плейлист


2014-08-09 21:30:58 39a10.3
[~] Метаматерия
    Немного изменен алгоритм начисления ММ


2014-08-08 04:50:49 39a10.2
[+] Авторизация
    Добавлена отправка письма с логином и паролем при регистрации
    Исправлены некоторые ошибки при авторизации


2014-08-07 01:02:13 39a10.0 - Авторизация и статистика
[!] Авторизация
    Полностью переписана с нуля система авторизации в игре
    Все операции системы авторизации проводятся в init.php - дальше по коду передаются только результаты авторизации. Это дает возможность позже добавить плагины для авторизации во внешних сайтах
    Страницы логина, регистрации и восстановления пароля сведены в одну и сделаны более дружественными для мобильных пользователей:
    При восстановлении пароля отсылается цифровой код, что облегчает ввод с экранной клавиатуры
    Код восстановления высылыается не чаще раза в час и действует 1 сутки

[+] Статистика
    Статистика переработана, что бы потреблять меньше памяти в процессе
    Размер памяти, резирвируемый под процесс PHP при обсчете статистики, можно менять переменной 'stats_php_memory' в таблице `config`. Синтаксис - такой же, как и в php.ini. Значение по умолчанию - 1024M
    Минимальный интервал обсчета задается переменной 'stats_minimal_interval' в таблице `config`. Значение по умолчанию - 600 секунд
[+] Скины
    Добавлена поддержка адаптивности скинов для мобильных пользователей
    В настоящий момент - фон адаптируется ступенчато под размеры экрана или вовсе отключается (для устройств с небольшим размером экрана)


2014-07-06 14:29:21 39a9.5
[~] Статистика
    Добавлено принудительное увеличение памяти в процедуру расчета статистики


2014-07-06 14:24:44 39a9.4
[%] Альянсы
    Исправлена ошибка создания Альянса


2014-06-29 05:08:12 39a9.3
[%] Админка
    Исправлена невозможность запуска менеджера летящих флотов из админки


2014-06-29 04:33:56 39a9.2
[!] Обзор Империи
    Размер страницы уменьшен на 35%-50%
[!] Обзор планеты
    Размер страницы уменьшен на 5%-20%
[!] Скины
    При разрешении экрана менее 1224 пикселов фон либо не грузится вообще (страница входа/регистрации) или грузится облегченная версия фона если разрешение экрана выше 768 пикселов (скины EpicBlue и supernova-ivash)
    Это сделано для более быстрой работы на мобильных устройствах и маломощных компьютерах. Фишка работает только в перечисленных скинах и/или на указанных страницах
    Так же, если размер изображентия планеты невелик, то грузится файл с меньшим разрешением. В неподдерживаемых скинах картинки планет могу отсутствовать вовсе


2014-06-28 22:34:51 39a9.0 - КК, Фаза 10. И опять не КК-шная, мобильно-оптимизаторская
[!] Страница построек
    Размер страницы построек уменьшен на 25%-35%. Например, на тестовом прогоне размер уменьшился с 82676 до 64582 байт. И это со включенным минификатором!


2014-06-28 18:10:08 39a8.21
[~] Интерфейс
    Везде, где возможно, поля ввода для логина и пароля ограничены 32 символами
[~] Настройки игрока
    Добавлена возможность ввести основной емейл - если он еще не введен
    Добавлены подсказки, объясняющие различие между основным и вторичным емейлом

[%] Настройки игрока
    Исправлена ошибка в заголовке таблицы на странице "Уведомления", если на сервере включена отправка емейлов

[@] Код
    Обработка летящих флотов вынесена из common.php в init.php
    Часть кода из init.php вынесена в отдельный файл init/init_functions.php
    Убрана переменная $IsUserChecked
[@] Верстка
    Добавлено подключение CSS, специфичного для темплейта - _template.css - из корня темплейта
    Основная часть страницы теперь центрируется не через <center>


2014-06-26 19:16:42 39a8.20
[+] Локализация
    Добавлена подсистема сбора информации об употреблении строк локализации в коде. Включается переменной "server_locale_log_usage" в таблице `config`


2014-06-24 19:08:49 39a8.18
[~] Чат
    В списке онлайна Администраторы сервера теперь всегда идут первыми


2014-06-20 20:02:18 39a8.13
[+] Локализация
    Добавлена поддержка вариантов языка - типа, en-US и en-UK

[~] Логин/Регистрация/Восстановление пароля
    Переделан выбор языков


2014-06-15 09:35:00 39a8.12
[-] Темплейты/OpenGame
    Удалены неисользуемые картинки в каталоге img

[@] Веб-сервер
    Добавлены файлы .htaccess


2014-06-14 15:46:33 39a8.11
[~] Меню
    Рекламная ссылка перенесена в самый низ меню


2014-06-14 14:58:21 39a8.8
[~] Строительство
    Восстановлен редирект на новую страницу после постройки
[~] Меню
    Ссылка на движок открывается в новом окне и на странице с описанием движка

[%] Альянсы
    Исправлена ошибка


2014-06-11 19:40:28 39a8.7
[~] Меню
    В стандартных скинах убраны "скачки" меню в процессе рендеринга страницы


2014-06-11 14:49:17 39a8.6
[%] Настройки
    Восстановлены потерянные настройки "День рождения" и "Замерить разницу времени..." (вкладка "Профиль"), а так же выбор языка игры (вкладка "Интерфейс")


2014-06-10 13:08:15 39a8.5
[%] Верфи и оборона
    Исправлена странная ошибка в некоторых случаях не позволяющая ввести некоторые количества юнитов


2014-06-10 12:26:22 39a8.4
[%] Верфи и оборона
    Исправлена ошибка невозможности постройки юнитов с ограничением на максимальное количество (например - щиты и ПЗ)


2014-06-10 07:27:57 39a8.3
[!] Настройки
    Переделана страница настроек под табы
    Добавлена возможность отключать колонок "Статистика игрока" и "Информация об игроке" в обзоре Вселенной

[+] Верфи и оборона
    Добавлена информация о боевых характеристиках (для всех юнитов) и скоростных характеристиках (для кораблей)

[%] Верфи и оборона
    Исправлена ошибка непоказывания 0 юнитов в описании юнитов


2014-06-09 15:48:57 39a8.2 Верфи и оборона
[!] Верфи и оборона
    Интерфейс верфи и обороны унифицирован с интерфейсом постройки зданий
    Теперь при постановке в очередь юнитов больше, чем максимальный размер стэка очереди (2000 по умолчанию) в очередь ставятся подряд несколько стэков - до тех пор, пока не будет поставлено в очередь нужное количество юнитов или пока не закончатся свободные слоты в очереди
    Восстановлен функционал старого интерфейса - при срабатывании ограничений (по количеству юнитов, по размеру ракетной шахты, при нехватке ресурсов итд) в очередь ставится максимально возможное количество юнитов с учётом ограничений
    Унифицированный интерфейс особенно хорошо смотрится с вертикальной очередью построек (для экранов с разрешением свыше 1000 пикселов по горизонтали). Вертикальная очередь построек включается в "Настройках" соответствующим чекбоксом


2014-06-07 17:37:43 39a8.0 - КК, Фаза 9. Не КК-шная
[!] Исследования
    Интерфейс исследований унифицирован с интерфейсом постройки зданий
    Премиум-аккаунт добавляет 1 слот в очереди исследований за каждый уровень Премиума


2014-06-05 10:51:13 39a7.24
[%] Логин
    Исправлена ошибка входа в игру, если текущей планетой является удаленная по Обслуживанию планета


2014-06-02 00:24:28 39a7.23
[%] Миссии/Экспедиция
    Исправлена ошибка нахождения Солнечного Спутника в Экспедиции


2014-06-01 18:58:42 39a7.22
[%] Контакты
    Исправлена ошибка вывода всех игроков


2014-06-01 16:28:24 39a7.20
[%] Миссии/Экспедиция
    Исправлены нерабочии экспедиции
[%] Миссии/Атака
    Исправлено несохранение потерянных юнитов при ничье или выигрыше обороняющегося
    Исправлена ошибка при нападении на удаленную планету
[%] Миссии/Колонизация
    Исправлена ошибка с "вечным" колонизатором


2014-05-18 04:59:46 39a7.18
[%] Капитаны
    Исправлена очепятка

[@] Код
    Функции преобразования intval() для идентификаторов БД bigint(20) в $supernova заменены на idval() - внутри которой пока floor()


2014-05-17 08:36:14 39a7.16
[+] Капитаны
    Теперь при отправке флота виден уровень Капитана на планете и его скиллы

[%] Капитаны
    Исправлена ошибка отправки Капитана с флотом

2014-05-16 06:42:34 39a7.13
[~] Отладка
    Доработана отладка


2014-05-15 06:58:50 39a7.12
[%] Фаланга
    Исправлена ошибка


2014-05-15 06:37:24 39a7.11
[%] Капитаны
    Исправлена ошибка


2014-05-14 22:10:08 39a7.9
[%] Миссии/Ракетная атака
    Исправлено увеличение Перехватчиков в шахтах вместо уменьшения при атаке

[%] Стандартный чат
    Исправлена ошибка вывода бенчмарка в AJAX-выдачу

[@] Код
    К LOC_QUE добавлены родители в LOC_PLANET по que_planet_id_origin и que_planet_id


2014-05-13 18:09:32 39a7.8
[%] Флоты/Своз ресурсов
    Исправлена ошибка из-за которой ресурсы на планете не уменьшались при свозе


2014-05-13 05:56:44 39a7.6
[%] Альянсы
    Исправлена ошибка с показом количества игроков в Альянсе
[%] Премиум
    Исправлена ошибка с отображением даты окончания Премиума
[%] Флоты/САБ
    Исправлена невозможность добавить игрока в САБ


2014-05-12 21:26:52 39a7.4
[!] Админка/Записи логов
    Определение дедлоков и добавочная информация для их диагностики
    Для получения добавчной инофрмации о дедлоках пользователь MySQL, под которым запускается игра, должен иметь право MySQL PROCESS

[%] Регистрация
    Исправлена ошибка уровня Warning

[@] Код
    Доработка сообщений о дедлоке для более лёгкой читаемости


2014-05-12 16:52:30 39a7.3
[!] Код
    Исправлены дедлоки (?)
    Две новые директивы отладки в init.php:
      DEBUG_SQL_COMMENT - включает комментирование SQL-запросов
      DEBUG_SQL_ONLINE - включает лог SQL-запросов в таблицу `logs`. Так же подразумевает DEBUG_SQL_COMMENT

[~] Чёрный рынок
    При полностью пустом списке б/у кораблей в продаже он пополняется случайным образом

[%] Статистика
    Исправлен запуск статистики при каждом входе админа в админку


2014-05-11 22:39:53 39a7.2
[@] Отладка


2014-05-11 16:50:06 39a7.0 - КК, Фаза 8. Опытно-квестовая
[!] Квесты
    Переписан механизм квестов
    Квесты включены
    Исправлен баг неполного начисления награды, когда одновременно выполняются более одного квеста
[!] Опыт
    Включен опыт за постройку зданий и исследование технологий
[!] Отпуск
    Переделана процедура ухода в отпуск
    Выход в отпуск включен
[!] Очереди
    Теперь при ошибке постановки в очередь выдается соответствующее сообщение с подробным объяснением причины ошибки


2014-05-11 13:18:26 39a6.15
[!] Код
    cSN::db_get_record_by_id() теперь использует cSN::db_get_record_list()

[%] Миссии/Переработка
    Теперь переработчики собирают ресурсы
[%] Обновление
    Исправлена редкая возможность запуска двух обновлений


2014-05-11 11:18:24 39a6.14
[!] Код
    changeset v1 - добавлена поддержка условий WHERE типа $field => $value. Обратно совместимо с v0
    db_chаngeset_condition_compile()
    Улучшенный лог SQL-запросов
    Переработаны функции cache_ и их использование


2014-05-11 06:22:18 39a6.12
[%] Артефакты
    Исправлена работа наностроителя

[%] Альянсы
    Исправлена ошибка Исследований Альянса
    Исправлена ошибка покупки Планов Альянса


2014-05-10 20:13:37 39a6.10
[!] Ускорение
    В три раза ускорение при в 3 раза меньшей памяти! (по сравнению с 39a5.4)
[!] Код
    db_get_list() теперь автоматически блокирует родителей любого уровня вложенности - быстро и аккуратно
    Получаем очереди по локации через $supernova

[%] Миссии/Шпионаж
    Исправлена ошибка


2014-05-10 13:21:39 39a6.9
[%] Наемники
    Исправлена ошибка при покупке Наемника


2014-05-10 03:32:11 39a6.6
[!] Код
    db_changeset_apply() теперь работает с методами $supernova
    После que_get() теперь первый элемент выбирается независимо от индексации - можно использовать нормально очереди с методами $supernova

[~] Артефакты
    На Эвристический чип и Наностроитель добавлена защита от случайного срабатывания. Теперь они не срабатывают, если осталось меньше 1 минуты для постройки


2014-05-09 19:26:29 39a6.3
[!] Код
    Доступ к `unit` использует методы $supernova


2014-05-09 18:06:15 39a6.2
[!] Код
    Унифицироваы процедуры базовых операций с записями из любых таблиц
    Доступ к `users` использует процедуры $supernova
    Доступ к `planets` использует процедуры $supernova


2014-05-08 07:11:45 39a6.0 - КК, Фаза 7. Оптимизация
[!] Админка
    Отключены: панель админа, компенсация планет - может что-то еще
    В начислении ТМ и ММ поиск производится только по имени пользователя
    Убрана возможность начислять ТМ по планете
[!] Код
    Базовые операции доступа к `users` внесены в $supernova


2014-05-07 19:07:22 39a5.8
[!] Код
    Все обращения к таблице `que` вынесены в отдельный файл


2014-05-05 19:49:32 39a5.6 Багфиксы
[%] Код
    Исправлено множество багов


2014-05-05 17:35:11 39a5.4
[!] Код
    Все обращения к таблице `unit` вынесены в отдельный файл


2014-05-04 23:52:56 39a5.3
[%] Логин
    Исправлена проблема с логином


2014-05-04 23:20:44 39a5.2
[%] Движок БД
    Исправлена очепятка выборки ИД пользователя по имени


2014-05-04 22:09:41 39a5.0 - КК, Фаза 6. Нудная фаза
[!] ВНИИМАНИЕ! ДАННЫЙ ПАТЧ ЯВЛЯЕТСЯ ПРОМЕЖУТОЧНЫМ! В НЁМ ВСЁ ЕЩЕ НЕ РАБОТАЮТ НЕКОТОРЫЕ ФИШКИ (СМ. ПРЕДЫДУЩИЙ ПАТЧНОУТ)
[!] Код
    Все обращения к таблице `planets` вынесены в отдельный файл
    Все обращения к таблице `users` вынесены в отдельный файл
    В запросы "START TRANSACTION", "COMMIT" и "ROLLBACK" заменены вызовами соответствующих функций

[%] Движок
    Исправлены какие-то ошибки


2014-05-03 04:02:05 39a4.3
[!] Код
    В основном коде запросы "START TRANSACTION", "COMMIT" и "ROLLBACK" заменены вызовами соответствующих функций

[%] Вселенная
    Исправлено отображение нового количества ракет после межпланетной атаки
[%] Админка
    Ссылка "Компенсировать" возвращена на своё место в меню
[%] Код
    Исправлено предупреждение Warning: Invalid argument supplied for foreach() in includes/db.php on line 365


2014-05-02 20:30:58 39a4.2 Багфиксы
[!] Кстати, сейчас в Верфи и Обороне строится только первое из выбранных сооружений. Забыл написать

[%] Движок
    Пофикшены все найденные баги патча 39a4.0


2014-05-02 09:59:28 39a4.0 - КК, Фаза 5. Отвязная фаза
[!] Требуется версия PHP >= 5.3.2
[!] ВНИИМАНИЕ! ДАННЫЙ ПАТЧ ЯВЛЯЕТСЯ ПРОМЕЖУТОЧНЫМ! В НЁМ НЕ РАБОТАЮТ НЕКОТОРЫЕ ФИШКИ
    Отключены квесты
    Отключено начисление опыта за постройки/исследования
    Не отсылаются сообщения очередей
    В админке отключена "Панель админа" и "Редактирование планеты"
    При ошибках при добавлении постройки/исследования/корабля/обороны в очередь игра останавливается и выдается сообщение об ошибке. Что бы продолжить игру - вернитесь на предыдущую страницу. Если сообщение соответствует ошибке - сообщать об этом не надо!
    Может заметно ухудшиться отзывчивость движка. Это нормально - код будет еще оптимизироваться
[!] Очереди
    С нуля написана универсальная подсистема очередей. Очереди отвязаны от записей пользователей и планет в БД
    При обновлении очереди построек на планетах будут сконвертированы в новый формат. Очереди верфи и обороны будут обнулены, а стоимость юнитов в очереди - возвращена на планету
    Теперь очереди полностью независимые от записей пользователя и планеты
    Полностью разделены очереди кораблей и обороны. На обзор планеты добавлена индикация очереди обороны. На картинки планет в обзоре планеты и обзоре Империи добавлена иконка активной очереди обороны (щит)
[!] Юниты
    Постройки, корабли и оборона отвязаны от записей пользователей и планет в БД
    Все наличные постройки, корабли и оборона сконвертированы в новый формат
[!] Статистика
    Полностью переделан расчёт статистики
    Скорость расчёта статистики заметно увеличена (при одновременном увеличении количества объектов для обсчёта!). Чем больше игроков и чем активнее игра - тем больше выигрышь в скорости обсчета. Ускорение обсчета на типичном сервере составляет от 10 раз и выше
    Теперь полностью учитываются все юниты всех типов, включая корабли в полёте
    Теперь в статистике по ресурсам полностью учитываются все ресурсы: на планетах, вложенные в очереди строительства/верфи/обороны/исследования, находящиеся на флотах в полёте. Так же учитывается наличная ТМ (ММ не учитывается)
    Теперь при расчете статистики Альянса так же учитывается юниты Альянса и ресурсы в банке
    Теперь расчитывается и отображается изменение места Альянса во всех типах статистики
    Исправлена очепятка, из-за которой вообще не учитывался дейтерий
    Все вышеуказанные изменения приведут к однократной перетусовке в статистике и росту абсолютного значения всех видов статистики
[!] Код
    Фактически, всё, связанное с юнитами и очередями полностью переписано

[+] Рекорды
    Для флотов и обороны теперь показывается суммарное количество юнитов на всех планетах и лунах. Флоты в полёте по-прежнему не учитываются

[~] Меню
    Изменены иконки пунктов меню Верфь, Оборона и Флоты в полете

[%] Очередь верфи
    Исправлена ошибка индикации оставшихся юнитов в стаке при постройке последнего в стаке юнита
[%] Альянсы
    Исправлено незаполнение имени user_as_ally тэгом при создании Альянса
[%] Очередь исследований
    Наконец-то локализована и, вроде, исправлена редкая ошибка с "зависанием" времени исследования в оффлайне
[%] Артефакты
    Исправлена редкая ошибка, когда АКК мог пропасть при неудачной попытке развернуть его на полной планете
[%] Обслуживание сервера
    Убраны предупреждение на экране оповещения об обслуживании при включенных E_WARNING

[@] Код
    Убраны все прямые обращения к P_NAME, оставшиеся изолированы
    SetSelectedPlanet() переписан полностью


2014-04-22 13:58:44 39a3.7
[~] Платежи
    Добавлена поддержка WMB - белорусских рублей на WebMoney
    Основной валютой сервера по умолчанию установлен доллар США (USD). Скорректированы курсы всех валют
[~] О сервере
    Добавлена индикация режима взаимодействия игроков с 1 IP (мультиаккаунтов)


2014-04-14 15:25:14 39a3.6
[%] Экономика
    Исправлена ошибка обсчета планеты


2014-04-12 15:33:17 39a3.5
[+] ЧР/Обмен ресурсов
    Строка ввода заменена на мультиэлемент


2014-04-12 13:45:47 39a3.3
[~] Флоты/Своз ресурсов
    Теперь в расчете строки ИТОГО учитывается ёмкость трюмов флота, т.е. показывается реальное количество ресурсов, которые будут свезены по текущим данным
    Код расчёта переписан на jQuery

[@] Код
    Теперь в sys_o_get_updated() при выборке планеты FOR UPDATE сразу же блокируется и юзер. Это чуть замедлит работу, но позволит избежать дедлоков при работе с планетами и юзерами


2014-04-12 11:23:30 39a3.2
[~] Отправка флота
    Кнопка 1/(доступных экспедиций) теперь появляется только если не дублирует кнопки 1/(максимальное количество экспедиций) и "Все корабли"


2014-04-12 11:05:24 39a3.1
[%] Флоты/Менеджер летящих флотов
    Исправлена ошибка неактуальной информации о планете при шпионаже/атаке планет неактивных игроков

[@] Код
    Исправлено предупреждение в uni_coordinates_valid()


2014-04-11 06:41:10 39a3.0 - КК, Фаза 4 - Под коп под топ
[!] UBEv4.1
    Изменена процедура обсчета боя. Теперь щиты считаются индивидуально для каждого корабля
    Это значит, что теперь практически невозможно провести бой без потерь с обеих сторон


2014-04-09 12:25:48 39a2.10 - Продвинутый мультиэлемент ввода данных
[+] Темплейт
    Существенно доработан функционал мультиэлемента выбора количества (строка ввода со слайдером и кнопками "-" и "+")
    Добавлены кнопки "0" и "М" - соответственно устанавливающие значение поля в 0 и в максимальное значение
    Теперь можно не кликать несколько раз подряд для увеличения/уменьшения значения в ячейке, а достаточно зажать кнопку мышки - количество будет изменятся автоматически
    Изменение данных при зажатой мышке проводится с ускорением - чем дольше держать кнопку мышки, тем быстрее будет изменятся значение в строке ввода
    ВНИМАНИЕ! В отдельных браузерах страницу, возможно, прийдется перегрузить несколько раз подряд, что бы новый функционал полноценно заработал!

[~] Отправка флота
    Добавлена кнопка 1/X, где X - количество неотправленных экспедиций. Появляется только если X > 1 и X < максимального количества экспедиций
    В подбор кораблей добавлен новый функционал мультиэлемента


2014-04-09 10:17:15 39a2.9
[%] Миссии/Переработка
    Исправлена ошибка из-за которой переработчики не привозили ресурсы


2014-04-08 23:50:53 39a2.8
[+] Меню
    В раздел "Правила игры" добавлена ссылка на подробную документацию к игре. Файл по ссылке открывается в новом окне

[%] Миссии/Экспедиция
    Исправлена ошибка обсчёта события Экспедиции по прибытию в неизведанную территорию, а не после окончания срока Экспедиции
    Исправлена ошибка двойного обсчёта одной и той же Экспедиции
[%] Миссии/Уничтожение
    Испрвлена ошибка дублирование отчетов в ЛС

[@] Разное
    Теперь можно отключить защиту от взаимодействия аккаунтов с одним IP выставив в таблице `config` параметр `game_multiaccount_enabled` в 1


2014-04-08 13:24:24 39a2.7
[~] Артефакты
    Добавлены временные картинки для Крюков


2014-04-08 10:51:44 39a2.6 - Луны на продажу!
[!] Артефакты
    Новый тип Артефакта: Крюк. Он телепортирует астероид из ближайшего метеоритного пояса и запускает его на орбиту планеты, создавая таким образом луну. Доступны три вида Крюков: Малый, Средний и Большой. Малый создает луну минимального диаметра (1100 км), Большой - максимального диаметра (8999 км), а Средний - луну случайного диаметра (от 1100 до 8999 км)
    Изменена логика работы Наностроителя и Эврестического Чипа. Теперь они уменьшают время соотвественно текущего исследования в Империи и постройки/разрушения текущего строения на планете/луне в два раза (если до окончания процесса осталось больше часа) или моментально заканчивают процесс (если до окончания осталось не более 1 часа)
    В цене Артефакта добавлен разделитель тысяч


2014-04-08 08:29:13 39a2.4
[%] Навбар
    Исправлена ошибка неправильной страницы строительства при переключении планеты на странице, отличной от страницы построек
[%] Альянсы
    Исправлена ошибка с возможностью сделать Альянс пустым именем/тэгом/титулом главы


2014-04-07 00:24:34 39a2.2
[#] unit_captain 3a0
    (!) Требуется СН 39a2.0+
    (~) Вынести работу с Капитаном при возвращении флота в модуль Капитанов


2014-04-07 00:02:05 39a2.0 - КК, Фаза 3: Менеджер летящих флотов
[!] Флоты/Менеджер летящих флотов
    Бета-версия нового менеджера летящих флотов (МЛФ)
    Новый МЛФ должен гарантировать полное отсутствие дедлоков
    Все мисиии переписаны для поддержки нового МЛФ
    Из основного кода удалена поддержка модуля Капитанов

[+] Флоты/Шпионаж
    Включён "Имперский шпионаж"
    Уровень Имперского шпионажа (УИШ) - это сумма уровней Шпиона и Шпионской технологии с учётом всех доступных бонусов, но без учёта количества спутников-шпионов
    Если УИШ шпионящего больше или равен УИШ шпиониемого, то в отчете будут видны так же Имперские Технологии

[@] Локализация
    Добавлена переменная активного языка в classLocale
    Добавлено уведомление о критической ошибке при попытке вызвать функции локализации с $lang не в виде класса
[@] БД
    При старте уровень транзакций сессии устанавливается в REPEATABLE_READ для меньшей зависимости от настроек сервера
    Добавлена возможность установливать уровень отдельной транзакции в sn_start_transaction()
    В doquery() запрос теперь обрабатывается функцией trim()


2014-04-05 18:07:11 39a1.3
[~] Темплейт
    В темплейте включён рекламный блок и логотип СН

[%] Навбар
    Исправлена ошибка переключения планеты в истории чата


2014-03-28 21:11:10 39a1.2
[@] В модулях убраны обращения к $sn_data


2014-03-28 20:31:43 39a1.0 - КК, Фаза 2: $sn_data
[@]  Все  оставшиеся  обращения  к  $sn_data  в  основном  коде   заменены   на
get_unit_param()


2014-03-26 14:46:41 39a0.6
[@] Обслуживание
    Изменена процедура Обслуживания


2014-03-22 00:48:56 39a0.0 - КК, Фаза 1: Группы
[@] Все обращения к $sn_data['groups'] заменены на sn_get_groups()


2014-03-03 18:28:35 38d0 Project "SuperNova.WS" Release 38 "Admin astro expo news bugfix"
[!] Project "SuperNova.WS" Release 38 "Admin astro expo news bugfix"


2014-02-22 04:38:08 38c0 Project "SuperNova.WS" Release Candidate 38RC0 "Admin astro expo news bugfix"
[!] Project "SuperNova.WS" Release Candidate 38RC0 "Admin astro expo news bugfix"


2014-02-20 16:32:16 38a11.1
[%] Обзор Империи
    Добавлен патч для устранения несовместимости глюкобага со стандартами W3C


2014-02-19 02:37:18 38a11.0
[+] Обзор Империи
    Оптимизирован HTML-код страницы. В среднем в минифицированном состоянии выигрышь составил порядка 6 кб на 1 планету/луну. Чем больше объектов в Империи и чем больше типов юнитов - тем больше выигрышь
    Строка таблицы с координатами перемещена под строку с названием планет для унификации вывода
    Строка с количеством секторов убрана - она дублирует информацию на иконке планеты


2014-02-17 20:32:36 38a10.25
[-] Скин
    Убран скин sn_space_blue


2014-02-15 16:13:54 38a10.23
[~] Новости
    Добавлена информация о публикаторе новости
    Изменено отображение новости
    Добавлена вторичная сортировка новостей по ID

[%] Настройки
    Исправлено отображение статуса удаления аккаунта


2014-02-15 15:06:17 38a10.22
[~] Чёрный рынок
    Переписан на использование result вместо message()

[@] Интерфейс
    message() теперь работает через PTE-объект


2014-02-15 13:56:36 38a10.21
[~] Меню
    Пункты меню "ЧаВо", "Форум" и "Правила игры" открываются в новых окнах
[~] Админка/Обслуживание
    Теперь сразу после обслуживания происходит обновление статистики - для устранения разрывов в местах игроков, которые могут появится из-за удаления старых аккаунтов
    Убраны операции очистки таблиц, дублирующие работу констраинтов

[%] Боевой отчет
    Устранено появление строки "Дата и время" для симулированных отчетов при ненулевой разнице клиентского и серверного времени
[%] Настройки
    Исправлена индикация режима защиты планет Администрации


2014-02-11 10:50:00 38a10.18 - Радио "Космос"
[#] misc_radio 0a0
    (!) Начальная ревизия


2014-02-10 19:56:03 38a10.15
[%] Статистика
    Исправлено постоянное обновление статистики


2014-02-10 19:35:39 38a10.14
[%] Статистика
    Исправлена ошибка неправильного времени в графе "Следующее обновление"
[%] Поиск
    Исправлена ссылка на страницу статистики для ранка 1000+
    Убрана ссылка на страницу статистики для неучаствующих в подсчете аккаунтов (например - Адмиинистрации сервера)

[@] Расписание
    Изменен формат расписания. Теперь он определяет интервал запуска задачи и имеет вид:
      Г-М-Д Ч:И:С
    где Г, М, Д, Ч, И, С - соответственно длина интервала в годах, месяцах, днях, часах, минутах и секундах
    Значения левее первой значащей цифры можно не указывать. Например, "0-0-1 0:0:0" можно записать как "1 0:0:0" и это будет означать "запустить задачу раз в сутки"
    Нулевые значения можно опустить. Например, предыдущий интервал можно записать так же в виде "1 ::". Обращаю внимание на пробел между "1" и ":"! Пробел - значащий разделитель и его опускать в данном случае нельзя, потому что интервал "1::" будет истолкован как "запустить задачу раз в час"!


2014-02-09 01:14:56 38a10.12
[%] Флоты/Отправка флотов
    Исправлена невозможность отправить флот в Удержание при подборе кораблей через пункт меню "Флот на орбите"
    Усилена защита от отправки флотов в нетранспортную миссию с ресурсами
[%] Обзор Вселенной
    Исправлена ошибка пропадения иконок ракетной атаки и шпионажа у планет игроков, неактивных более одной недели

2014-02-08 22:51:37 38a10.11
[@] БД
    Изменена таблица `payment`


2014-02-08 22:27:22 38a10.10
[+] Новости
    Теперь свежие новости показываются на всех страницах залогиненного пользователя
    Теперь для того, что бы скрыть свежие новости не обязательно открывать страницу новостей - достаточно кликнуть на кнопку "Закрыть" в правом верхнем углу списка новостей

[~] Статистика
    Теперь на странице статистики показывается так же время следующего обновления
    Время предыдущего и следующего обновления учитывает разницу между локальным и серверным временем
[~] Навбар
    Если страница открыта во фрейме (например, при прикреплении чата) в под навбаром появляется ссылка "Обновить страницу", при нажатии которой страница по фрейме будет обновлена

[%] Сообщения
    Исправлена ошибка в сообщениях, если указан неправильный класс сообщений


2014-02-07 12:59:19 38a10.8
[#] player_award 0a2
    (+) Бессмертный
        Добавлен памятный знак "Бессмертный"
        Знак начисляется автоматически при покупке хотя бы одной единицы ММ
        Статус "Бессмертного" означает сохранение аккаунта при автоматической чистке БД (Админка/Обслуживание)


2014-02-06 00:34:11 38a10.2
[#] player_award 0a0
    (!) Первая версия
        Требуется СН 38a10.0+
        Раздел "Награды и достижения" на странице Императора, видимый всем
        Поддержка орденов, медалей, памятных знаков, вымпелов, бэйджей
        Орден Спонсора четырех степеней - в комплекте
        Планка Ордена Спонсора в нике везде, где допускаются иконки
        Отдельный тип опции


2014-02-06 00:30:02 38a10.0
[#] player_award
    Подддержка модуля


2014-02-04 03:39:05 38a9.18
[~] Меню
    Переформатировано меню - убраны дублирующиеся пункты, ЧаВо перенесено вверх


2014-02-03 18:17:11 38a9.17
[~] Флоты
    При максимальном количестве экспедиций (Х) более одной доступна новая кнопка на странице подбора флота - "1/X"


2014-01-25 17:24:28 38a9.16
[~] Вселенная
    Добавлены картинки-плейсхолдеры для аватара/лого Альянса/миниатюры планеты

[%] Альянсы
    Исправлена ошибка "налазания" длинного внешнего текста на логотип Альянса


2014-01-25 00:19:57 38a9.15
[~] Скин/sn_space_blue
    Обновлены файлы скина


2014-01-25 00:08:29 38a9.9
[@] Код
    Убрана ошибка уровня PHP_STRICT в классах кэширования


2014-01-24 16:02:44 38a9.8
[!] Админка/Начисление ТМ
    Переработана страница под phpBB3
[!] Админка/Начисление ММ
    Переработана страница под phpBB3


2014-01-21 23:53:56 38a9.7
[~] Система
    Удалена неактуальная таблица rw


2014-01-21 23:44:01 38a9.6
[#] chat_advanced 2c2
    [%] Чат
        Исправлена ошибка с центровкой сообщений в чате


2014-01-21 23:11:41 38a9.3
[#] chat_advanced 2c1
    (+) История чата
        Добавлены кнопки листания на страницу вперед/назад, на первую/последнюю страницы истории
    (+) Миничат
        Теперь можно изменять соотношение фреймов, отведенных под основной экран и миничат. Для этого нужно потянуть за разделитель между фреймами

[%] Системное
    Исправлена ошибка статистической системы


2014-01-21 18:13:03 38a9.1
[%] Обзор Империи
    Исправлена ошибка появления в таблице строчек с 0 юнитов/уровней
[%] Админка/Обслуживание
    Исправлена ошибка


2014-01-19 21:48:26 38a9.0 - Переписывание админки
[!] Админка/Список сообщений
    Страница полностью переписана
[!] Админка/Флоты в полёте
    Страница полностью переписана. Процедуры унифицированы с пользовательской частью
[!] Админка/Обзор
    Страница полностью переписана
[!] Админка/Добавить луну
    Страница полностью переписана
[!] Админка/Записи система логов
    Серъезно переработана страница

[%] Вселенная
    Исправлена ошибка невозможности атаковать ракетами/шпионить слабого игрока i-шку
    Добавлены тэги nowrap к таблице планет что бы не было переносов названий Альянсов с пробелами
    Поправлены мелкие шероховатости
[%] Альянсы/Интерфейс
    Исправлена несовместимость с новой системой локализации


2014-01-19 15:40:44 38a8.15
[#] player_race_units 2c1
    (%) Исправлена несовместимость с новой системой локализации
[#] unit_hope 2c1
    (%) Исправлена несовместимость с новой системой локализации


2014-01-19 03:13:29 38a8.11
[@] Локализация
    Методы локализации инкапсулированы в класс и при работе с объектами вызовы процедур редиректят в методы объекта


2014-01-19 01:47:26 38a8.10
[~] Локализация
    Поддержка модулей с юнитами


2014-01-19 01:19:47 38a8.1
[-] Локализация
    Удален перевод на узбекский язык из-за отвратительного качества перевода


2014-01-19 01:18:26 38a8.0
[@] Локализация
    Подготовка к новой системе локализации


2014-01-18 19:30:15 38a7.9
[#] player_race 2d0
    (!) Добавлена поддержка СН 38a7.8+
    (+) Марс
        Марсиане так же получают +1 уровень к Астрокартографии
    (+) Родные миры
        Теперь родной мир можно выбрать сразу на странице "Родные миры"


2014-01-18 19:08:42 38a7.8
[%] Меню
    Небольшой фикс


2014-01-18 19:06:34 38a7.7
[!] Админка/Меню
    Меню в админке переделано на динамическое - по типу меню игроков


2014-01-18 17:25:05 38a7.6
[+] Страница игрока
    Добавлена возможность просмотреть страницу игрока (ака "Император")
    Для этого нужно кликнуть на иконку "Император", которая доступна:
      1. На странице статистики
      2. В результатах поиска
      3. В Обзоре Вселенной

[~] Обзор Вселенной
    Переработан экран обзора Вселенной


2014-01-18 16:12:52 38a7.5
[+] Интерфейс/Количество колоний
    Теперь видно текущее и максимальное количество колоний:
      1. В Обзоре Империи (первая колонка, вторая строка)
      2. На странице выбора кораблей во флот при переходе на неё из Обзора Вселенной с миссией "Колонизация"
      3. На странице выбора миссии "Колонизация"


2014-01-18 15:34:15 38a7.4
[~] Админка/Локализация
    Добавлены строки


2014-01-17 18:21:28 38a7.3
[%] Админка/Обновление
    Исправлен  постоянный  запуск  обновления  при  работе  из-под   админского
    аккаунта


2014-01-17 18:04:17 38a7.2
[~] Миссии/Экспедиции
    Теперь максимальная стоимость находимых кораблей при событии "Найден флот" МЕНЬШЕ, чем стоимость самого дорогого из посланных кораблей. Другими словами - посланная ЗС никогда не найдет ЗС, а только корабли, дешевле её
[~] Локальное время
    Теперь замер разницы между клиентским и серверным временем производится автоматически каждый час
[~] Админка/Обновление
    Теперь для запуска обновления из админки используется гораздо более безопасная проверка по AUTHLEVEL пользователя, а не по HTTP_REFERRER вызывающей страницы
[~] Админка/Обслуживание
    Теперь используется LOCK TABLES вместо START TRANSACTION для исключения дедлоков

[%] Плотность
    Исправлена очепятка в описании типов ядер
[%] Тёмная материя
    Исправлена ширина страницы
[%] Метаматерия
    Исправлена ширина страницы
[%] Обзор Империи
    Теперь когда возвращается/строится корабль/юнит, которого нет на орбите/планете, правильно показывается соответствующая строка в Обзоре


2013-12-26 11:54:26 38a7.0 - Экспедиции. Фаза 3 - Опыт и уровни
[+] Миссии/Экспедиции
    Теперь за регулярные полёты в экспедиции начисляется экспедиционный опыт
    За набор экспедиционного опыта начисляются экспедиционные уровни
    При получении каждого нового уровня начисляется 1.000 ТМ
    Количество опыта для получения уровня - геометрическая прогрессия с первым членом 10 и показателем 1,05. Ниже дается для ориентировки небольшая таблица: в первой колонке - экспедиционный уровень, во второй - количество опыта для перехода на следующий уровень, в третьей - общее количество экспедиционного опыта для перехода на следующий уровень. Собственно, таблица:
        1      10        10
        2      10        20
        3      11        31
        4      11        42
        5      12        54
        6      12        66
        7      13        79
        8      14        93
        9      14       107
       10      15       122
       15      19       209
       20      25       321
       25      32       465
       30      41       650
       35      52       887
       40      67     1.189
       45      85     1.575
       50     109     2.070
       75     369     7.530
      100   1.252    26.052
      150  14.361   301.323
      200 164.691 3.458.217
    Посмотреть текущее количество экспедиционного опыта, текущий уровень и необходимое количество для перехода на следующий уровень можно на странице "Император"


2013-12-24 10:03:09 38a6.12
[~] Платежи
    Добавлены адреса серверов реального/предполагаемого в сообщение об ошибке платежа


2013-12-22 16:10:33 38a6.8
[~] Локализация
    Обновлена локализация для поддержки sn_space_blue


2013-12-22 15:11:36 38a6.5
[%] Технологии/Астрокартография
    Исправлена ошибка учета столицы, как колонии


2013-12-22 14:45:20 38a6.2
[%] Технологии/Астрокартография
    Исправлена ошибка в требованиях к кораблю "Колонизатор"


2013-12-22 14:37:55 38a6.1
[%] Технологии/Астрокартография
    Исправлена ошибка NAN в навбаре вместо 0 при отсутствующих технологиях Астрокартографии


2013-12-22 05:03:56 38a6.0 - Экспедиции. Фаза 2 - Астрокартография
[!] Технологии/Астрокартография
    Экспедиционная технология и Колонизационная технология заменены одной технологией Астрокартографии
    Стоимость имеющихся уровней устаревших технологий возвращена на главную планету игрока, а сами технологии удалены
    Устаревшие технологии, находящиеся в исследовательской очереди игроков, удалены, а их стоимость возвращена на планету, где была запущена технология
    По умолчанию убрано ограничение на максимальное количество колоний
    Уровень развития Астрокартографии влияет на:
      1. Максимальное количество колоний
      2. Максимальное количество экспедиций
      3. Максимальное время отправки флота в экспедицию


2013-12-21 15:41:26 38a5.5
[~] Метаматерия
    Добавлено поле для общего количества полученной метаматерии - из всех источников


2013-12-21 14:48:48 38a5.4
[+] Навбар
    Новая иконка Метаматерии в навбаре


2013-12-21 14:33:55 38a5.3
[~] Экспедиции
    Добавлены строки локализации для локалей EN и UZ


2013-12-21 14:31:32 38a5.2
[~] Экспедиции
    Исправлена ошибка расчета найденного количества кристалла и дейтерия - теперь правильно учитываются ресурсы


2013-12-21 14:23:57 38a5.1
[+] Экспедиции
    Максимальная длительность Экспедиции теперь зависит от уровня Экспедиционной технологии - 1 час за каждый уровень на скорости Экспедиции х1
    Изменена индикация времени Экспедиции для поддержки скорости Экспедиции <> 1

[~] Удержание
    Длительность удержания теперь находится в промежутке от 1 до 12 часов

[%] Экспедиции
    Исправлена ошибка неначисления найденного флота


2013-12-21 03:20:09 38a5.0 - Экспедиции. Фаза 1 - полная переделка
[!] Полностью переписаны Экспедиции
    Экспедиции теперь планово-прибыльные, т.е. полеты в экспу одним и тем же флотом в среднем будут приносить прибыль, а не убытки, как раньше
    Количественные результаты Экспедиций (нахождение флота, ресурсов, ТМ) теперь привязаны к стоимости отправляемого флота. Т.е. чем дороже флот в пересчете на ресурсы - тем больше будет найдено в экспедиции
    Экспедиции стали средне- и высокоуровневым контентом - существуют минимальные размеры флотов, которые вообще имеет смысл посылать в Экспедиции. Меньшие флоты попросту не будут ничего привозить (см.ниже). Хотя, например, фармить ресурсы транспортами можно прямо со старта игры - учитывая плановую прибыльность обновленных Экспедиций это вполне имеет смысл, особенно "шахтерам"
    Теперь время нахождения флота в Экспедиции влияет на шанс найти что-либо в процессе миссии - как на положительный шанс, так и на отрицательный
    Изменены шансы происходящих событий (отношения расчитаны для обновленной Экспедиции в 1 час):
      1. Шанс того, что в Экспедиции не произойдет ничего, увеличен примерно в 2,5 раза
      2. Шанс потери флота уменьшен почти в 20 (!) раз
      3. Шанс нахождения ресурсов увеличен на треть
      4. Шанс нахождения флота уменьшен на треть
      5. Шанс нахождения ТМ увеличен на треть
    Изменено количество находимых в Экспедиции ништяков и оно теперь привязано к общей стоимости флота:
      0. Количество ништяков может быть "Нормальным", "Большим" и "Очень большим". Соответственно меняются возможное количество находимых ништяков (идея упёрта с Огейма)
      1. Количество ништяков отбалансированно для достижения планово-прибыльного характера Экспедиции и для компенсации изменения шанса происходящих событий
      2. Количество находимых ТМ теперь вариабельно. Максимальное количество находимых ТМ - 10.000. Коэфцициент пересчета стоимости флота в ТМ зависит от курса ТМ (который, в свою очередь, зависит от скорости добычи ресурсов). Чем он выше - тем больше кораблей надо на шанс получения 1 ТМ. Для ориентировки - на х1 нужно запустить 10 эсминцев для получения 1 ТМ
      3. Качество найденного флота теперь очень сильно зависит от качества исследовательского флота: невозможно найти корабли, дороже самого дорогого корабля в Экспедиции. Максимальная стоимость флота зависит от скорости добычи на сервере
      4. Качество найденных ресурсов теперь вариабельно. В среднем находится 50% металла, 37,5% кристалла и 12,5% дейтерия. Однако в частном случае доли ресурсов могут варьироваться в очень широких пределах. Максимальное количество находимых ресурсов так же привязано к скорости добычи


2013-12-18 07:02:13 38a4.20
[@] Код
    $time_now теперь определяется из $microtime
    Новая процедура определения локальных путей для поддержки PHP 5.3+


2013-12-14 12:11:30 38a4.19
[~] Template/OpenGame
    Добавлена возможность подгрузки серверных CSS для скинов


2013-12-10 00:39:13 38a4.17
[~] admin/Sypex Dumper
    Sypex Dumper обновлен до версии 2.0.11


2013-12-09 23:48:34 38a4.16
[~] Скин/sn_space_blue
    Обновлены файлы скина, в т.ч. для модулей


2013-12-01 19:26:00 38a4.5
[#] chat_advanced 2a4
  (!) Требуется СН 38а4.4+
  (+) Перманентный чат
      Теперь чат прикрепляется кликом по ссылке "Прикрепить" под списком  онлайна
      пользователей
      Теперь прикрепленный чат можно открепить - ссылка "Открепить"  под  списком
      онлайна
      Теперь можно прикреплять  так  же  чат  Альянса.  Одновременно  может  быть
      прикреплен только один чат - общий или Альянса
  (+) Смайлики
      Теперь смайлики размещены в отдельном попапе и не  занимают  лишнее  место.
      Вызвать попап можно кликнув на смайлик слева от строки ввода сообщения
  (+) Таймаут
      Теперь при отключении чата по таймауту можно  обновить  окно  чата/миничата
      соответсвующей ссылкой, которая появляется вместо строки ввода сообщения
      Теперь таймаут так же убирает список игроков онлайн
  (~) Игроки онлайн
      Убрана  дублирующаяся  надпись  "Игроки  онлайн",  а   количество   игроков
      перенесена в заголовок списка онлайна



2013-11-30 22:16:03 38a4.3
[#] chat_advanced 2a3
    Изменен алгоритм смены фокуса, что бы окно  миничата  не  мешало  работе  в
    основном окне


2013-11-30 21:31:40 38a4.0 - Перманентный чат
[#] chat_advanced 2a1
    Требуется СН 38а4.0+
    Реализован перманентный общий чат через iframe. Чат  делается  перманентным
    при нажатии ссылки "Фрейм" на экране чата


2013-11-30 18:28:32 38a3.20
[@] Темплейты
    Меню и навбар могут быть отключены параметрами в темплейте


2013-11-30 14:28:51 38a3.19
[@] general.php
    sys_get_param_phone()


2013-11-28 08:06:06 38a3.18
[%] Флоты
    Исправлена ошибка при отправке Капитана с миссией "Транспорт"


2013-11-27 17:29:20 38a3.17
[+] Смайлы
    Добавлен смайл :sarcasm:


2013-11-24 15:50:57 38a3.14
[~] Служебное
    Добавлена функция получения параметра в виде SQL-даты


2013-11-24 10:40:40 38a3.13
[%] Постройки
    Исправлена ошибка отображения остатка ресурсов при входящих флотах


2013-11-23 17:02:16 38a3.12
[!] Админка/Платежи
    В админку добавлен просмотр  платежей  с  фильтрами  (доступно  только  при
    существующих и работающих платежных модулях)


2013-11-21 13:29:23 38a3.9 - Интеграция нового скина
[~] Темплейты
    Изменена поддержка нескольких темплейтов


2013-11-20 05:54:24 38a3.2 - Интеграция нового скина
[!] Код
    Добавлена поддержка нескольких темплейтов


2013-11-17 23:56:40 38a3.1 - Интеграция нового скина
[~] Локализация
    Добавлены изменения для поддержки нового скина


2013-11-16 16:55:19 38a3.0 - Интеграция нового скина
[!] Интеграция нового скина


2013-11-13 17:17:28 38a2.2
[!] Админка/Метаматерия
    Добавлена возможность начислить игроку ММ из админки

[%] Платежи
    Исправлена ошибка неначисления ММ по платежам


2013-11-13 01:13:01 38a2.1
[!] Метаматерия
    Добавлены новые файлы для поддержки ММ


2013-11-13 00:38:11 38a2.0 - Метаматерия. Вторая итерация
[!] Метаматерия. Вторая итерация
    Полностью переписаны модули платежей (см. ниже)
    В игру добавлен модуль "Ресурс Метаматерия"
    Метаматерия - новый  тип  ресурсов,  который  можно  приобрести  только  за
    реальные деньги. Таким образом отделяются ресурсы, которые можно приобрести
    внутри игры и ресурсы, которые можно только  купить.  Это  нужно  в  первую
    очередь для добавления услуг и сервисов, которые требуют от движка платежей
    в реальных деньгах - например, СМС-информирование об атаках
    Так же это позволит добавить в игру больше возможностей для  взаимодействия
    игроков, не опасаясь сильного дисбаланса  от  такого  взаимодействия  и/или
    смещения экономики игры в сторону pay-2-win

[@] Модули платежей
    Модули полностью переписаны
    Максимальная  унификация   модулей   -   все   общие   части   вынесены   в
    модуль-родитель
    Все сообщения внутри модуля генерируются во внутренних кодах СН
    Добавлена подсистема конвертации внутренних кодов в коды  платежный  систем
    (там, где это имеет смысл)
    Все модули переделаны под работу с Метаматерией, а не ТМ


2013-11-09 17:45:24 38a1.0 - Метаматерия. Первая итерация
[!] Метаматерия
    Первая итерация


2013-11-07 21:27:28 38a0.6
[%] Ресурсы
    Исправлена невозможность сменить % производства шахт


2013-11-07 20:49:56 38a0.5 - chat_advanced v1d4
[#] chat_advanced v1d4
    Интерфейс
      Теперь ники подчеркиваются цветом ника и не  подчеркиваютя  иконки  (если
      таковые есть в оформлении)

[@] Рендер ников
    Добавлена опция, позволяющая присвоить нику дополнительные CSS-классы


2013-11-07 19:47:29 38a0.3 - chat_advanced v1d3
[#] chat_advanced v1d3
    Клавиатура
      По "Ctrl+Enter" теперь так же отсылаются сообщения
    Whisper
      Команда "/w" теперь корректно работает с никами, в которых есть  пробелы.
      Для этого ник нужно заключить в двойные  кавычки.  Подсказка  по  команде
      изменена соответствующим образом
      Изменен формат вывода шепота: "(от кого) -> (кому)> (сообщение)"
      Теперь клик на имени собеседника в списке  сообщений  так  же  добавит  в
      строку текущего сообщения команду "/w <имя адресата> ". Так  будет  легче
      переписываться с игроками, находящимися вне чата
    Интерфейс
      Все неявные элементы, клик по которым совершает  какое-либо  действие  на
      странице  (например,  ник  в  списке  онлайна)  выделены  соответствующим
      образом


2013-10-29 10:56:05 38a0.1
[~] Отпуск
    Минимальный срок отпуска и таймаут  на  следующий  отпуск  уменьшены  до  1
    недели


2013-10-28 01:11:13 38a0.0
[~] Отпуск
    Минимальный срок отпуска увеличен до 2 недель
    Введен таймаут на следующий отпуск - 2 недели с момента выхода из предыдущего отпуска


2013-10-20 13:36:01 37d0 Project "SuperNova.WS" Release 37
[!] Project "SuperNova.WS" Release 37 "Year of Work"


2013-10-16 00:30:19 37c5
[%] Рекорды
    Исправлена ошибка на странице рекордов


2013-10-15 20:38:50 37c4
[+] Экономика/Плотность планеты
    Новый алгоритм расчета цены изменения типа ядра планеты
    Матрица цен теперь несимметрична: уменьшать плотность планеты дешевле, чем увеличивать
    Матрица цен теперь кумулятивна: теперь переход через несколько типов ядра стоит как сумма переходов по одному типу
    Матрица цен теперь сбалансирована: больше нет переходов со стоимостью, различающейся на два-три порядка

[~] Артефакты
    Добавлена ссылки на статьи Новапедии - открывается по клику на названии Артефакта
    Выделены подчеркиваниями элементы-ссылки

[%] Рекорды
    Исправлена неработа рекордов если список скрытых пользователей пуст

[@] Код
    Почищен код от лишнего


2013-10-14 23:21:26 37c3
[%] Постройки
    Исправлено неправильное отображение прироста производства ресурсов в информации о шахтах на планетах с нестандартным типом ядра


2013-10-14 22:50:49 37c2
[+] Ресурсы
    Теперь на странице ресурсов можно изменить тип ядра планеты

[%] Постройки
    Исправлено неправильное отображение производства ресурсов в информации о шахтах на планетах с нестандартным типом ядра


2013-10-13 23:15:27 37c1
[%] Документация
    Исправление обнаруженных неточностей


2013-10-13 22:55:59 37c0 Project "SuperNova.WS" Release 37 Release Candidate 0
[!] Project "SuperNova.WS" Release 37 RC0 "Year of Work"


2013-10-13 15:18:47 37a13.13
[+] Экономика/Плотность планеты
    Теперь возможно сменить тип ядра планеты. Возможность доступна на экране управления планетой (Обзор планеты -> Управление)
    Стоимость смены высчитывается динамически и зависит от того, насколько сильно отличается текущий тип ядра от желаемого

[~] Новапедия
    Переработана статья о плотности планеты с учётом изменившейся концепции


2013-10-01 23:29:49 37a13.11
[#] player_premium 1d3
    Добавлена  индикация  остатка  времени  Премиума  в  пункт  меню   в   виде
    прогресс-бара с цветовым кодированием:
      Зеленый - осталось не менее 50% времени пермиума
      Желтый - осталось меньше 50%, но не менее 25%
      Оранжевый - осталось меньше 25%, но не менее 10%
      Красный - осталось меньше 10%
      Цвет фона - нет Премиума


2013-09-29 20:55:32 37a13.9
[%] Настройки
    Исправлен мегабаг с нерабочей страницей Настроек Пользователя


2013-09-29 04:31:44 37a13.8
[#] player_premium 1d2
    Добавлена индикация уровня премиума в меню

[+] Строения
    В очередь построек добавлена возможность использовать Наностроитель  -  при
    наличии Артефакта на складе
[+] Исследования
    В очередь построек добавлена возможность использовать Эвристического чипа -
    при наличии Артефакта на складе

[~] Артефакты
    Исправлена индикация неправильного уровеня здания в сообщении  об  успешном
    применении Наностроителя


2013-09-28 21:38:56 37a13.6
[+] ТМ/Платежи
    Добавлена индикация внутренних курсов системы
    Теперь большую часть информационных элементов на странице можно свернуть


2013-09-28 17:01:05 37a13.5
[~] Обновление
    В сообщение об обновлении сервера добавлена ссылка для Команды Сервера


2013-09-28 16:49:21 37a13.4
[~] Обновление
    Теперь обновления можно запустить только из админ-консоли
    Переделано обновление 37a13.2 что бы не вызывать отбоя


2013-09-28 15:50:08 37a13.2
[~] Обзор Планеты
    Добавлено отображение типа ядра планеты
[~] Обзор Империи
    Добавлено отображение типа ядра планеты с цветовым кодированием:
      Зеленый - тип ядра встречается очень часто
      Желтый - тип ядра встречается часто
      Оранжевый - тип ядра встречается редко
      Красный - тип ядра встречается очень редко


2013-09-28 15:01:07 37a13.1
[~] Код/БД
    Артефакты перенесены из таблицы игроков в таблицу юнитов
    Удалены лишние поля Технологий из таблицы игрока


2013-09-25 23:21:34 37a13.0
[!] Экономика/Плотность планеты
    Добавлен новый параметр планеты - плотность. Он определяет химический состав геосферы планеты и влияет на добычу ресурсов на ней
    Плотность планеты лежит в диапазоне от 850 до 9250 кг/м3. Новые планеты имеют нормальное распределение
    Существует 7 классов плотности - с уникальным набором коэфициентов добычи для каждого класса:
      Ледяные планеты (<2000 кг/м3) - встречаются очень редко: очень низкая добыча металла, очень низкая добыча кристаллов, очень высокая добыча дейтерия
      Силикатные планеты (2000=3250 кг/м3) - встречаются редко: очень низкая добыча металла, очень высокая добыча кристаллов и еще хорошая добыча дейтерия.
      Каменные планеты (3250-4500 кг/м3) - встречаются часто: хорошая добыча металлов, высокая добыча кристаллов и низкая добыча дейтерия.
      Стандарнтые планеты (4500-5750 кг/м3) - встречаются очень часто: хорошая добыча металлов, хорошая добыча кристаллов и хорошая добыча дейтерия.
      Железнорудные планеты (5750-7000 кг/м3) - встречаются часто: очень хорошая добыча металлов, низкая добыча кристаллов и низкая добыча дейтерия.
      Металлические планеты (5750-7000 кг/м3) - встречаются редко: отличная добыча металлов, низкая добыча кристаллов и низкая добыча дейтерия.
      Тяжелометаллические планеты (>7000 кг/м3) - встречаются очень редко: великолепная добыча металлов, очень низкая добыча кристаллов и очень низкая добыча дейтерия.
    Стартовая планета имеет плотность 5500 кг/м3 и принадлежит к 4-му классу плотности. Все луны имеют плотность 2500 кг/м3 и принадлежат ко 2-му классу плотности
    Плотность планеты указывается на странице Обзора Планеты

[+] Новапедия
    Добавлена статья про плотность планеты


2013-09-24 19:21:40 37a12.6
[%] Регистрация
    Исправлена ошибка регистрации


2013-09-24 19:09:31 37a12.3
[%] Регистрация
    Исправлена ошибка регистрации


2013-09-24 10:44:10 37a12.2
[%] Обзор Империи
    Исправлена несовместимость с модулем unit_captain


2013-09-24 10:26:17 37a12.1
[+] Обновление
    Теперь на время обновления сервер отключается


2013-09-24 10:14:25 37a12.0
[+] Обзор Империи
    Добавлена возможность управления производством шахт со страницы Обзора Империи
    Дроп-дауны в колонке "ИТОГО" выставляют соответствующие проценты производства для зданий соответствующего типа сразу на всех планетах
    Кнопки "Сохранить" продублированы в заголовке каждого типа юнитов и действуют сразу на всю страницу

[~] Обзор Империи
    Включен реальный перерасчет данных о планетах. Теперь очереди построек/флотов и количество ресурсов будут обновлятся в реальном времени

[%] Ресурсы
    Исправлено сообщение о делении на 0 при отсутствии складов


2013-09-23 20:50:48 37a11.1
[~] Админка
    По умолчанию включена смена пользователем своего имени за ТМ


2013-09-23 20:46:22 37a11.0
[!] Настройки пользователя
    Максимальная длина имени пользователя уменьшена до 32 символов
    Добавлена  возможность  изменения  имени  пользователя  за  ТМ.   Стоимость
    изменения - 100.000 ТМ
    Игра сохраняет историю изменения имени пользователя. Только бывший владелец
    может при желании вернуть себе старое имя - опять же за ТМ
    Поиск по имени так же производится по старым именам. В случае, если  старое
    имя  пользователя  соответствует  критериям  поиска,  в  результаты   будет
    добавлена  еще  одна  строка,  в  которой   будет   указано   текущее   имя
    пользователя, а после него в скобках  и  выделенное  цветом  -  старое  имя
    пользователя. Никто не спрячется от своей истории!

[~] Админка
    Переменная настроек сервера 'game_user_changename' отвечает за  возможность
    смены имени пользователя самим пользователем:
      0 - смена имени запрещена
      1 - смена имени разрешена и свободна
      2 - смена имени разрешена, но стоит ТМ. Стоимость смены имени  указана  в
      переменной 'game_user_changename_cost' (100.000 ТМ по умолчанию)


2013-09-23 00:35:01 37a10.3
[~] Артефакты
    Теперь  после  операций  по   покупке/применению   Артефакта   страница   с
    соответствующим списком открывается на последнем Артефакте
[~] Сообщения
    Теперь если есть URL перехода после сообщения есть возможность  перейти  на
    соответствующую  страницу  по  ссылке  "Продолжить"  под   сообщением,   не
    дожидаясь таймаута

[%] Артефакты
    Исправлена ошибка в работе Эвристического Чипа на луне
    Исправлена очепятка в описании Эвристического Чипа


2013-09-22 23:26:00 37a10.2
[~] Постройки
    Теперь на луне можно строить Нанофабрику


2013-09-22 23:06:39 37a10.1
[%] Артефакты
    Добавлены картинки Артефактов


2013-09-22 22:35:19 37a10.0
[!] Артефакты
    Добавлены два новых Артефакта: "Эвристический чип" и "Наностроитель"
    Артефакты уменьшают на 1 час соответственно время текущего  исследования  и
    время постройки/уничтожения текущего здания на текущей планете
    Если  оставшееся  время  исследования/постройки/уничтожения  меньше  одного
    часа, то Артефакт обнуляет время. Разница не переходит на следующий слот  в
    очереди
    Стоимость эвристического чипа составляет 20.000 ТМ
    Стоимость наностроителя составляет 5.000 ТМ


2013-09-21 10:09:33 37a9.33
[#] payment_robokassa 0a1 - модуль платежей через агрегатора RoboKassa


2013-09-21 09:10:40 37a9.30
[~] ТМ/Платежи
    Предварительная поддержка индикации обменных курсов


2013-09-17 00:59:37 37a9.29
[~] ТМ/Платежи
    Изменена система бонусов за оптовые покупки ТМ:
      от 50.000 ТМ - бонус 2% к количеству ТМ
      от 100.000 ТМ - бонус 4% к количеству ТМ
      от 200.000 ТМ - бонус 7% к количеству ТМ
      от 250.000 ТМ - бонус 11% к количеству ТМ
      от 375.000 ТМ - бонус 15% к количеству ТМ
      от 500.000 ТМ - бонус 22% к количеству ТМ
      от 750.000 ТМ - бонус 33% к количеству ТМ
      от 1.000.000 ТМ - бонус 44% к количеству ТМ
      от 1.250.000 ТМ - бонус 55% к количеству ТМ


2013-09-16 22:16:19 37a9.28
[#] payment_webmoney 0a4 - модуль приема платежей на кошельки WebMoney
    Поддержка нескольких кошельков с разными валютами
    Поддержка SUCCESS_URL


[!] ТМ/Платежи
    Понижена в 2,5 раза цена ТМ. Теперь за 1 гривну можно купить 2500 ТМ
    Изменена система скидок при оптовой покупке. При покупке:
      от 100.000 ТМ - бонус 5% к количеству ТМ
      от 250.000 ТМ - бонус 10% к количеству ТМ
      от 500.000 ТМ - бонус 20% к количеству ТМ
      от 1.000.000 ТМ - бонус 30% к количеству ТМ
      от 2.500.000 ТМ - бонус 40% к количеству ТМ
      от 5.000.000 ТМ - бонус 50% к количеству ТМ
    Размер лота (шага покупки) установлен в 2500 ТМ
    Добавлена поддержка модулей с более чем одним количеством шагов при покупке
    Добавлена поддержка мультивалютности
    Добавлена поддержка SUCCESS_URL в платежных системах


2013-09-16 20:34:58 37a9.25
[~] ТМ/Платежи
    Список доступных цен и список  скидок  строится  теперь  по  данным  модуля
    sn_payment


2013-09-15 17:29:00 37a9.23
[~] ТМ/Платежи
    Расширен функционал платежной страницы


2013-09-15 16:17:01 37a9.22
[~] ТМ/Платежи
    Расширен функционал платежной страницы


2013-09-15 11:36:48 37a9.18
[~] ТМ/Платежи
    Расширен функционал платежной страницы


2013-08-24 20:05:48 37a9.17
[%] Админка/Обновление
    Исправлена ошибка удаления покинутых планет


2013-07-21 21:17:06 37a9.14
[%] Симулятор
    Исправлено ошибочное увеличение уровней Технологий/Наемников/Губернатора на порядок


2013-07-21 09:40:21 37a9.13
[~] Исследования
    Изменен алгоритм рассчета эффективного уровня лаборатории и необходимого времени исследования при настройке сервера "Строить лабораторию во время исследования: Нет"
    Теперь при идущем исследовании блокируется постройка/уничтожение нано- и/или лабораторий на все планетах
    Теперь блокируется попытка начать исследование на планете, где идет постройка/уничтожение нано- и/или лабораторий
    Однако возможно начать исследование на другой планете. В таком исследовании не будут участвовать все планеты где происходить модификация нано- и/или лабораторий. При этом по окончании постройки/уничтожения время исследования не пересчитывается

[%] Меню
    Исправлена смена названия пункта меню "Настройки" на "Опции" при заходе на страницу Альянса
[%] Вселенная
    Исправлен показ места в статистике и показ кнопки-ссылки на статистику для скрываемых из статистики пользователей (по умолчанию к таким пользователям относится команда сервера)


2013-07-21 05:36:01 37a9.12
[~] Обновление
    Ускорена процедура обновления


2013-07-21 05:17:43 37a9.11
[+] Симулятор
    Добвлена поддержка Фортификатора для защищающегося флота

[%] Экспедиции
    Исправлена ошибка при которой можно было отправить экспедиций больше максимального количества
[%] Вселенная
    Исправлена ошибка отправки флота дальше, чем позволяет запас топлива
[%] Боевой отчет
    Исправлена ошибка открытия неправильной системы во Вселенной при клике на координаты в отчете
[%] Симулятор
    Исправлена ошибка при которой не учитывались уровни Адмиралов


2013-07-15 23:39:34 37a9.10
[~] Обновление
    Ускорена процедура обновления


2013-07-15 23:30:40 37a9.9
[~] Админка
    Временно ограничен доступ  к  некоторым  админским  страницам  всем,  кроме
    админов


2013-07-09 15:27:42 37a9.8
[~] Чат
    Добавлены смайлики


2013-07-07 17:21:20 37a9.7
[-] Шпионаж
    Временно отключен вывод технологий при шпионаже


2013-07-07 10:49:22 37a9.5
[~] Чат
    Добавлены смайлики


2013-07-06 20:10:42 37a9.3
[~] Интерфейс
    Добавлена подсветка ника уровня "Разработчик"


2013-07-06 19:53:44 37a9.1
[~] Админка
    Добавлен еще один уровень прав доступа "Разработчик"


2013-07-06 18:12:51 37a9.0
[~] Обновление
    Добавлены констраинты в некоторые таблицы


2013-07-04 21:51:35 37a8.25
[~] Локальное время
    Повышена устойчивость механизма к ошибкам на стороне клиента:  неправильный
    часовой пояс, неправильные настройки DST  в  операционной  системе,  сильно
    отстающие/спешащие часы итд


2013-07-03 20:45:56 37a8.24
[~] Исследования
    Включен расчет статистики по исследованиям (не путать с рассчетом опыта!)


2013-07-01 16:17:44 37a8.23
[%] Исследования
    Исправлена ошибка начисления слишком большого количества XP при наличии бонусов к технологии


2013-07-01 03:40:43 37a8.22
[%] Обзор Империи
    Исправлен вывод производства энергии. Теперь в случае недостатка энергии вместо "0"/"-1" показывается реальная недостача энергии


2013-07-01 03:12:55 37a8.21
[~] Исследования
    Включены квесты на исследования
    Награда в ресурсах за выполнение квеста пока начисляется на главную планету
    Награда за уже выполненные квесты будет начислена при следующем изменении уровня соответствующей технологии


2013-07-01 02:31:20 37a8.20
[~] Исследования
    Включено начисление опыта за исследования


2013-07-01 01:48:30 37a8.19
[%] Локальное время
    Исправлены ошибки расчета длительности построек в sn_timer.js

[@] Код
    Изменены некоторые SQL-запросы


2013-05-08 03:06:09 37a8.18
[~] Рекорды
    В несколько раз ускорена страница Рекордов


2013-05-07 12:45:19 37a8.17
[~] Обзор Империи
    Уменьшено время рендера страницы за  счет  перехода  на  симуляцию  обсчета
    планет

[@] Код
    Добавлен простенький бенчмарк


2013-05-07 04:10:52 37a8.16
[~] Термоядерная электростанция
    Теперь ТЭС не использует ресурсы со склада,  а  оперирует  только  балансом
    производства дейтерия. Т.е. ТЭС работает только при  положительном  балансе
    производства дейтерия И генерации энергии  одновременно.  Это  сделано  для
    того, что бы оставленная "без присмотра" ТЭС с  отрицательным  балансом  по
    дейтерию не выжрала весь ресурс со склада
    Как следствие - ТЭС не отключается при положительном  балансе  производства
    дейтерия и энергии, даже если количество дейтерия на планете равно  0.  Это
    упростит своз ресурсов с планет, на которых энергия генерируется только  на
    ТЭС
[~] Страница "Ресурсы"
    Теперь при эффективности добычи ресурсов менее 100%  вместе  с  актуальными
    значениями добычи в ячейку добавляется рассчетное значение добычи в круглых
    скобках. Это упростит балансировку производсва при недостатке ресурсов
[~] Обновление производства ресурсов
    Убрана задержка в обновлении информации о производстве ресурсов

[%] Сообщение
    Исправлена ошибка отправки сообщения об окончании строительства  на  верфи.
    Теперь сообщение отправляется один раз, а не каждый  раз,  когда  на  верфи
    строится юнит


2013-05-03 15:59:10 37a8.15
[~] Обзор Империи
    Теперь не показываются "пустые" строчки для юнитов, которых нет в Империи
    Для производства ресурсов и складов используется структура 'caps' планеты
    Правильно считается общее количество полей на всех объектах Империи
[~] Производство ресурсов
    Естественное производство дает 100% ресурсов даже при недостатке энергии


2013-05-03 14:08:48 37a8.13
[~] Обновление
    Изменено условие в старом патче для совместимости с новыми версиями


2013-05-01 08:49:57 37a8.12
[%] Рекорды
    Исправлено отображение рекордов по технологиям


2013-04-30 09:57:21 37a8.11
[%] Админка
    Исправлена невозможность бана


2013-04-30 01:13:49 37a8.10
[~] Обновление
    Ускорено обновление для 37a8.7


2013-04-29 05:05:52 37a8.8
[%] Исправлена ошибка обновления

[@] Обновление
    Удалена колонка `que` из таблицы `users`


2013-04-29 03:17:35 37a8.7 - ОЧЕРЕДЬ!
[!] В этой версии не работает:
    1. Квесты на исследования
    2. Начисление экспы и ТМ за исследования
    3. Не приходят ЛС по завершению исследования
    4. Могут не работать рекорды по технологиям и статистика по технологиям
[!] Очередь
    Обновленная система очереди

[%] Локализация/Английский
    Исправлены сообщения боевого отчета

[@] Код
    Исследования и очередь исследований перенесены в соответствующие таблицы


2013-04-20 21:49:14 37a8.6
[@] Код
    premium перенесен из таблицы powerup в таблицу unit
    Расчеты уровня премиума вынесены в модуль


2013-04-20 20:01:30 37a8.4
[@] Код
    infos.php теперь использует прямое обращение к production юнита и подмассиву modifiers
    eco_bld_structures.php теперь использует обращение к подмассиву modifiers
    mercenaries и plans перенесены из таблицы powerup в таблицу unit


2013-04-13 17:22:24 37a8.2
[@] Топбар
    Исправлено отображение объема складов


2013-04-13 16:32:59 37a8
[@] Ресурсы
    Исправлено отображение загрузки складов


2013-04-13 16:15:17 37a7 Переработка системы бонусов #1 - Энергокризис!
[!] Экономика
    Изменен  алгоритм  расчетов  бонусов  добычи  ресурсов.  Список   изменений
    приводится ниже:
    1. Бонусы на добычу ресурсов улучшают так же базовую добычу на планете
    2. Бонусы на добычу ресурсов так же увеличивают  потребление  сопутствующих
    ресурсов - дейтерия (для Термоядерной Электростанции) и энергии  (для  всех
    остальных шахт)
    3. Бонусы на добычу ресурсов улучшают так же выработку энергии на спутниках
    4.  Недостаток  энергии  влияет  на  базовую  добычу  -  т.е.  она   теперь
    масштабируется в зависимости эффективности производства

[@] Код
    Константа MAX_OVERFLOW исключена из кода
    Обработан eco_get_planet_caps и связанные процедуры


2013-04-07 10:14:18 37a6.5
[%] Локализация/Русский
    Исправлены некоторые очепятки


2013-04-07 09:55:05 37a6.3
[%] Чёрный Рынок
    Исправлена невозможность продать/купить ТОП на ЧР


2013-04-06 18:09:29 37a6.1
[+] Админка/Список игроков
    Добавлены  две  колонки  со  сведениями  о  реферралах  игрока:  количестве
    привлеченных игроков и количество заработанных ими ТМ


2013-04-03 07:20:19 37a6.0
[@] MVC
    $sn_i18n['pages'] -> $sn_mvc['i18n']


2013-04-03 03:25:19 37a5.8
[#] Локализация/Узбекский
    Добавлены переводы на узбекский для модулей: chat_advanced, player_premium,
    player_race, player_race_units, unit_captain и unit_hope

[+] Локализация/Узбекский
    Добавлен перевод на узбекский от Акмалжона Мусаева


2013-03-27 13:25:01 37a4.3
[~] Скины
    Заменена картинка "Черетеж ТОП"

[@] Код
    Добавлена функция вычисления случайного числа, распределенного нормально


2013-03-13 19:43:31 37a4.2
[@] Обслуживание
    Процедура обслуживания теперь так же удаляет боевые отчеты  UBE  старше  60
    дней


2013-03-13 17:32:13 37a4.1
[#] chat_advanced 1d0
    Клик на имени игрока в списке онлайна теперь всегда добавляет команду  "/w"
    в начало сообщения - а не в конец, как ранее
    Скорость обновления  в  AJAX  части  чата  теперь  регулируется  переменной
    'chat_refresh_rate'
    Теперь игроки из онлайн-списка  исчезают  сразу  после  выхода  из  чата  -
    таймаут попадания в список установлен как удвоенный 'chat_refresh_rate',  а
    не как 'chat_timeout' ранее и вычисляется по дополнительному полю, а не  по
    `chat_player_activity` как ранее


2013-03-12 23:10:57 37a3.21
[%] Флоты
    Исправлена ошибка при приглашении в САБ самого себя


2013-03-12 23:04:37 37a3.20
[%] Флоты
    Исправлено ошибочное сообщение "неисследованное пространство"  в  заголовке
    страницы


2013-02-23 05:09:26 37a3.10
[#] ТОП (Тяжелая Орбитальная Платформа) - unit_hope 0b0
    Требуется СН не ниже 37a3.9
    Тяжелая Орбитальная Платформа (ТОП) - специальный юнит, предназначенный для борьбы с тяжелыми и сверхтяжелыми кораблями. Особенно эффективен против Уничтожителей
    ТОП является спутником - т.е. строится  на  верфи  и  находится  на  орбите планеты/луны
    Для постройки требуется Чертеж (цена 50.000 ТМ)

[~] Новапедия
    Теперь  при  просмотре  стационарных  кораблей  (спутников  и   орбитальных
    платформ) не показываются ненужные характеристики двигателей

[@] Юниты
    Добавлены константы и столбцы таблиц для ТОП


2013-02-23 02:51:29 37a3.9
[%] unit_captain 0d0
    Исправлена ошибка при отсылке Капитана в экспедицию


2013-02-11 15:57:49 37a3.6
[@] Модули
    Изменен алгоритм слияния массивов переменных в модулях


2013-01-27 13:47:37 37a3.4
[%] Время
    Исправлены ошибки расчета времени в JS


2013-01-27 10:40:55 37a3.3
[%] Навбар
    Исправлена ошибка с перепутанным серверным и локальным временем


2013-01-27 10:12:06 37a3.2
[%] Навбар
    Исправлено смещение надписи в индикаторе исследования влево
[%] Настройки пользователя
    Названия групп настроек отцентрированы


2013-01-27 09:53:58 37a3.1
[%] Новости
    Исправлена ошибка генерации локальной даты новости


2013-01-27 09:44:53 37a3
[#] Расширенный чат - chat_advanced v1c2
    Требуется СН не ниже 37a3
    Добавлена поддержка локального времени в чат и историю чата
    Теперь можно использовать команды  при  выбранном  цвете  сообщения.  Ранее
    такие команды не воспринимались системой чата
    Произведена замена цветов для лучшей читаемости сообщений: red  ->  maroon,
    blue -> cyan
    Цвет green оставлен для пользвателей, а подтверждающие системные  сообщения
    используют цвет lime - как и в остальном интерфейсе сервера
    Системные и приватные сообщения теперь выделяются жирным шрифтом

[~] Стандартный чат
    Произведена замена цветов для лучшей читаемости сообщений: red  ->  maroon,
    blue -> cyan


2013-01-27 08:45:40 37a1
[!] Локальное (клиентское) и серверное время
    Изменена процедура замера разницы между  локальным  и  серверным  временем.
    Теперь она производится не каждый раз при обращении к серверу, а один раз и
    сохраняется в БД. При заметном изменении разницы  можно  заново  произвести
    эту  операцию,  установив  галочку  "Замерить   разницу   между   локальным
    (клиентским) и серверным временем"  на  странице  настроек  пользователя  и
    сохранив настройки. Замер будет произведен  при  следующем  открытии  любой
    страницы игры
    Теперь вместо локального или серверного времени одновременно показывается и
    локальное, и серверное время в следующих местах:
    1. В навбаре - часы реального времени
    2. При отправке флота на экране выбора точки назначения - в  графе  времени
    прибытия и возвращения флота
    3. При отправке флота на экране подтверждения отправки -  в  графе  времени
    прибытия и возвращения флота
    Теперь вместо серверного времени показывается локальное в следующих местах:
    1. В событиях навбара (флоты и экспедиции)
    2. В новостях
    3. На экране флотов в полете
    4. На экране обзора планеты в списке летящих флотов
    5. В чате и истории чата
    6. В боевых отчетах
    7. В сообщениях

[~] Навбар
    Переформатирован навбар для добавления локального и серверного времени
    Теперь в событиях навбара (флоты и экпедиции) показывается тип  объекта,  к
    которому относится событие (планета или луна)

[@] Переписаны некоторые процедуры fleet.js на использование jQuery


2013-01-07 20:26:36 37a0.0
[%] Админка/Список пользователей: Убрана отладка


2013-01-04 12:23:36 36d1
[~] Регистрация: Пароль теперь указывается в отдельной строке
[~] Восстановление пароля: Новый пароль теперь указывается в отдельной строке


2013-01-04 12:11:49 36d0.5
[~] Админка/Бан:  Теперь  срок  бана  инкрементальный  -  каждый   новый    бан
    увеличивает срок блокировки, а не заменяет его
[~] Админка/Список игроков: Для забаненных игроков при наведении на ячейку бана
    выскакивает тултип с ником забанившего, датой и причиной бана

[%] Наемники: Исправлена ссылка на дерево развития
[%] Чат: Исправлена ошибка появленя всех сообщений пользователя  в  чате  после
    его удаления
[%] Отпуск: Исправлено сообщение об ошибке на загрушке отпуска


2013-01-03 19:45:44 36d0.4
[%] Админка/Обслуживание: Исправлена ошибка обслуживания базы


2013-01-03 19:40:29 36d0.3
[%] Админка/Обслуживание: Исправлена ошибка обслуживания базы


2012-12-30 18:02:46 36d0 36d0 - Project "SuperNova.WS" Release 36
[!] Project "SuperNova.WS" Release 36 "UBEv4 captains chat Happy New Year 2013!!!"


2012-11-16 14:03:38 36a1.12
[@] Код
    Почищен код

2012-11-09 21:39:16 36a1.11
[%] Чёрный Рынок
    Исправлена несовместимость с Opera 12.x


2012-11-04 16:56:30 36a1.7
[%] UBEv4
    Исправлен механизм "sneak defense" при Удержании
    Исправлена  генерация  случайного  числа  для  проверки   взрыва   ЗС   при
    Уничтожении
    Шанс уничтожения луны теперь всегда лежит в пределах 1%-99%
    Исправлен возврат флота при взрыве СН в миссии Удержание
    Убрана отладка из кода UBEv4


2012-11-03 16:32:57 36a1.6
[~] Исследования
    Добавлен патч для медленных MySQL серверов


2012-11-03 12:02:30 36a1.4
[~] Чат
    Переписана работа с сообщениями - опять отображаются спецсимволы HTML


2012-11-03 11:08:38 36a1.3
[~] Чат
    Добавлены иконки для состояний игроков


2012-11-01 18:05:41 36a1.2
[~] Чат
    Небольшое изменение в смайликах


2012-11-01 15:38:07 36a1.1
[~] Чат
    Список смайликов теперь  генерируется  автоматически  из  всего  доступного
    списка
    При открытии окна чата курсор позиционируется в строку набора сообщения
    Реформатирование HTML-кода страницы чата
[~] UBEv4
    Отключена отладка запросов боя

[%] Чёрный Рынок
    Исправлена уязвимость в Скупщике лома
[%] Навбар
    Исправлена ошибка смены планеты на preMVC-страницах


2012-10-24 00:48:17 36a1.0
[~] Чат
    Переделан в preMVC
    Три файла чата интегрированы в один

[@] Код
    Поддержка опций движка в глобальном объекте $supernova
    Поддержка опций на страницах в подмассиве 'pages'


2012-10-18 17:52:01 36a0.34
[~] Чат
    В чате Альянса в нике участника теперь не указывается Альянс

[%] Обзор Империи
    Исправлена ошибка смещения фона для производящих зданий


2012-10-15 14:47:04 36a0.33
[%] Флоты/Фаланга
    Исправлена ошибка сканирования пустого места во Вселенной


2012-10-15 14:38:59 36a0.32
[~] Новости
    На странице Обзора планеты добавлена подсказка как закрыть окно со  свежими
    новостями


2012-10-13 19:12:11 36a0.31
[~] UBEv4
    Изменен расчет поля  обломков.  Раньше  все  100%  обломков  с  кораблей  и
    выброшенных за борт ресурсов оказывались в поле обломков. Теперь на  орбите
    оказывается от 30% до 70% выброшенных за борт ресурсов  и  от  20%  до  40%
    обломков кораблей.  В  детерминированном  симуляторе  процент  обломков  на
    орбите всегда равен 30%, а обломки, выброшенные из трюма всегда  составляют
    50% от потерь


2012-10-12 21:37:52 36a0.30
[%] Флоты
    Исправлена ошибка при отправке ракет


2012-10-12 15:23:42 36a0.27
[~] Документация
    Добавлено описание модуля Капитанов в changelog.txt


2012-10-12 15:12:48 36a0.26
[#] Модуль "Капитаны"
    Требуется СН не ниже 36a0.24
    Капитан - это опытный командующий, который летает с флотами и за счет более тонкого управления флотами улучшает эффективные характеристики всех кораблей
    Найм и управление Капитанами осуществляется через пункт меню "Капитаны" (сразу под "Наемниками")
    Каждый Капитан привязан к определенной планете или луне. Нельзя иметь двух Капитанов на одном небесном теле. Капитан, летящий с флотом, все равно считается привязанным к планете
    Капитана можно перевозить с одной планеты на другую миссией "Передислокация". При этом на время перелёта Капитан считается привязанным сразу к обоим планетам - стартовой и финишной
    С флотом можно отправить только одного Капитана
    При гибели флота Капитан так же погибает. Под "гибелью флота" подразумевается уничтожение всех кораблей флота. Это верно как для атакующих флотов, так и для флотов, стоящих в удержании
    Капитан на планете не участвует в защите планеты при атаке - этим занимается Фортификатор. Зато при полном уничтожении всего планетарного флота такой Капитан не погибнет
    За каждый выигранный простой бой (САБы и миссия "Уничтожить" не считаются) Капитан атакующего флота получает 1 пункт опыта. За "победы" над неактивными игроками опыт не начисляется. Так же не начисляется опыт, если бой закончился выигрышем атакующего за 1 раунд
    Капитаны всегда улучшают характеристики кораблей своего флота - даже если участвуют в бою, за который они не получат опыта: атака на неактивных игроков, удержание, САБ, уничтожение луны и т.д.
    При наборе определенного количества опыта Капитан получает новый уровень. Чем выше уровень - тем больше опыта нужно для получения следующего уровня
    Повышение в уровне дает возможность улучшать умения Капитанов. Каждый уровень умений дает 1% к базовому значению соответствующей характеристики
    Умения Капитана включают бонусы к щитам, броне и атаке
    Уровни Капитана вкладываются в умения один раз и навсегда - поэтому заранее тщательно планируйте развитие своего Капитана


2012-10-12 14:12:32 36a0.25
[~] Флоты
    Изменены ограничения на отправку Шпионов. Их можно посылать  в  одиночку  в
    миссии Шпионаж, Передислокация и Транспорт. Во все остальные миссии Шпионов
    тоже можно отсылать - но только в сопровождении других кораблей


2012-10-11 16:15:31 36a0.21
[+] Меню
    Редизайн меню
    Изменен порядок расположения пунктов
    Добавлены иконки


2012-10-11 13:36:48 36a0.20
[~] Скины
    Добавлены иконки меню в скины EpicBlue и supernova-ivash


2012-10-11 13:34:53 36a0.19
[~] Новости
    Количество новостей ограничено 20-ю самыми свежими
[~] Меню
    Высота пункта меню увеличена до 16 пикселов
    Размер иконки теперь ограничен 14 пикселами в высоту

[@] Код
    Переформатирован HTML-код обзора планеты


2012-10-10 18:13:02 36a0.18
[~] Обзор Империи
    Уровни Капитанов указываются в списке юнитов
    На заднем фоне ячейки с уровнем выводится прогресс-бар развития Капитана с цветовым кодированием:
      Пустая ячейка - Капитан не нанят, либо только что получил уровень
      Красный прогресс-бар - до следующего уровня осталось больше 50% опыта
      Оранжевый - не меньше 50% опыта, но меньше 80%
      Желтый - не меньше 80% опыта
      Зеленый - в следующем бою Капитан получит новый уровень
[~] Флоты в полёте/Обзор планеты
    В списке флотов для своих флотов если во флоте есть Капитан перед количеством кораблей во флоте высвечивается "*", а в попапе состава показывается его уровень

[%] UBEv4
    Исправлена ошибочная попытка записать информацию о башинге при уничтоженной луне
[%] Альянсы
    Исправлена надпись при отправке письма членам Альянса


2012-10-10 15:01:27 36a0.17
[%] Обзор Империи
    Исправлена пропажа индикации количества строящихся зданий


2012-10-10 14:02:11 36a0.16
[!] Модули
    Поддержка модуля "Капитаны"

[%] Навбар
    Исправлена ошибка неправильного цветового кодирования остатков энергии в планетбаре
[%] UBEv4
    Исправлено появление дробных значений при расчете атаки в раунде


2012-10-09 19:40:07 36a0.15
[~] Навбар
    Изменена разметка навбара, что бы его не перекашивало в случае вывода блока информации до него
[~] UBEv4
    Атака давно неактивных игроков не приносит рейдового опыта

[%] UBEv4
    Исправлена ошибка расчета бонусов игроков и флотов
    Исправлена ошибка исчезновения части флота, которая не пострадала в бою, когда во флоте есть какие-то потери
    Исправлена ошибка записи в таблицу при Удержании с РМФ

[@] БД
    В таблицу флотов добавлены идентификаторы планет старта/назначения


2012-10-07 12:56:38 36a0.14 UBEv3 clearence
[~] UBEv4
    Отключена отладка боевого движка в симуляторе
    Удалены файлы и неиспользуемые функции старого боевого движка


2012-10-07 12:39:21 36a0.13
[%] UBEv4
    Исправлена ошибка вычисления количества лута с планет
    Исправлены перепутанные строки локализации в боевом отчете для добычи
[%] Апдейтер
    Добавлен отсутствующий файл с апдейтами БД с версий по 32ю включительно


2012-10-05 19:09:10 36a0.12
[%] UBEv4
    Исправлена ошибка потери части флота при количестве типов кораблей во флоте
    более 1


2012-10-05 17:32:51 36a0.11
[%] Просмотр отчета
    Исправлена ссылка "Мои отчеты"


2012-10-04 20:47:49 36a0.10
[~] Чат
    Добавился новый BBCode "s" - зачёркнутый текст

[%] UBEv4
    Исправлена ошибка с отображением дейтерия в обломках в письмах

[@] Код
    Все ссылки на старый файл отчетов rw.php заменены на новые


2012-10-04 10:50:33 36a0.9
[@] Документация
    Обновлен конвертер txt2html


2012-10-04 10:17:47 36a0.8
[~] UBEv4
    В отчете координаты планет теперь являются ссылками на Вселенную


2012-10-04 10:06:08 36a0.7
[@] Модули
    Устранена ошибка на случай, если модуль не возвращает темплейта. Такого  не
    должно происходить в нормальной ситуации
[@] Код
    UBEv4 добавлен в транк


2012-10-03 21:15:44 35d0 - Project "SuperNova.WS" Release 35
[!] Project "SuperNova.WS" Release 35 "MVC race reparse teleportation recycle"


2012-10-03 02:15:37 36a0.2
[@] Код
    Рефакторинг UBEv4


2012-10-02 23:44:32 36a0.1
[~] Симулятор
    Добавлена запись отчетов в режим случайного боя
    Добавлена проверка чтения/записи


2012-10-02 22:14:31 36a0.0 - Introducing UBEv4
[!] UBEv4
    Написанн с нуля боевой движок и боевые отчеты

    Особенности подготовки к бою:
    1. Бой теперь считается не по $time_now, а по времени прилета  флота  -  на
    случай, если бой сильно отложенный. Например, при сбоях движка  или  низкой
    активности  сервера.  Так  будут  отработаны  корректно  все  удержания   в
    правильное время

    Особенности хода боя:
    1. Броня не регенерируется между раундами
    2. Если броня упала  ниже  75%  -  корабль  имеет  шанс  взорваться  равный
    проценту от общего здоровья
    3. Новый механизм боя: подлов атакующего или sneak defense. Если в САБе и в
    удержании участвуют флоты одного и того же  игрока,  то  прилетающие  флоты
    этого игрока будут сражаться на стороне защитника. Аккуратно смотрите, кого
    приглашает в САБ. Хе-хе

    Особенности подведения итогов боя:
    1. Если в бою участвует хотя бы один флот Админов с любой стороны - лом  не
    выпадает ни с кого!
    2. Возвращение обломков с оборонных сооружений не производится
    3. В миссии  "Уничтожить"  шанс  уничтожения  флота  от  взрыва  одного  из
    кораблей при попытке уничтожить луну теперь так же  зависит  от  количества
    гравидвигателей во флоте - чем их больше, тем шанс выше
    4. В миссии "Уничтожить" корабли могут взорваться даже в  случае  успешного
    уничтожения  луны.  Как  и  раньше,  подрыв  кораблей   с   гравидвигателем
    уничтожает весь флот
    5. Теперь в рейдовый опыт засчитываются исключительно одиночные  атаки.  Ни
    "Удержание", ни "САБ" не засчитывается. Т.е. вообще не засчитываются -  вне
    зависимости от результата боя
    6. Количество свободных полей на луне зависит от её размера и  определяется
    по формуле Размер/1000 с округлением вверх до целого

    Боевой отчет теперь состоит из трёх частей: "Основная  информация  о  бое",
    "Боевые потери" и лог раундов
    "Основная информация о бое" показывает:
    1. Время проведения боя (если доступно)
    2. Место боя (если доступно) - координаты планеты, её тип и имя
    3. Результат боя (выигрыш атакующего, ничья, проигрыш атакующего)
    4. Обломки на орбите
    5. Шанс образования луны и результат такой попытки
    6. (Для миссии  "Уничтожить")  Состояние  кораблей  с  гравидвигателями  по
    итогам боя. Шанс уничтожения луны оставшимися кораблями и  результат  такой
    попытки. Шанс взрыва кораблей и итог миссии

    Раздел "Боевые потери" показывает:
    1. (На планетах) Количество восстановленных боевых сооружений
    2. Общие потери боевых единиц каждого из участвующих в бою игроков. Если  у
    одного игрока участвовало в бою несколько флотов - будут показаны суммарные
    потери по всем флотам. Это верно для всех параметров в  этом  разделе.  Для
    планетарной обороны в потери не включаются восстановленные единицы
    3. (В случае победы атакующих) Количество ресурсов, вывезенных  с  планеты.
    Для  планеты  это  будет  положительное  число,  для  атакующих  флотов   -
    отрицательное
    4. (Для флотов) Количество ресурсов  потерянных  из-за  уменьшения  емкости
    трюмов вследствии уничтожения части флота. Эти ресурсы рассматриваются  как
    "боевые потери" - они  плюсуются  к  обломкам  на  орбите  и  к  потерям  в
    пересчете на ресурсы
    5. Общие потери в пересчете на ресурсы. Включает стоимость боевых единиц на
    момент боя, вывоз с планеты и ресурсы, потерянные из-за уменьшения трюмов
    6. Общие потери в ресурсах в пересчете на металл по курсу Черного Рынка  на
    момент проведения боя. Писькомерка для сравнения

    "Лог раундов" показывает результаты расчета каждого раунда для всех флотов
    1.  Показывает  координаты  и  тип  планеты,  с  которой  прилетели   флоты
    атакующих/защитников
    2.  Расширено  количество  информации  о  боевых  подраздеениях   Добавлена
    информация о "Пробое" и "Уроне". "Пробой" - атака, которая пришлась на щиты
    и была ими поглощена (или пропущена - см. ниже). "Урон"  -  атака,  которая
    пришлась на броню
    3. Цветовое кодирование информации о подразделениях:
       Зеленый означает, что вся атака в раунде поглощена щитами
       Желтый - часть атаки пробила щиты ("пробой") и нанесла урон по броне, но
       при этом ни одна боевая единица не уничтожена
       Оранжевый - один или более боевых единиц уничтожено
       Красный - все оставшиеся боевые единицы уничтожены в этом раунде
       Число  в  скобках  в  столбце  потерь  -   количество   боевых   единиц,
       взорвавшихся в раунде из-за фатальных повреждений

    Доработан симулятор для поддержки изменений в UBEv4:
    1. Стандартный режим работы симулятора - полная определенность  результатов
    в зависимости от начальной конфигурации (галочка "Симуляция" включена)
    2. Добавлен второй режим работы  -  недетрминированный  симулятор  (галочка
    "Симуляция" отключена). В этом режиме работы  проводится  полная  симуляция
    боя (включая образование луны) с применением генератора случайных  чисел  -
    т.е. так, как происходил бы обычный бой. В  этом  режиме  результаты  могут
    сильно отличаться от симуляции к симуляции. Так же в этом режиме происходит
    запись боевого отчета с результатом симуляции в БД
    3. В  стандартном  режиме  если  шанс  образования  луны  больше  1  всегда
    образуется луна со средним размером для данного шанса


2012-10-03 20:59:09 35c11
[%] Альянсы
    Исправлена ошибка неудаления тэга Альянса у игрока при его исключении


2012-10-02 22:22:31 35c10
[~] Инициализация
    Изменен алгоритм определения корневого каталога СН. Теперь движок корректно
    работает в каталогах-симлинках


2012-09-22 21:17:22 35c9
[~] Поиск
    Добавлена подсказка
    Убраны игроки-Альянсы в результатах поиска по игрокам/планетам


2012-09-22 17:43:53 35c8
[%] Вселенная
    Исправлена ошибка невозможности отправки переработчиков на  поле  обломков,
    если общая емкость переработчиков от количества ресурсов в поле  составляет
    менее 1% (отображается как 0% в попапе)


2012-09-22 00:54:26 35c6
[!] Поиск
    Полностью переписан поиск
    Добавлена сортировка по Альянсу, имени игрока, имени планеты
    Настройка сервера "Скрывать ссылки на  ЛС"  теперь  распространяется  и  на
    результаты поиска

[~] Статистика
    Немного оптимизирован темплейт статистики

[%] Статистика
    Исправлена ошибка непозиционирования статистики Альянсов


2012-09-21 11:37:48 35c5
[%] Исследования
    Исправлено возможный двойной возврат ресурсов при отмене исследования


2012-09-20 15:16:16 35c4
[~] Админка/Утилиты
    В шифрование паролей добавлен генератор паролей


2012-09-20 03:33:09 35c3
[+] Смайлы
    В чат добавлены следующие смайлы: nea, ups, quote, shout, sorry, spiteful

[%] Альянсы
    Исправлена проблема с отсылкой сообщений всему Альянсу
[%] Корабли
    Исправлено нулевое потребление некоторых юнитов (в частности  -  шпионского
    зонда)
[%] Локализация
    Исправлено описание фаланги


2012-09-17 18:33:12 35c2
[!] Документация
    Вся документация сконвертирована в UTF-8


2012-09-15 17:23:52 35c0 - Project "SuperNova.WS" Release 35 Release Candidate 0
[!] Project "SuperNova.WS" Release 35 RC0 "MVC race reparse teleportation recycle"

[!] readme.txt сконвертирован в UTF8

2012-09-15 14:27:02 35b5
[%] Админка
    Исправлена ошибка удаления игрока


2012-09-13 16:19:25 35b4
[%] Меню
    Ссылка на планетарные постройки теперь не меняет название в зависимости  от
    страницы


2012-09-09 21:06:49 35b2
[~] Меню
    Под логотип сервера в ALT вместо 'supernova.ws' подкладывается имя сервера


2012-09-09 20:14:51 35b1
[%] Вселенная
    Исправлена ошибка с перебросом по координатам [1:1:1] при выборе планеты из
    выпадающего меню


2012-09-09 20:01:06 35b0
[%] Рекорды
    Исправлено отображение расовых кораблей
[%] Альянсы
    Теперь нельзя сделать дипломатическое предложение своему же Альянсу
[%] UBEv3
    Правильно считается количество ресурсов для атакующего для  кораблей  с  ID
    более 300
[%] Симулятор
    Исправлено отображение расовых кораблей


2012-09-09 01:43:33 35a12.23
[~] Меню
    Добавлена прямая поддержка CSS-стилей для элементов меню


2012-09-09 01:17:57 35a12.22
[~] Меню
    Немного изменен темплейт для гарантированного перекрытия стиля  элемента  в
    случае если есть свойство LINK


2012-09-09 00:53:06 35a12.21
[+] Меню
    Добавлена возможность добавления иконки к пункту меню.  Иконки  берутся  из
    подкаталога 'icons' текущего скина

[%] Локализация
    В описании зачем нужна ТМ исправлена ссылка на страницу премиума

[@] Меню
    Стандартное меню вынесено из файла template.php в includes/vars_menu.php
    Парсер меню теперь понимает вложенные конструкции и константы для типа меню
    'lang' - т.е. конструкции вида 'info[STRUC_MINE_METAL][description]'


2012-09-07 18:42:38 35a12.18
[@] Альянсы
    Страница и её инклюдесы избавлены от использования $parse


2012-09-07 05:47:07 35a12.16
[!] Новапедия
    Полностью написана с нуля страница информации о юнитах
    Теперь  в  Новапедии  показываются  требования  для  постройки/исследования
    юнита
    Теперь для корабля показываются данные для всех типов  двигателей,  которые
    возможно на него установить

[~] Тёмная Материя
    Немного переработан интерфейс страницы

[%] UBEv3
    Исправлена ошибка с определением кораблей с  ID  >  300  как  защиты  и  их
    восстановлением. Ошибка проявляется только в сторонних модулях


2012-09-05 19:48:21 35a12.15
[@] Подтверждение авторства для JetBrains
    Псевдоним: Gorlum
    Емейл: supernova.ws@gmail.com


2012-09-05 07:44:06 35a12.13
[~] Друзья
    Немного изменен темплейт


2012-09-05 07:06:33 35a12.10
[!] Друзья
    Страница друзей написана с нуля
    Теперь подробно сообщается  обо  всех  ошибках  и  результатах  операций  с
    заявками
    В личную почту отправляются сообщения по  приходу,  принятию  и  отверганию
    заявки, а так же при разрыве дружеских отношений
    Цветовое кодирование статуса друга: зеленый - онлайн, желтый -  бездействие
    от 5 до 15 минут, оранжевый - оффлайн, красный - оффлайн более суток


2012-09-04 03:54:38 35a12.9
[~] Документация
    Изменен файл /docs/html/developer.html


2012-09-04 00:19:47 35a12.7
[~] Путь к иконкам пола в  рендерере  темплейтов  сделан  относительным,  а  не
    абсолютным


2012-09-03 20:17:48 35a12.6
[%] Регистрация
    Исправлена очепятка в отсылке сообщения о регистрации


2012-09-03 14:44:27 35a12.5
[%] Заметки
    Добавлен новый файл темплейта. Убраны устаревшие файлы


2012-09-03 01:35:52 35a12.4 - Note rewrote
[!] Заметки
    С нуля написаны заметки. Что еще сказать?

[+] Планетарные врата
    Интерфейс переделан по примеру страницы "Флоты на орбите"

[~] Регистрация
    Изменено сообщение при регистрации игрока
[~] Чат
    Изменено форматирование сообщений в чате

[@] Код
    Теперь в doquery() префикс {{table}} не используется и не обрабатывается
    Страницы login.php, phalanx.php переписаны без использования $parse
    JS: В объявлениях скриптов все конструкции  language="javascript"  заменены
    на type="text/javascript"
    Теперь is_id так же проверяет, что бы ИД не был отрицательным
[@] MVC
    Частичная поддержка структуры MVCv2 в init.php
    Добавлена поддержка анонимных MVC-страниц в common.php
    Добавлена поддержка MVC-страниц на страницы логина/регистрации



2012-09-02 07:36:16 35a12.3
[@] Код
    Страница Контакты переписана в preMVC без использования $parse
    Страницы  ТМ,  летящих  флотов,  обзора  планеты,  ресурсов,  симулятора  и
    статистики переписаны без использования $parse


2012-09-02 04:33:33 35a12.0
[!] Модули
    Поддержка ali_ally_player 12a0
    Поддержка player_premium 1b0

[@] Код
    sn_function_call теперь корректно отрабатывает несуществующие функции
    Добавлена функция sn_get_groups()
    eco_bld_tech.php теперь не использует $sn_data
    Оптимизирован код Альянсов
    Убраны все $GLOBALS
[@] MVC
    index.php избавился от устаревшего кода обработки параметра 'module'


2012-09-01 19:26:41 35a11.7
[+] Статистика
    В  раздел  "Статистика  и  рекорды"  серверных  настроек  добавлена   опция
    "Скрывать  ссылки  на  ЛС".  При  её  включении  в  таблице  статистики  не
    показывается URL на создание личного сообщения игрокам


2012-08-31 23:46:53 35a11.6
[~] Флот
    Полностью локализована страница приглашения в САБ
    Все страницы (fleet0-fleet5) переписаны без использования $parse
[~] Настройки
    Страница переписана без использования $parse
[~] Император
    Страница переписана без использования $parse

[%] Флот
    Теперь невозможно пригласить в САБ игрока, на которого летит этот САБ


2012-08-30 18:08:06 35a11.0 - Techtree rewrite
[!] Дерево технологий
    Полностью переписано дерево технологий (бывш. techtree.php)
    Рядом с названиями юнитов там, где это имеет смысл, отображаются их  уровни
    в Империи/на текущей планете
    Теперь вместо полного уровня с учетом бонусов отображаются отдельно базовые
    уровни и отдельно бонус к ним
    Добавлена  поддержка  дополнительных  требований  к  строительству   юнитов
    (например - модуля расовых юнитов)

[~] Обзор Империи
    Теперь юниты всегда групируются согласно их принадлежности.  Например,  при
    подключении модуля расовых юнитов они добавляются в категорию "Флот", а  не
    как ранее в конце таблицы
[~] Исследования
    Добавлена индикация бонусных уровней (например, от  премиума)  на  страницу
    исследований
[~] Наемники
    Добавлена индикация бонусных уровней (например, от  премиума)  на  страницу
    наемников
[~] Стили
    Цвет бонусов изменен с "yellow" на "gold" - это даст  возможность  отличать
    их от, например, прибывающих на планету юнитов
[~] Локализация
    К эффектам Технолога и  Фортификатора  добавлена  информация  о  добавлении
    слотов к очередям

[@] MVC
    Все страницы, переделанные под MVC, перемещены в /includes/pages
[@] Меню
    Заменены типы элементов меню на "lang" там, где это было возможно


2012-08-30 03:42:05 35a10.0
[!] Чат: Переписан чат
    Чат теперь инкрементальный - с сервера передается не всё содержимое чата, а
    только новые сообщения. Чат  корректно  работает  когда  у  игрока  открыто
    несколько окон с чатом
    Исправлена проблема со скроллированием чата в Chrome v20+
    Теперь при отключении чата по таймауту содержимое окна не  стирается,  а  в
    него добавляется соответствующее сообщение. Так же прячутся элементы ввода:
    выбор цветов, строка сообщения, кнопка "Отправить" и панель смайлов
    Основное окно чата переписано под preMVC
    Новый код чата (как JS, так и PHP) заметно компактнее, аккуратнее и быстрее
    старого

2012-08-29 15:57:46 35a9.25
[!] Статистика
    Теперь можно управлять появлением игроков  в  статистике  и  рекордах.  Для
    этого на странице настроек сервера появились дополнительные настройки.  Они
    размещаются в разделе "Статистика и рекорды"
    Отключение настройки "Прятать админов" добавит в статистику и рекорды  всех
    пользователей с  authlevel > 0. По умолчанию она включена
    Настройка "Прятать игроков" позволяет указать  через  запятую  перечень  ID
    игроков, которые не будут участвовать в статистике и  рекордах.  Это  может
    быть полезно для создания NPC - ботов или  игроков,  которые  исполняют  их
    роли
    Так  же  в  этот  раздел  вынесена  настройка  расписания   автоматического
    обновления статистики. ВНИМАНИЕ!!! КРАЙНЕ НЕ РЕКОМЕНДУЕТСЯ МЕНЯТЬ  ЗНАЧЕНИЕ
    ПО УМОЛЧАНИЮ!!!

[+] Реклама
    Добавлена возможность управлять мета-тегами 'description' и 'keywords'  без
    редактирования темплейта! Их содержимое хранится в таблице `config` в полях
    `adv_seo_meta_description` и `adv_seo_meta_keywords` соответственно


2012-08-28 11:51:04 35a9.24
[~] Отпуск: Обработка отпуска  происходит  теперь  до  обработки  информации  о
    планете - что бы не показывалась планетарная активность


2012-08-28 01:40:28 35a9.23
[~] Скины/EpicBlue: СН и все расовые корабли приведены к цветовой гамме скина


2012-08-28 01:30:01 35a9.22
[~] Обзор  Империи:  В  колонку  "ИТОГО"  добавлена  сумма  по  строящимся    и
    прибывающим на планеты юнитам


2012-08-23 21:30:30 35a9.21
[%] Флоты: Исправлена ошибка отправки корабля,  если  его  ID  больше  300  или
    меньше 200


2012-08-23 12:18:34 35a9.20
[~] Скины/EpicBlue: Картинки "Лени" и  "Зависти"  приведены  к  цветовой  гамме
    скина


2012-08-21 17:11:05 35a9.17
[%] Вселенная
    Исправлена ошибка коммита 35a9.15
    Добавлена иконка статистики


2012-08-21 15:54:14 35a9.15
[~] Вселенная
    Шаблоны попапов легенды, планет, лун, обломков, игроков и альянсов вынесены
    из JS-скрипта в шаблон страницы
    В попап легенды добавлены расшифровки для иконок действия
    В попапе планеты показывается её диаметр
    В попапе луны миссия  "Уничтожить"  показывается  только  если  на  текущей
    планете игрока есть ЗС
    Из попапа игрока убраны ссылки - все, что можно было  сделать  по  ссылкам,
    можно теперь
    Добавлено новая  иконка  действия  -  "Статистика".  Её  тултип  показывает
    статистику игрока
    Расширена подсказка
[~] Статистика
    Теперь переход по определенной позиции  (например  со  страницы  Вселенной)
    скроллирует страницу сразу на эту позицию
    Немного уменьшен размер страницы статистики


2012-08-20 13:05:16 35a9.13
[+] Шкурки: Добавлены картинки для расовых юнитов в шкурки EpicBlue и SN-Ivash


2012-08-19 21:20:50 35a9.12
[!] Поддержка модуля player_race_units 0b0
    Теперь  движок  может   работать   с   неограниченным   количеством   типов
    кораблей-переработчиков
[!] Переработка: Полностью переделана работа с полем обломков
    Полностью переписан алгоритм запуска переработчиков
    В  попапе  вместе  с  абсолютными  теперь  показываются   и   относительные
    значениями в процентах
    В попапе добавилось три строки:
    1. Строка "В полете" показывает емкость трюмов переработчиков пользователя,
    которые уже летят на данное поле
    2. Строка "На орбите" показывает емкость переработчиков на  орбите  текущей
    планеты или луны
    3. Строка "К переработке" показывает сумму двух предыдущих строк
    На  основном  экране  Вселенной  к  иконке  обломков  добавлена   индикация
    процентного значения из строки "В полете". Она имеет цветовое кодирование:
    1.  Зеленый  цвет  означает,  что  прибывающие   флоты   игрока   полностью
    переработают поле обломков на ресурсы
    2.  Желтый  цвет  означает,  что  к   полю   летит   некоторое   количество
    переработчиков, которых не хватит что бы целиком переработать  обломки,  но
    на  текущей  планете  есть  достаточно  переработчиков,  что  бы  полностью
    обработать поле
    3. Оранжевый означает, что к полю летит флот иргока с  переработчиками,  но
    их не хватит на полную обработку обломков, даже  включая  те  корабли,  что
    находятся на орбите
    4.  Красный  цвет  значит,  что  к  полю  обломков  не  летит   ни   одного
    переработчика игрока

[~] Вселенная
    Убрано количество летящих флотов - эта информация есть в навбаре
    Полностью переписана работа AJAX-части,  отвечающей  за  отправку  шпионов,
    переработчиков и ракет
    Количество переработчиков теперь включает все виды кораблей, которые  могут
    перерабатывать обломки
[~] Обзор планеты
    Переписана процедура отсылки переработчиков
    Теперь выводится результат отсылки переработчиков

[%] Обзор планеты
    Добавлена проверка на уровень губернатора при его отображении - если  вдруг
    при прямых манипуляциях в базе у планеты есть ИД губернатора,  но  нет  его
    уровня. В нормальных условиях такого произойти не может

[@] Библиотека "tw-sack.js" больше не используется - она заменена на jQuery


2012-08-18 13:48:16 35a9.11
[%] Вселенная: Исправлена ошибка отправкой МПР и  отображением  планеты-цели  в
    форме отправки


2012-08-17 04:55:13 35a9.10 - Road to race units
[!] МПР - изменение алгоритма ракетного удара
    Алгоритм  ракетного  удара  теперь  не  привязан  к   численным   значениям
    идентификаторов юнитов и сильно оптимизирован по скорости
    Теперь при атаке МПР учитываются  щиты  оборонных  сооружений.  Это  должно
    слегка  уменьшить  эффективность  ракет  и  повысить   живучесть   защитных
    сооружений с большим количеством щитов
    Теперь при ракетном ударе рандомизируются параметры атаки, брони и щитов  у
    соответствующих юнитов. Границы такие же, как и для сражений  флотов  -  от
    80% до 120%
    В результате изменений в алгоритме существенно повысилась живучесть ПЗ  при
    ракетном ударе
    Добавлена поддержка усиления залпа для МПР

[~] Вселенная: Интерфейс запуска ракет использует группу защитных сооружений, а
    не хард-кодед перечень, как было раньше

[@] Система: Численные значения для защитных сооружений и ракет заменены  везде
    на константы


2012-08-16 22:40:07 35a9.9
[%] СуперНова: Исправлена очепятка в требованиях


2012-08-16 17:11:13 35a9.8
[!] Поддержка модуля player_race_units 0a2

[~] Флот: небольшой ребаланс кораблей
    СуперНова - атака уменьшена на  порядок.  При  этом  боевая  эффективность
    корабля изменилось незначительно, благодаря изменению коэфициента  усиления
    залпа. Немного уменьшилась эффективность против наземной обороны  и  легких
    кораблей и увеличилась эффективность против средних кораблей
    Бомбардировщик: понижена эффективность против ионных орудий  и  повышена  -
    против плазменных


2012-08-15 08:54:58 35a9.7
[@] Из информации о боевых юнитов убраны ненужные данные о единичных усилениях


2012-08-15 08:44:44 35a9.6
[@] Из файла vars.php выделены три  отдельных  файла  со  структурами,  боевыми
    юнитами и всеми остальными
    Так же добавлена дополнительная служебная информация для  того,  что  бы  в
    симуляторе не пропадали защитные сооружения  при  добавлении  новых  юнитов
    через модули
    Убраны неиспользуемые данные "скорострела"
[@] Исправлена очепятка в названии константы технологии ионного двигателя


2012-08-13 10:45:03 35a9.5
[!] Поддержка модуля player_race_units 0a1

[~] UBEv3: Улучшена поддержка залпового огня
[~] Новапедия: Улучшено отображение информации о кораблях и обороне

[@] Убран неиспользуемый код "скорострела"


2012-08-12 20:45:49 35a9.3
[!] Поддержка модуля player_race_units 0a0


2012-08-09 20:52:38 35a9.1
[~] Изменена процедура инициализации и загрузки  модулей  для  совместимости  с
    некоторыми хостингами


2012-08-06 01:01:20 35a8.24
[%] Исправлена ошибка с неправильным вычислением время полета флота до цели


2012-08-06 00:49:18 35a8.23
[%] Исправлена ошибка с досрочным выходом из отпуска


2012-08-03 23:43:57 35a8.21 Required module
[@] Модули
    Поддержка  дерева  зависимости  модулей  -  теперь  можно  делать   модули,
    зависящие от других модулей
    Автоматическая загрузка зависимых модулей в правильном порядке


2012-08-02 22:20:39 35a8.16
[~] Чат
    Увеличена длина поля для ника в чате


2012-08-02 14:12:06 35a8.12 - player_race
[#] Модули: Расы
    Шесть фиксированных рас: земляне, луниты, меркурианцы, венериане, марсиане,
    республиканцы
    Иконка расы отображается в чате,  в  статистике,  в  попапе  информации  об
    игроке во Вселенной и на странице Императора. Удержание курсора над иконкой
    расы вызывает тултип с её названием. Клик - открывает страницу с  описанием
    всех рас
    Каждая раса имеет собственные бонусы. Бонусы рас действуют сразу  же  после
    выбора родного мира - не нужно, например, исследовать техи, что бы получить
    к ним бонус
    Раса выбирается после регистрации на странице Императора
    Первый выбор расы производится бесплатно, каждая смена расы  стоит  100.000
    ТМ
    Описание текущей расы доступно на странице Императора. Там же  есть  ссылка
    на описание всех рас в игре с указанием их символов


2012-08-01 11:20:18 35a8.10
[@] Содержимое переменной $template_result автоматически загружаетя в  темплейт
    в файле index.php
[@] Файл темплейта _result_message автоматически  подгружается  при  рендеринге
    темплейта, если в структуре переменных темплейта есть массив 'result'


2012-07-31 14:56:39 35a8.8
[%] Локализация: Небольшая правка опечаток в русской локализации

[@] Модули
    Теперь можно указывать  в  качестве  страницы  загрузки  файла  локализации
    пустое множество '' - файлы в этом массиве будут загружаться всегда
[@] Инициализация
    Изменена процедура инициализации  -  модули  теперь  грузятся  до  проверки
    наличия  страниц.  Это  сделано  на  случай,  если  модуль  добавляет  свои
    собственные страницы как, например, модуль Премиума и модуль Рас


2012-07-31 03:24:39 35a8.7
[~] Император
    Со страницы убраны баннер и юзербар
    Страница переделана в preMVC

[@] Темплейты
    Рендерер страницы теперь подхватывает заголовок страницы, если  он  есть  -
    переменная PTL {PAGE_HEADER}
[@] Почти везде из текста убраны ссылки на переменную  $GLOBALS  для  поддержки
    рефакторинга в IDE


2012-07-29 13:58:10 35a8.6
[@] js_safe_string()  теперь  так  же  корректно  работает  с  Линуксовыми    и
    Маковскими переводами строк


2012-07-29 13:16:01 35a8.5
[%] Настройки: Исправлена ошибка с прибавлением на планетах большого количества
    ресурсов и невозможностью включить РО


2012-07-28 21:45:05 35a8.4
[@] js_safe_string() теперь корректно работает со строками,  где  есть  перевод
    строки


2012-07-27 15:48:08 35a8.3 - Name renderer
[!] Рендерер имен
    Добавлен механизм рендеринга имени пользователя
    Чат, статистика, Вселенная и страница Императора  теперь  используют  общий
    механизм рендеринга имени пользователя


2012-07-27 07:53:18 35a8.1 - preMVC
[!] MVC
    Базовая поддержка MVC - встроенная система моделей и видов

[+] Модули
    Система модулей переписана с учетом базовой поддержки MVC
    Автоматическая загрузка языков

[~] Настройки пользователей: страница переделана в preMVC


2012-07-24 09:00:18 35a8.0
[@] Доработана система темплейтов
    Теперь gettemplate() является кумулятивной и  может  принимать  в  качестве
    параметров уже существующий темплейт - новый файл будет присоединен


2012-07-23 21:42:09 35a7
[~] HTTPS: Теперь СН нормально работает и по HTTPS протоколу


2012-07-21 17:39:31 35a6 - Empire Overview optimization
[+] Обзор Империи: Значительно оптимизирован HTML-код
    Размер HTML-кода уменьшен на величину от 30% и в отдельных случаях до  80%.
    Среднему игроку оптимизация даст уменьшение размера загружаемого  файла  на
    40-50%% (включает так же выигрышь от оптимизации Списка планет - см.ниже)
[+] Список планет: Значительно оптимизирован HTML-код
    В Списке планет убрана иконка, отвечающая за исследование вследствие полной
    бессмысленности

[%] Вселенная: Исправлена опечатка в легенде


2012-07-17 16:25:29 35a5.1
[%] Исправлены недочеты в Телепортации и Переносе столицы


2012-07-17 16:06:28 35a5 - Capital transfer
[!] Перенос столицы  -  новая  возможность,  доступна  на  странице  управления
    планетой
    Теперь любая планета может быть назначена столицей
    Стоимость переноса столицы по умолчанию составляет 25.000 ТМ. Она  задается
    в таблице `config` переменной 'planet_capital_cost'


2012-07-17 15:26:48 35a4 - Planet teleportation
[!] Телепортация планеты - новая возможность, доступна на  странице  управления
    планетой
    Телепортация может производится только на свободное место - там, где нет ни
    планет, ни лун, ни обломков, включая уничтоженные объекты
    Телепортация перемещает  в  новые  координаты  планету  вместе  с  флотами,
    находящимися на орбите планеты
    Если у планеты есть луна - она  так  же  перемещается  в  новые  координаты
    вместе с флотами
    Телепортация  невозможна,  если  в  окрестностях  планеты   есть   какая-то
    активность флотов (т.е. есть флоты, имеющие в  качестве  точки  отправления
    или назначения саму планету, луну или поле обломков)
    После телепортации  необходимо  выждать  некоторое  время  перед  следующей
    телепортацией -  нарушенная  метрика  пространства  вокруг  планеты  должна
    нормализироваться
    Стоимость телепортации и таймаут перед следующим прыжком задаются в таблице
    `config` соответственно переменными 'planet_teleport_cost' (по умолчанию  -
    50.000 ТМ) и 'planet_teleport_timeout' (по умолчанию - 1 сутки)


2012-07-06 21:39:43 35a3
[%] Альянсы: Исправлена ошибка отображения полей информации Альянса при наличии
    лого и отсутствии внешнего текста Альянса


2012-07-06 20:55:25 35a2
[%] Локализация: Исправлена ошибка чтения информации о локализации


2012-06-30 16:20:51 35a1
[%] Фаланга: Теперь нельзя сканировать удаленную планету


2012-06-29 14:03:05 35a0
[+] Добавлен пункт меню "Тёмная материя"

[~] На странице "Тёмная материя" дополнен список возможного использования ТМ  и
    проставлены ссылки на соответствующие страницы


2012-06-16 14:36:40 34d0 - Project "SuperNova.WS" Release 34
[!] Project "SuperNova.WS" Release 34 "Happy Birthday Supernova! 3rd anniversary"


2012-06-14 14:11:27 34c1 - Research slowing down
[%] Исследования
    Устранена ошибка  в  формуле  рассчета  скорости  исследования  технологии.
    Теперь корректно рассчитывается время исследования для игроков и  Альянсов,
    а так же корректно обрабатывается случай,  когда  у  игрока  нет  ни  одной
    лаборатории
    После исправления время исследования увеличится чуть более, чем в два  раза
    для игроков с МИС,  а  для  игроков  без  МИС  -  упадет  на  один  уровень
    лаборатории


2012-06-13 14:07:36 34c0.2
[%] Исправлено отображение цветов в планетбаре


2012-06-13 13:26:49 34c0.1
[%] Исправлен апдейтер


2012-06-12 17:54:48 34c0 - Project "SuperNova.WS" Release 34 Release Candidat
[!] Project "SuperNova.WS" Release 34 RC0 "Happy Birthday Supernova! 3rd anniversary"
[!] Юбилей: 3 года назад 11 июня 2009 года был запущен первый сервер того,  что
    превратилось в Проект "СуперНова"


2012-06-12 17:48:44 34b3 - Fuel economy
[+] Корабли/Технологии
    Бонус к скорости полета кораблей теперь вычисляется относительно требуемого
    уровня технологии двигателя. При равной технологии пользователя бонус равен
    нулю, при  отличной  -  разнице  уровней  между  требованиями  постройки  и
    пользовательской умноженной на бонус  двигателя.  Если  уровень  технологии
    пользователя  меньше,  чем  требуемый  уровень  (например,  для   кораблей,
    купленных на Черном  Рынке),  то  корабль  получает  пенальти  к  скорости,
    вычисляемое аналогично, но не более 95%
    Пример.  Бомбардировщик  требует  Ионный  двигатель  6-го  уровня.  Базовая
    скорость  полета  корабля  -  4.000.  Каждый  уровень   технологии   Ионных
    двигателей дает 20% к скорости полета. Таким образом:
      * При  технологии   Ионных  двигателей  8-го   уровня   скорость   полета
        Бомбардировщика составит:
          4.000 * (1 + (8 - 6) * (20 / 100)) = 4.000 * (1 + 2 * 0,2) = 5.600
      * При технологии 6-го уровня - 4.000
      * При технологии 3-го уровня
          4.000 * (1 + (3 - 6) * (20 / 100)) = 4.000 * (1 - 3 * 0,2) = 1.600
      * Без технологии пенальти к уровню будет равно 120%,  поэтому  вступит  в
        силу ограничение:
          4.000 * (1 + (0 - 6) * (20 / 100)) = 4.000 * (1 - 0,95) = 200
    Технологии двигателей теперь  так  же  влияют  на  расход  топлива.  Каждый
    уровень, выше требуемого, уменьшает расход  топлива  на  10%  от  бонуса  к
    скорости за уровень, но не больше чем 50% от расхода. Каждый уровень,  ниже
    требуемого - увеличивает расход на 20% от бонуса.
    Например, для Бомбардировщика каждый уровень Ионного двигателя,  ниже  6-го
    будет увеличивать расход  топлива  на  4%  до  12%  при  полном  отсутствии
    технологии. Каждый уровень, выше 6-го будет уменьшать расход топлива на 2%,
    вплоть до 25-го уровня,  где вступит в силу ограничение.


2012-06-12 14:14:00 34b2 - Premium Info
[~] Черный Рынок/Инфотрейдер: Добавлена информация об уровне премиума


2012-06-10 16:08:48 34b1 - Premium Structures
[!] Премиум
    Премиум аккаунт  теперь  дает  бонус  к  уровням  Фабрики  роботов,  Верфи,
    Нанофабрики, Лаборатории, Нанолаборатории и к складам ресурсов

[+] Постройки/Здания
    На превьюшках зданий и в информационной панели  дополнительно  отображаются
    бонусные уровни - включая таблицу расчета производства
[+] Ресурсы
    Выводятся бонусные уровни зданий

[~] Юниты/Гравитационная технология
    Изменены   требования   и   цена:   теперь   для   исследования   требуется
    Энергетическая  технология  12  уровня,  а  цена  исследования   составляет
    100.000.000 металла, 100.000.000 кристаллов и 50.000.000 дейтерия

[@] Модули
    Конструктор  теперь  поддерживает  загрузку  индексированныъ  элементов   в
    многоуровневые массивы  типа  sn_data,  включая  использование  констант  в
    качестве индексов. Подробнее см. в "sn_module.php"


2012-06-09 18:24:48 34b0
[!] Файл "/docs/release.txt" приведен в соответствие с актуальной информацией


2012-06-04 15:46:11 34a20.2
[%] Сообщения: Исправлена ошибка при попытке отправить сообщение без адресата


2012-05-31 00:35:52 34a20.1 - Buy a sector everywhere!
[~] Покупка секторов на планете
    Теперь сектора можно купить в нескольких  местах:  в  "Обзоре  планеты",  в
    "Управлении планетой" и на экране строительства зданий


2012-05-29 01:06:04 34a20 - Buy a sector
[!] Покупка секторов на планете
    Теперь можно за ТМ докупать дополнительные сектора на планете - один сектор
    за раз, максимальное количество секторов не ограничено
    Стоимость сектора для планеты -  геометрическая  прогрессия  с  количеством
    секторов в качестве номера члена, БС = 1000 и Ф = 1.01
    Ориентировочная стоимость покупи  1  сектора  на  планете  составляет:  для
    планеты размером 100 секторов - 2678  ТМ,  150  секторов  -  4404  ТМ,  163
    сектора - 5013 ТМ, 200 секторов - 7244 ТМ, 250 секторов  -  11913  ТМ,  300
    секторов - 19493 ТМ, 330 секторов - 26508 ТМ
[!] Строительство
    Минимальное время постройки/исследования юнита уменьшено до 1 секунды

[~] Новости: Заголовок "Новости" таблицы актуальных  новостей  теперь  является
    ссылкой - клик на него раскрывает список всех новостей
[~] Обзор планеты
    Переформатирован вывод статуса Ворот для луны
    Убран таймер исследований вследствие его полной бессмысленности


2012-05-28 22:32:16 34a19 - Premium for a term
[!] Модули: Поддержка player_premium 1a2
    Премиум теперь можно покупать на разные сроки

[@] Классы
    Новый метод  'assign_recursive'  класса  "template"  -  позволяет  в  одном
    операторе заполнить  как  переменные  темплейта,  так  и  блоки  -  включая
    вложенные


2012-05-27 14:24:23 34a18.1
[%] Исправлена ошибка отображения Альянсов в статистике игроков и рекордах


2012-05-27 04:44:46 34a18
[!] Статистика
    Полностью переписана страница вывода статистики игроков и Альянсов
    Она теперь использует PTE
    Полностью переписаны алгоритмы работы страницы
    Для игроков добавлены отображение следующих  видов  статистики:  "Проведено
    боев", "Выиграно боев", "Проиграно боев", "Уровень за постройки",  "Уровень
    за исследования", "Уровень  за  рейдерство".  В  качестве  исходных  данных
    используется информация из записей игроков (т.е. актуальная  информация  на
    момент просмотра статистики), поэтому изменение для данных типов статистики
    всегда будет равно 0

[@] Скины
    Теперь движок подгружает файл  /design/css/global_server.css  .  Этот  файл
    может использоваться для добавления специфичных глобальных стилей  сервера.
    Он грузится после global.css и, следовательно, может перекрывать глобальные
    стили  "по  умолчанию".  Однако  он  грузится  после   скинового   CSS   и,
    следовательно, будет  перекрыт стилями скина
    Добавлены  классы  ".same_alliance"  и  ".same_player"  для   выделения   в
    статистике соответственно Альянса игрока и самого игрока


2012-05-25 23:30:30 34a17.4
[@] Апдейтер: Исправлена ошибка, приводящая к закицилванию апдейтера

2012-05-24 19:41:34 34a17.3
[%] Исследования: Исправлена ошибка расчета времени для исследований Альянса  в
    случае, если Альянсу известна технология МИС


2012-05-21 19:09:53 34a17.2
[~] Альянсы: Исправлена локализация

[%] Модули:    Исправлен   алгоритм   установки   глобальных   переменных   при
    инициализации модуля


2012-05-20 11:27:47 34a17.1
[~] Чат: Ник премиумного аккаунта выделяется (по умолчанию - желтым цветом)

[@] Скины
    Выделение Администрации и  премиумных  аккаунтов  проводится  через  стили.
    Соответственно,  в  основной  скин  добавлены  стили  классов  .nick_admin,
    .nick_operator, .nick_moderator и  .nick_premium.  Естественно,  они  могут
    быть перекрыти в скинах


2012-05-20 03:54:52 34a17
[#] Премиумный аккаунт
    Добавлен интерфейс покупки премиумного аккаунта
    Поддержка модуля player_premium 1a0

[~] Офицеры: Академик, Фортификатор, Инженер
    Изменена логика работы Академика, Фортификатора и Инженера. Все они  влияют
    на скорость постройки юнитов, однако раньше  зависимость  была  практически
    экспоненциальная. Вдобавок слишком большой бонус от Академика в  Альянсе  в
    сочетании с полностью  прокачанным  Наемником  у  игрока  мог  приводить  к
    артефактам в работе исследований
    Теперь бонус указанных офицеров - это процент увеличения скорости постройки
    соответствующих  юнитов,  а  не  процент,  на  который  уменьшается   время
    постройки. Т.е. это - слагаемое в знаменатели дроби. Если  говорить  совсем
    просто: 100% бонуса от офицера уменьшают время постройки юнита  в  2  раза,
    200% - в три раза, 300% - в четыре раза и так далее
    В связи с данными изменениями  сняты  ограничения  на  максимальные  уровни
    Фортификатора и Инженера. Кроме того, бонус Академика увеличен с 5% до 10%,
    а его максимальный уровень - до 30

[%] Интерфейс
    Исправлена ошибка с отсутствием скина в боевых отчетах и отчете симулятора
[%] Исправлена ошибка вычисления стоимости Наемников

[@] Скины
    В базовый CSS перенесено цветовое кодирование чисел  и  сообщений  (ошибка,
    предупреждение итд). При желании они  могут  быть  перекрыти  в  CSS-файлах
    стилей
[@] Модули
    Теперь в манифесте модуля можно задавать  список  констант,  которые  будут
    автоматически назначены при его инициализации
    Теперь  в  манифесте  модуля  можно  задавать  список  переменных,  которые
    автоматически заменят (в случае обычных переменных) или дополнят (в  случае
    одноуровневых массивов) соответствующие глобальные переменные.  Специальный
    механизм гарантирует корректную работу с константами в таких  переменных  и
    массивах - даже  тех,  которые  были  только  назначены  при  инициализации
    модуля
    Теперь  при  инициализации  модуля  в  цепочку  вызовов  функций  корректно
    инсталлируется оригинальная основная функция из движка


2012-05-15 18:23:49 34a16.2
[%] НоваПедия
    Исправлено описание ракетной шахты

2012-05-12 00:46:27 34a16.1
[~] Меню
    Пункты "Технология" и "Квесты" перемещены в раздел "Информация"

[@] Скины
    Изменена  организация  CSS-файлов.  Файл   "formate.css"   переименован   в
    "skin.css". К нему присоединен в конце файл  "default.css".  Таким  образом
    сохранена последовательность загрузки стилей и при  этом  все  стили  скина
    находятся теперь в одном файле
    Изменена система раскраски меню. Теперь каждому пункту  меню  присваиваются
    присваиваются собственные аттрибуты HTML ID и CLASS.  КРАЙНЕ  рекомендуется
    производить раскраску меню через аттрибут  ID  (см.  пример  в  formate.css
    скина EpicBlue). Список ID элементов меню  можно  узнать  либо  в  браузере
    (используя  функцию  "Inspect  Element"  или  аналогичную),  либо  в  файле
    /includes/template.php, функция tpl_render_menu(), переменная $sn_menu
    supernova-ivash: Скин приведен в соответствие с текущим положением дел


2012-05-05 23:50:46 34a16
[#] Премиумный аккаунт
    Базовая поддержка основных функций модуля

[+] MVC: Базовая поддержка MVC

[@] Усовершенствована поддержка "цепи перекрытий":  теперь  можно  протаскивать
   сквозь цепь результат вычислений, модифицируя его на каждом шагу.
[@] Меню: Новый тип элемента 'lang' - для  поздней  подстановки  локализованных
    строк
[@] Модули: sn_module
    Теперь модули корректно поддерживают работу с цепью перекрытий
    Теперь модули могут вставлять свои пункты в основное меню


2012-05-05 18:30:14 34a15.2
[%] Фаланга: Исправлена уязвимость в отправке флота


2012-05-02 14:17:21 34a15.1
[~] Меню
    Исправлена ошибочная ссылка в пункте "Чертежи"


2012-05-02 03:24:30 34a15
[+] Губернаторы
    Теперь Фортификатор добавляет +1 слот к  очереди  постройки  оборонительных
    сооружений за каждый уровень. Вследствие этого фактор Губернатора измененен
    с 1.00 до 1.25. Текущие Фортификаторы остались без изменений
    Теперь Инженер добавляет +1 слот к очереди постройки кораблей и  зданий  за
    каждый уровень. Кроме того, бонус к скорости строительства зданий  увеличен
    до 10%. Вследствие этого максимальный уровень уменьшен до 8,  БС  увеличена
    до 500, фактор увеличен до 1.65. У нанятых инженеров уровень понижен в  два
    раза с округлением в большую сторону. В целом  это  означает,  что  Инженер
    стоит дешевле в пересчете на эффективный уровень.

[@] Модули
    Добавлена поддержка "цепи перекрытий"
[@] Файлы
    Расширение файлов локализации изменено с  ".mo"  на  ".mo.php"  для  лучшей
    поддержки в различных IDE
[@] Локализация
    В дополнение к стандартным путям  "language/<ISO2>/<domain>.mo.php"  теперь
    так же  поддерживаются  пути  вида  "language/<domain>_<ISO2>.mo.php".  Это
    сделано для упрощения структуры подкаталогов в модуле
[@] Меню
    Меню теперь является динамическим
[@] Очереди
    Упразднена  константа  MAX_BUILDING_QUEUE_SIZE.   Теперь   размер   очереди
    построек зданий и верфи/обороны задается переменными из таблицы `config`  -
    соотвественно 'server_que_length_structures' и  'server_que_length_hangar'.
    По умолчанию их значения равны 5


2012-05-01 19:50:03 34a14.8
[%] Локализация/EN: Исправлены очепятки


2012-05-01 19:45:06 34a14.7
[~] Воплощение: Теперь при Воплощении  в  забаненного  персонажа  администратор
    автоматически развоплощается


2012-04-27 22:34:26 34a14.6
[~] Меню
    Добавлена дата запуска сервера (под логотипом). Для уже запущенных серверов
    она  равна  дате  запуска  апдейта.  Она  хранится  в  таблице  `config`  в
    переменной "server_start_date"


2012-04-21 19:45:02 34a14.5
[%] Флоты
    Исправлена  мгновенная  скорость  полета  если  для   двигателей   кораблей
    соответствующие технологии еще не исследованы (например - корабль куплен на
    ЧР или найден в экспедиции)


2012-04-21 18:43:29 34a14.4
[%] Артефакты
    Исправлена ошибка, когда АКК мог быть развернут на  планете  с  уже  идущим
    строительством


2012-04-19 23:37:11 34a14.3
[~] Скины: Обновлен скин supernova-ivash


2012-04-14 23:37:24 34a14.2
[%] Верфи: Доработан фикс 34a13.1


2012-04-10 20:05:50 34a14.1
[%] Чертежи: Исправлена ошибка, делающая чертежи временными при включении ВН


2012-04-08 18:02:30 34a14
[~] Покупка ТМ
    Изменена структура таблицы `payment`
    Отдельный метод для подсчета бонуса ТМ
    Настройка бонусов в свойстве $bonus_table класса sn_module_payment


2012-04-08 12:46:40 34a13.3
[%] Статистика: Исправлен warning в коде расчета статистики


2012-04-05 20:06:20 34a13.2
[~] День Рождения: Подарок начисляется в ДР, а не на следующий день


2012-04-04 16:06:16 34a13.1
[%] Верфь
    Исправлена ошибка с отрицательными ресурсами на планете


2012-04-04 01:32:45 34a13 Fleet Events Iteration 1
[~] События флотов
    Фаланга теперь показывает входящие и исходящие ракетные атаки
    Индикатор атаки на планету теперь так же реагирует на ракетные атаки

[@] События флотов
    Первая итерация новой системы событий флотов


2012-04-02 12:25:39 34a12.2
[%] Чертежи: Исправлена ошибка расчета стоимости Чертежа для Альянса


2012-03-31 13:52:43 34a12.1
[%] Исследования: Исправлена ошибка в исследованиях Альянса


2012-03-31 13:41:56 34a12
[!] Админка: Параметры MySQL сервера
    В админку на страницу утилит  добавлен  вывод  информации  о  настройках  и
    параметрах MySQL сервера
[!] Админка: Шифрование пароля
    Полностью переписана утилита шифрования пароля в MD5


2012-03-31 10:39:39 34a11.13
[%] Исправлена ошибка исправления .11


2012-03-31 02:14:16 34a11.12
[%] Locale/EN: Fixed typos and missed strings


2012-03-31 02:04:07 34a11.11
[%] Исследования: Исправлена ошибка повторного начисления ресурсов  при  отмене
    исследования


2012-03-30 22:46:25 34a11.10
[~] Навбар: Изменена иконка исследований


2012-03-30 02:46:25 34a11.9
[%]  Наемники/Чертежи:  Добавлен  перевод  строки  в  сообщения   о   недостаче
     ресурсов/неудовлетворении требований


2012-03-29 22:40:38 34a11.8
[%] Верфи
    Сообщение "no resources" заменено на соответстующую локализацию


2012-03-29 22:20:48 34a11.7
[~] Админка: Редактирование планет
    При выбранной планете невозможно изменить её ID для  исключения  перезаписи
    информации о текущей планете


2012-03-29 02:58:56 34a11.6
[~] Чертежи/Наемники
    Теперь при недостачи ТМ видна цена чертежей/наемников
    Цветовое кодирование цены: красный - не хватает ТМ, зеленый - хватает
    Кнопка "Купить/Нанять" исчезает, если не хватает ТМ для покупки


2012-03-29 00:48:06 34a11.5
[%] Рекорды: Чертежи больше не видны

[@] Константы типов юнитов приведены к единому формату "UNIT_xxx"
[@] Всем юнитам прописаны типы


2012-03-29 00:01:38 34a11.4
[%] Чертежи: Исправлена ошибка требований Чертежа  10го  уровня  для  постройки
    гипетранспорта
[%] Технологии: Исправлена косметическая ошибка вывода уровня Чертежа  при  его
    отсутствии


2012-03-28 23:46:14 34a11.3
[~] Навбар: Виджет экспедиций теперь ведет на страницу отправки флотов


2012-03-28 22:00:16 34a11.2
[%] Наемники: Исправлены описания Наемников и Губернаторов


2012-03-28 21:47:45 34a11.1
[~] Навбар: Обновлена иконка своих флотов


2012-03-28 19:23:59 34a11
[!] Чертежи
    "Чертеж" - это  программный  пакет,  дающий  доступ  к  производсту  юнитов
    определенного типа. Доступны следующие чертежи:
    1. Здания: термоядерная электростанция
    2. Корабли: супертранспорт, гипертранспорт, Звезда Смерти, "СуперНова"
    3. Защитные постройки: планетарная защиат
    Чертеж  покупается  на  Империю,  после  чего  указанный  юнит  доступен  к
    производству на всех планетах
    Чертеж является перманентым
    Чертежи  заменяют  Наемников  в  требованиях к постройке
    Наемники "Разрушитель" и "Ассасин" сконвертированы соответственно в "Чертеж
    ЗС" и "Чертеж СН". Остальные четрежи надо покупать самостоятельно


2012-03-28 18:22:00 34a10.3
[~] Интерфейс/Навбар: Заменены иконки


2012-03-27 17:10:12 34a10.2
[%] Локализация:  Исправлены  непрвильные  строчки  локализации  на   страницах
    Артефактов и Наемников


2012-03-26 22:52:24 34a10.1
[%] Верфи: Исправлена ошибка, позволяющая использовать больше  слотов  очереди,
    чем позволено движком


2012-03-25 11:24:12 34a10
[+] Покупка ТМ
    Добавлена поддержка методов 'GET' и 'POST' в системах платежа


2012-03-25 08:46:41 34a9.2
[+] Локализация: Добавлена система отката языков в случае, если включаемый файл
    не найден в указанном месте движка/для указанного языка

[~] Продажа ТМ: Доработан дизайн страницы. Добавлена информация о бонусах

[%] Админка/Редактор локализаций
    Добавлена поддержка констант SNC_VER_ в домене 'admin'


2012-03-25 07:29:05 34a9.1
[@] Модули
    Автоматическая загрузка конфигурации модуля из файла


2012-03-25 06:36:08 34a9
[#] Админка: Редактирование характеристик планеты
    Модуль admin_planet_edit_extra v1c0
    В  админке  можно  менять  основные   характеристики   планеты:   название,
    изображение, размер, температуру, губернатора  и  его  уровень,  количество
    обломков на орбите

[#] Покупка ТМ: Модуль платежной системы XSolla
    Модуль payment_xsolla_currency v1b0
    Реализован протокол "Виртуальная валюта" (без отката платежей)
    Поддержка плагина PayStation

[~] Админка/Редактирование планеты
    Добавлено форматирование количества юнитов/ресурсов на планете
    Поддержка admin_planet_edit_extra v1c0

[@] Модули
    Теперь можно перекрывать функции методами из класса
    Автоматическая загрузка и регистрация модулей
    Автоматическое перекрытие функций методами модуля из $manifest

[@] Подсказки: Можно задавать ширину  подсказки  для  согласования  с  основной
    страницей


2012-03-25 01:14:37 34a8.1
[%] Покупка ТМ
    Исправлена ошибка расчета бонусов при оптовой покупке
    Поддержка payment_xsolla_currency v1b0


2012-03-25 00:10:06 34a8
[!] Покупка ТМ (требуется модуль платежной системы)
    Интерфейс покупки ТМ
    Поддержка payment_xsolla_currency v0a0.2

[@] Прототипы классов модулей и модулей покупки


2012-03-22 20:54 34a7.3
[%] Альянсы: Исправлена ошибка  незасчета  уровня  технологии  при  составлении
    списка доступных к постройке юнитов на верфи (корабли и оборона)
[%] Экономика/Строительство: Исправлен ошибка багоюз медленных  соединений  при
    постройке зданий


2012-03-22 19:56 34a7.2
[%] Локализация/EN: Исправлены очепятки, спасибо tedk28


2012-03-19 09:42 34a7.1
[%] Админка: Закрыты защитой по authlevel не закрытые ранее файлы


2012-03-19 02:50 34a7 - Iconized Navbar
[!] Навбар: Полностью переработан навбар
    Вся информация теперь выводится поверх кликабельных иконок  с  всплывающими
    подсказками
    Добавлена информация о текущих исследованиях пользователя


2012-03-19 00:45 34a6.1
[@] txt2html: Генерирует более валидный HTML с кодировкой и языком


2012-03-19 00:16 34a6 - Base payment module support
[!] Система: Добавлена базовая поддержка платежных модулей:  таблица  платежей,
    базовые настройки, строки локализации и константы

[~] Система: Усовершенствован способ определения корневого каталога игры


2012-03-18 08:18 34a5- Rocket Science
[!] Верфь: Полностью переписана работа верфи

[~] Очередь верфи
    Теперь так же показывается количество юнитов, когда юнит один в очереди
[~] Ракеты: небольшой ребаланс ракет
    Емкость шахты увеличена до 12-и, а размер межпланетной ракеты  увеличен  до
    3-х. Таким образом на один уровень шахты теперь влазит 12 перехватчиков или
    4  ракеты  (вместо  10  перехватчиков  и  5   ракет,   как   было   ранее),
    а количество ракет к перехватчикам на уровень шахты увеличилось до  3  к  1
    вместо 2 к 1. Мощность ракет осталась прежней

[%] Очередь верфи и исследований: Исправлена ошибка с индикацией конца  очереди
    - "undefined" вместо "Очередь пуста"

[@] Юниты: Добавлена дополнительный аттрибут "max" ко всем юнитам и  его  общая
    проверка в eco_get_build_data()


2012-03-18 00:50 34a4.2
[~] День рождения: Добавлена иконка ДР в обзор Вселенной


2012-03-17 21:18 34a4.1
[~] День рождения: Добавлена подсказка с датой рождения  на  иконку  тортика  в
    статистике


2012-03-16 03:14 34a4 - Happy Birthday!
[!] День Рождения: Добавлена подсистема подарков на ДР игрока
    Игрок может ввести свой ДР на своей странице настроек. ДР вводится один раз
    и  после  этого  не  может  быть  изменен.  Дата  проходит  валидизацию   в
    соответствии с серверными настройками формата даты
    Игрок с ДР на текущую дату будет отмечен специальной иконкой в статистике
    Амдинистратор сервера может назначить количество  ТМ  в  подарок  на  ДР  в
    настройках (опция "Подарок игроку на день  рождения").  Если  это  значение
    установлено в 0 - подарки отключены.
    Выдача подарков происходит один раз в сутки  всем  игрокам,  день  рождения
    которых находится не далее чем в "Ретро-рождение"  дней  от  текущей  даты.
    При этом подарки выдаются только игрокам,  которые  на  момент  выдачи  уже
    имели введенную дату рождения. Движок гарантированно начислит подарки  даже
    если  ДР  пришелся  на  день  неактивности   сервера   (неисправность   или
    обслуживание).
    Такая система выбрана с одной стороны - что бы не обидеть игроков в  случае
    проблем с сервером, а с другой стороны - что  бы  избежать  злоупотреблений
    (например - ввести послезавтрашнюю дату ДР, на следующий день  получить  ТМ
    за "прошлый ДР", а через день -  еще  и  за  "нынешний".  Такой  вариант  в
    выбранной системе начисления подарков не прокатит)



2012-03-14 21:55 34a3.2
[%] Обзор планеты: Исправлена ошибка, когда на лунах не показывалось количество
    ресурсов во входящих флотах
[%] Фаланга: Исправлена дурацкая очепятка


2012-03-12 14:05 34a3.1
[%] Реверт предыдущего коммита


2012-03-11 21:49 34a3
[~] Флоты
    На странице выбора миссии таблица загрузки ресурсов по умолчанию отключена
    Добавлено дополнительное сообщение при совпадении планеты отправки и пункта
    назначения
    Добавлено дополнительное сообщение при попытке отправить незагруженный флот
    с миссией "Транспорт"
    Добавлено дополнительное сообщение при попытке отправить флот с ресурсами в
    миссию, отличную от миссий "Транспорт", "Передислокация" и "Колонизация"

[%] Меню: Исправлена ссылка с пункта "Статистика"
[%] Флоты: Исправлена ошибка, дающая возможность отправить флот с  ресурсами  в
    миссии "Атака" или "Удержание"


2012-03-10 00:42 34a2.3
[~] Админка: После штатного Развоплощения (т.е. из меню, а не при ошибке  и  не
    из игрока в отпуске) Администратора возвращает на страницу списка игроков

[%] Админка: Скорректирована работа Развоплощения на пользователе в отпуске


2012-03-10 00:10 34a2.2
[@] Тестирование GIT hooks


2012-03-10 00:04 34a2.1
[@] txt2html: Обновлен


2012-03-09 23:36 34a2
[~] Альянсы: Немного оптимизирован код страницы Управления Альянсом


2012-03-09 22:18 34a1.3
[@] Тестирование GIT hooks


2012-03-09 22:10 34a1.2
[@] txt2html: Подключен к хукам GIT


2012-03-09 18:40 34a1.1
[%] Статистика: Исправлено неотображение пола игрока при просмотре статистики с
    экранов логина/регистрации
[%] Админка/Вполощения: Исправлена ошибка с невозможностью  Развоплотиться  при
    Воплощении в игрока в отпуске
[%] Локализация/EN: Исправлены очепятки


2012-03-08 22:47 34a1
[!] Админка: Воплощение
    Теперь можно Воплотиться в любого игрока, посмотреть  игру  его  глазами  и
    поуправлять игрой его... эээ... интерфейсом!
    Воплощение доступно только Администраторам сервера
    Воплотиться можно только в игрока меньшего уровня - т.е. нельзя Воплотиться
    в такого же Администратора
    Вложенные  Воплощения   недопустимы:   нельзя   Воплотиться,   будучи   уже
    Воплощенным в кого-то. Развоплотитесь сначала
    Для Воплощения используйте соответствующую иконку в "Списке игроков"
    При Воплощении изменяется только  onlinetime  пользователя.  Вся  остальная
    информация (IP, User-agent итд) сохраняется
    Если на аккаунте игрока есть ошибки, то попытке Воплощения  будет  выведено
    сообщение об ошибке, которое увидел бы игрок  на  вашем  месте.  Обновление
    страницы вернет вас в ваш аккаунт
    Для Развоплощения используйте соответствующий пункт меню или "Выход"
    ВНИМАНИЕ! Перед использованием Воплощения почистите куки в браузере!  Из-за
    изменений в работе кукесов кэш браузера может содержать дубликаты куков
[!] Админка: Список игроков
    Полностью переписан "Список игроков" с использованием PTE
    Список переписан с использованием PTE
    Сокращено количество строк локализации
    Альянсы-игроки больше не выводятся в списке
    Пишется полный срок бана
    Для мультиаккаунтов подсвечиваются все адреса с одинаковым IP и  в  скобках
    добавляется количество игроков с таким же адресом
    Теперь невозможно удалить  игрока  того  же  уровня  -  для  предотвращения
    разборок между членами команды одного уровня

[~] Куки: Доработан  механизм  сессий  на  кукесах  для  корректной  работы  из
    любого каталога (например - модули или админка)


2012-03-08 15:47 34a0
[%] Своз ресурсов: Исправлена ошибка со смещением цветового кодирования емкости
    транспортов на одну строку вниз
[%] Локализация/EN: Исправлены очепятки

[@] Документация: README преобразован в UTF8
[@] Добавлена компенсация  работы  механизма  Magic  Quotes.  Подробнее  -  см.
    /docs/install.txt, подраздел "Magic Quotes"


2012-03-08 01:17 33d0 - Project "SuperNova.WS" Release 33
[!] Project "SuperNova.WS" Release 33 "Women Day v2012!"


2012-03-07 22:00 33c2
[~]  Логин/Регистрация:  Данные   по   серверу   (размер,   скорость,   онлайн)
    сгруппированы в один блок и теперь видны так же на странице регистрации

[%] Логин: Исправлено неправильное количество игроков онлайн
[%] Статистика: В  подсчет  и  отображение  статистики  внесены  дополнительные
    модификации для того,  что  бы  предотвратить  подсчет  Альянсов-игроков  в
    статистике обычных игроков


2012-03-07 21:25 33c1
[~] Здания: Алгоритм расчета максимальной ширины откачен до предыдущей  версии.
    Слишком долго работал текущий
[~] Статистика: Теперь полностью отрабатывается переход со ссылок Вселенной  на
    страницу статистики: правильно выбирается тип статистики  (игрок/Альянс)  и
    страница статистики, корректно отрабатываются дропдауны (выбирается  именно
    текущий тип/страница статистики).
    Cписок статистики скроллируется либо до выбранного объекта - если позволяет
    размер страницы, либо максимально вниз, если размер страницы не позволяет
    Выбранный объект отмечается знаком ">" в столбце рангов
    Все числа в ячейках отцентрированы по правому краю

[%] Рекорды: Исправлена проблема с участием в рекордах удаленных планет
[%] Локализация/EN: Исправлены очепятки


2012-03-06 16:54 33c0.2
[%] Исправлены очепятки в документации и локализациях


2012-03-06 00:47 33c0.1
[%] Исправлены очепятки в документации и локализациях


2012-03-04 23:50 33c0 - Project "SuperNova.WS" Release 33 Release Candidate
[!] Project "SuperNova.WS" Release 33 RC "Temporary Mercenary Aliplayers Avatar
    Rename VerCheck"

[@] ВНИМАНИЕ!!! В этой версии скорректирована работа партнерской  программы,  а
    так же повторно применен патч для масштабирования ТМ -  для  тех  серверов,
    где он не был применен  раньше.  Если  вы  вносили  изменения  в  настройки
    партнерской системы или начисления ТМ - сверьте текущие настройки в таблице
    "config" с эталонными настройками в конце файла /docs/sql/supernova.sql!

[~] Партнерская программа
    Скорректирована  работа  партнерской  программы.  Теперь  она  работает   в
    точности так, как написано в /docs/readme.txt

[~] Интерфейс
    Убрано автоматическое обновление страницы при окончании очереди

[%] Безопасность
    Исправлена работа  с  куками.  Некорректно  работали  кукесы  на  серверах,
    где движок был установленн не в корневой каталог

[@] БД: Обновлен дамп БД
[@] Апдейтер: Апдейтер работает более стабильно



2012-03-04 08:29 33a32 - Aliplayer V9
[#] Модули: Поддержка Aliplayer V9
    Поддержка чёрного рынка Альянса
    Расширенная поддержка счета Альянса в ресурсбаре
    Поддержка модуля на странице "Мировые константы"

[@] Модули:  Изменена  процедура  подключения  модуля.  Теперь  не  нужен  файл
    начальной  загрузки  -  вместо  него  используется  файл с именем  модуля и
    расширением "php"
    Для  корректной  работы  существующих  модулей  достаточно  удалить   файлы
    "*_bootstrap.php" в каталоге "/modules".


2012-03-03 22:53 33a31.3
[%] Создание юнитов: Исправлена ошибка, когда  члену  Альянса  не  засчитывался
    бонус Альянса при составлении списка доступных к постройке юнитов


2012-02-29 22:01 33a31.2
[@] Модули: Загрузчики модулей теперь располагаются в каталоге /modules, а не в
    /modules/_functions
[~] Чат: Тэг  Альянса  после  имени  игрока  теперь  указывается  в  квадратных
    скобках, а адресат сообщения - в круглых. Сделано для унификации  написания
    тэга Альянса в движке


2012-02-29 17:20 33a31.1
[%] Флоты: Исправлена уязвимость, позволяющая дублировать флоты


2012-02-26 22:09 33a31
[@] Сильно переработана организация файлов PHP
    Многие процедуры поменяли свое местоположение
    Множество файлов теперь не грузятся  автоматически  при  старте  движка,  а
    грузятся лишь по потребности. В частности - все файлы  миссий  подгружаются
    только в менеджере летящих флотов,  а  сам  менеджер  грузится  только  при
    потребности в обработке флотов.  Кроме  того,  боевой  движок  подгружается
    только в симуляторе и при обсчете боев (Миссии "Атака" и "Уничтожить")


2012-02-26 15:49 33a30.1
[~] Логин/Регистрация
    Исправлено форматирование - копирайт больше  не  съезжает  влево,  основной
    блок страниц отцентрирован
    В строке "Новичек" теперь показываются только игроки


2012-02-26 06:59 33a30
[!] Админка: Регистрация сервера
    Регистрация сервера нужна для  ряда  запросов  к  серверу  обновлений.  При
    регистрации передается минимум информации,  необходимой  для  идентификации
    сервера:
    1. Полный URL сервера - т.е. HTTP-адрес  и  подкаталог  сервера.  Например:
       http://myserver.com/myfolder/.    Это    необходимо    для     первичной
       идентификации сервера. Полный путь необходим для того, что бы  различать
       несколько копий СуперНовы, установленных на одном IP или домене.
    2. Внутреннее название сервера. Используется для подстановки в сообщения.
    Зачем  вообще  регистрировать  свой  сервер?  В  будущем   планируется  ряд
    возможностей, которые буду доступны только зарегистрированным  серверам.  В
    их число входит (отсортированы по запланированным срокам реализации):
    1. Автоматическое получение чейнджлога
    2. Автоматизированное обновление движка
    3. Участие в рейтинге серверов
    4. Багрепорты от администраторов серверов
    5. Чат для администраторов серверов
    6. По запросу - удаленная диагностика сервера
    7. ...и многое, многое другое
    Зачем регистрировать свой сервер прямо сейчас?
    1. Запросы от администраторов  зарегестрированных  серверов  имеют  больший
       приоритет при диагностике проблем и обработке багрепортов.
    2. При регистрации кроме индивидуального ключа серверу выдается  уникальный
       идентификационный номер,  который  будет  использоваться  при  первичной
       сортировке серверов. Чем раньше  будет  зарегистрирован  сервер  -  тем,
       например, выше он будет в общем каталоге серверов...


2012-02-25 17:40 33a29.3
[~] Флоты
    На страницу своза ресурсов добавлено количество ресурсов на планете

[@] Админка: Проверка версии
    Добавлена обработка неподдерживаемых ответов от сервера


2012-02-24 18:15 33a29.2
[~] Навбар
    На страницу настроек пользователя  добавлена  опция  постоянного  включения
    планетарного навбара
[~] Флоты
    Планетарный навбар включен на странице выбора кораблей


2012-02-24 17:48 33a29.1
[~] Флоты: Добавлено количество дейтерия на планете на страницу выбора кораблей
    и страницу выбора точки назначения
[~] Навбар
    Планетарный навбар сделан горизонтальным
    Из планетарного навбара убрана колонка летящих флотов

[@] Файлы из /includes/fleet и /includes/market перенесены в /includes/includes


2012-02-24 01:15 33a29 - Navbar Rework
[+] Навбар: Переработан навбар
    Из навбара убрано количество текущих ресурсов на  планете/в  альянсе  -  их
    присутствие на большей части экранов не имело практического смысла при том,
    что отнимало драгоценное вертикальное пространство страницы.
    Там, где сведения о количестве  ресурсов  на  планете  смысл  имеет  -  они
    добавлены (см. ниже)

[~] Обзор планеты: Добавлено текущее количество ресурсов  на  планете,  текущий
    размер хранилищ, а так же - количество ресурсов на прилетающих флотах
[~] Черный Рынок/Скупщик кораблей и Продавец б/у кораблей
    Добавлено количество текущих ресурсов на планету
[~] Модуль "Альянсы-игроки" - v6
    Добавлено количество  текущих  ресурсов  в  таблицу  перечислений  ресурсов
    Альянсу
    Модуль необходимо обновить до версии v6+ для работы с SN v33a29+!
[~] Альянсы
    Добавлен заголовок на страницу Альянсов с тэгом Альянса
    Ссылка на управление Альянсом/игроками перенесена в самую верхнюю таблицу
[~] Экономика/Строительство
    На всех экранах строительства (здания, флот, оборона) к  основному  навбару
    прибавляется  дополнительный  с  перечнем  текущих  ресурсов  на  выбранной
    планете

[@] Темплейты
    Расширение файлов темплейтов изменено с ".tpl" на ".tpl.html" для  большего
    удобства разработки
    Теперь при использовании директивы <!--  INCLUDE  -->  НЕ  НУЖНО  указывать
    расширение подключаемого файла


2012-02-21 01:26 33a28.1 - Menu rework
[~] Меню: Переработано меню


2012-02-20 23:38 33a28 - Automatic version check
[~] Админка: Проверка версии
    На страницу настроек сервера добавлена опция автоматической проверки версии
    (по умолчанию - отключена).
    1. При автоматической проверке передаются те же самые анонимные данные, что
       и  в  случае  ручной  проверки.   Однака   сама   проверка   выполняется
       автоматически по расписанию.
    2. Период проверки версии задается в секундах в таблице  config  переменной
       server_updater_check_period. По умолчанию период проверки равен 24 часам
       (раз в сутки)
    Результат и время последней проверки теперь выводится в левом меню
    Результат и время последней проверки так же выводится на странице настроек
    Предусмотрено цветовое кодирование результатов проверки (как в левом  меню,
    так  и  в  настройках):  зеленый  -  обновление  необязательно,  желтый   -
    желательно обновить движок, оранжевый -  крайне  рекомендуется  обновление,
    красный - ошибка проверки версии


2012-02-20 02:33 33a27 - Planet column setup
[+] Обзор планеты: Настраиваемое количество колонок в списке планет
    На странице настроке пользователя можно  указать,  сколько  колонок  должно
    быть в списке планет - пункт "Количество колонок в списке планет" в разделе
    "Настройки интерфейса"
    Можно выставить количество колонок в 0 и  указать  максимальное  количество
    рядов с списке - см. соответствующий пункт там же.  В  этом  случае  движок
    рассчитает количество колонок исходя из этого  числа.
    Обращаю внимание - указывается именно максимальное количество  рядов!  Т.е.
    если у игрока 6  планет,  а  количество  рядов  указано  5,  то  количество
    необходимых колонок для того, что бы число рядов не привысило 5 будет равно
    двум. Соответственно, список планет будет сформирован в виде  двух  колонок
    по три ряда. Если же колоний будет 12 - список планет будет  выглядеть  как
    таблица три колонки по четыре ряда.
    Данная особенность связана с построением списка планет -  слева  направо  и
    сверху вниз. Естественно, не составило  бы  никакого  труда  сделать  вывод
    списка сверху вниз, а затем справо налево - это было бы даже легче.  Однако
    при выбранном способе  сохраняется  пользовательская  сортировка  планет  -
    более "важные" колонии всегда будут "выше" в списке


2012-02-18 19:23 33a26 - Skin 'xnova' removal
[!] Скины: Удален скин 'xnova'
    Из дистрибутива игры удален скин 'xnova' из-за занимаемого им размера
    Скачать скин можно с основного сайта проекта по ссылке
    http://supernova.ws/files/skins/supernova-skin-xnova.zip
    либо с SourceForge по ссылке
    http://sourceforge.net/projects/supernova-ws/files/skins/


2012-02-18 19:23 33a25 - Version check
[@] Админка: Проверка версии
    Проверка версии выполняется исключительно в ручном режиме по нажатию кнопки
    "Проверить версию". При этом передаются только анонимные данные  -  текущая
    версия БД, номер релиза и версия игры
    При проверке движок обращается через HTTP на сервер  проверки  версий.  При
    установленом CURL он будет использован.  Если  CURL  не  установлен,  будет
    осуществлена попытка  получить  версию  через  file_get_contents(). Поэтому
    убедитесь, что если  CURL  установлен  -  он  правильно  сконфигурирован  и
    подключен к PHP, а если CURL не установлен - в PHP разрешается обращаться к
    внешним сайтам через соответствующую функцию
    Результат проверки - рекомендация движка о необходимости обновления текущей
    версии игры
[@] БД: Доработан дамп. Теперь по умолчанию новосоздаваемый игрок имеет мужской
    пол - так же, как и дефолтный администраторский аккаунт


2012-02-17 18:42 33a24.3 - Statistic with sex
[+] Статистика: Показывается пол игрока


2012-02-16 00:06 33a24.2
[%] Альянсы: Исправлена ошибка выхода из Альянса - у игрока  не  затирался  тэг
    Альянса
[%] Локализация: Исправлено опечатка в en/market.mo


2012-02-15 16:42 33a24.1
[@] Апдейтер: Изменено условие апгрейда Наемников до отдельной таблицы


2012-02-15 00:40
[%] Альигроки больше не учитываются в онлайн-статистике


2012-02-13 04:54
[~] Наемники: Отключены отладочные малые сроки найма ВН


2012-02-13 04:48
[!] Иконка сайта: Новая иконка сайта! Мегареспект ув.Помощнику Ivash!


2012-02-13 04:38 33a24 - Minify!
[!] Темплейты: Минификатор
    ВНИМАНИЕ! ЭТО - ЭКСПЕРИМЕНТАЛЬНАЯ ФИШКА! ИСПОЛЬЗУЙТЕ ЕЁ  НА  СВОЙ  СТРАХ  И
    РИСК!
    Минификатор уменьшает размер генерируемого движком HTML-кода  путем  замены
    нескольких  идущих  подряд  пустых  символов  (перевод  строки,  табуляция,
    пробел) одним символом пробела.
    Минификатор умеет сжимать HTML и встроенный JS-код. Для JS-кода он  так  же
    удаляет однострочные комментарии.
    Минификатор работает на уровне темплейтов и если включено  кэширование,  то
    минификатор вызывается  только  один  раз  при  компиляции  кода  и  дальше
    кэшируется   уменьшенный   скомпилированный   темплейт,    что    исключает
    необходимость в повторном вызове минификатора. Этим он  выгодно  отличается
    от  минификаторов, работающих на уровне сессии через ob_hanler()
    В  среднем  по  сайту  минификатор   дает   выигрыш   порядка   7-8%%   при
    незначительном падении производительности.
    По  умолчанию  минификатор  отключен.  Включить  его  можно  в  админке   в
    настройках сервера - пункт "Минификатор темплейтов"


2012-02-12 21:37 33a23.1
[~] Чёрный Рынок: Письма от Продавца  Информации  всегда  приходят  в  почтовый
    ящик - даже если у игрока отключено получение  шпионских  отчетов.  Мистика
    какая-то!


2012-02-12 21:11 33a23 - Infotrader
[!] Чёрный Рынок: Продавец информации
    На Чёрном Рынке доступна новая услуга: продажа информации.
    Информация об игроке: текущие уровни активных Наемников


2012-02-12 15:40 33a22.2
[~] Чёрный Рынок
    Редизайн основного экрана и экрана обмена ресурсов
    Откуда взялась эта странная надпись? Очень странно...

[@] Чёрный Рынок: Почищены языковые файы от неиспользуемых строк


2012-02-12 13:40 33a22.1
[%] UBE: Исправлена ошибка неучета бонуса  Альянсов  в  бою.  ВНИМАНИЕ!  Бонусы
    Альянса и от Наемников по-прежнему не будут видны в логе боя!


2012-02-11 22:08 33a22 - Log rename
[~] Вселенная:   Все  действия  по  переименованию  галактик  и  систем  теперь
    записываются в лог - код события 104

[@] Админка: Редизайн интерфейса просмотра логов (бывш. "Ошибки")


2012-02-11 03:50 33a21 - Allie's research que indication
[+] Альянсы:  На  страницу  информации  об  Альянсе  для  участников  добавлена
    индикация очереди исследований

[~] Исследования: Если исследования проводит  Альянс  это  видно  по  заголовку
    страницы

[%] Альянс: Бонус от ресурсов теперь отображаются правильно - "Не доступен"

[@] Модули: Если не найден INCLUDE файл темплейта  в  каталоге  модуля,  движок
    пытается подключить аналогичный файл из каталога основного темплейта


2012-02-10 19:19 33a20.2
[!] ВНИМАНИЕ!!! PHP 5.3.1 содержит баг, который делает невозможной  полноценную
    работу СН начиная с v33a12! Обновите  PHP,  или  сделайте  откат  до  более
    ранней версии PHP, или используйте предыдущую версию СН.
    Описание бага: https://bugs.php.net/bug.php?id=50394

[%] Исправлена пропажа топбара в PHP 5.3.x

[@] Среда разработки изменена на WAMP Server 2.2. Конфигурация:
    MySQL 5.1.41
    Apache 2.2
    PHP 5.2.9-2 + xCache 1.3.2


2012-02-10 01:40 33a20.1
[@] Новости: Изменения в редактировании новости
    При редактировании новости галочка рассылки новости по умолчанию отключена
    При  редактировании  новости  не  изменяется  глобальное  время   написания
    последней новости -  т.е.  отредактированная  новость  не  включает  список
    последних новостей на обзоре планеты
[@] Файлы: Удалены неиспользуемые файлы faq.php, faq1.php, faq2.php


2012-02-10 01:17 33a20 changelog - now with HTML taste!
[+] Документация: Добавлен /docs/changelog.html - чейнджлог в формате html


2012-02-09 20:11 33a19
[%] Исследования: При отмене исследования ресурсы возвращаются  не  на  текущую
    планету, а на ту, с которой были взяты


2012-02-09 10:52 33a18.3
[~] JS: Восстановлена расцветка чисел


2012-02-09 00:19 33a18.2
[~] Список планет: Клик на иконке  летящего  союзного  флота  теперь  открывает
    сраницу "Флоты в полете"

[%] Исследования: Исправлена ошибка исследования

[@] Оптимизирована eco_get_build_data()
[@] Файл todo.txt заменен на todo.xls


2012-02-08 01:56 33a18.1
[~] Исследования: Награда за квесты на исследование теперь  всегда  начисляется
    на основную планету игрока

[%] Исследования: Исправлена ошибка  начисления  награды  за  исследовательские
    квесты исследования в виде металла/кристалла/дейтерия
[%] Админка: Исправлена ошибка создания квеста


2012-02-07 02:10 33a18 - Indicating Ally Res
[+] Альянсы: В топбар добавлено отображение ресурсов Альянса

[%] Альянсы:  Исправлена  ошибка  отображения  списка  ресурсов  при  просмотре
    Альянса сторонним игроком


2012-02-06 00:21 33a17 - Ally Tech
[#] Альянсы:  Альянсы  теперь  могут  рекрутировать  Наемников  и  исследовать
    технологии!
    1. Каждый Альянс имеет счет с ресурсами металл/кристалл/дейтерий/ТМ
    2. Член Альянса может перевести ресурсы на счет Альянса. Сделать это  можно
       на главной странице Альянса в разделе "Ресурсы Альянса".  Там  же  можно
       увидеть состояние счета Альянса и бонусы, предоставляемые Альянсом  (см.
       ниже)
    3. Ресурсы со счета Альянса могут расходоваться только  на  нужды  Альянса.
       Вывод ресурсов со счета Альянса невозможен
    4.  Владелец  Альянса  с  его  счета   может   исследовать   технологии   и
       Рекрутировать Наемников - соответственно пункты "Технологии  Альянса"  и
       "Наемники Альянса" на странице управления Альянсом
    5. После достижения минимально необходимого размера Альянса (10 человек  по
       умолчанию, задается  в  таблице  `config`  записью  'ali_bonus_members')
       каждый член Альянса получает бонус к своим Наемникам и технологиям
    6. Значение бонуса зависит от количества игроков в Альянсе и вычисляется по
       формуле: Бонус = round(уровень  технологии  или  Наемника  /  количество
       игроков),  где round() - операция математического округления.
    7. Бонусы   от  Наемников  и  Технологий  так  же  действуют  при  проверки
       требований  к  постройкам/исследованиям.  Например:  игрок   состоит   в
       Альянсе, дающем бонус  +2  к  Лазерной  технологии,  а  его  собственный
       уровень технологии равен 4. Эффективный уровень технологии этого  игрока
       равен 6. Это  означает,  что  находясь  в  Альянсе  он  имеет  доступ  к
       исследованию Ионной  технологии  (требуется  ЛТ  5-го  уровня)  и  может
       строить Тяжелый Лазер (требуется ЛТ 6-го уровня). Очевидно, если  бы  он
       не находился в Альянсе, эти постройки были бы заблокированы
    8. При исследовании технологии уровень лаборатории равен количеству игроков
       в Альянсе на момент начала  исследования.  Активные  исследования  видны
       членам Альянса на странице информации
    Примеры:
      1. Альянс из 10 человек купил Технологию 4 уровня. Бонус = round(4/10)  =
         round(0,4) = 0
      2. Альянс из 10 человек купил Технологию 7 уровня. Бонус = round(7/10)  =
         round(0,7) = 1
    Выбранная механика бонусов  Альянса  призван  обеспечить  достижение  сразу
    нескольких целей:
    1. Исключить злоупотребление фишкой,  когда  2-3  игрока  формируют  Альянс
       исключительно для получения бонусов
    2. Активизировать межальянсную активность: бонусы от ресусов Альянса  можно
       получить только начиная с определенного количества участников. Ну и  чем
       больше игроков в Альянсе, тем больше у него ресурсов
    3. Усилить лояльность игроков к  Альянсу  -  при  выходе  (или  выгоне)  из
       Альянса игрок теряет  все  бонусы  и  (самое  неприятное)  все  ресурсы,
       пожертвованные  в Альянс
    4. Исключить появление  мегаальянсов:  чем  больше  игроков  -  тем  больше
       ресурсов они могут пожертвовать, но тем меньше  бонусов  получит  каждый
       отдельный игрок
    5. Слабые игроки в сильных  Альянсах  получают  доступ  к  end-game  юнитам
       (если, конечно, глава Альянса  решит  потратить  ТМ  на  соответствующих
       Наемников) и бонус в развитии
    6. Сильные игроки смогут  поднять  эффективные  уровни  Технологий  даже  в
       больших Альянсах. Например, если в Альянсе 15 человек, то исследовать 15
       уровень технологии всем Альянсом будет  проще  и  дешевле,  чем  каждому
       игроку отдельно
    7. То же самое распространяется и на Наемников. При этом только Альянс дает
       возможность получить эффективный уровень Наемников больше максимального

[%] Ракетная атака: Исправлена ошибка, из-за которой ракеты били в  десять  раз
    слабее


2012-02-05 21:07 33a16.2
[#] Альянсы: Альянсам добавлены счета в металле, кристалле и  дейтерии. Правила
    пополнения  аналогичны счету в ТМ: класть можно, забирать - нельзя


2012-02-05 20:54 33a16.1
[@] Промежуточный коммит. Переписан интерфейс исследований для поддержки модуля
    Альянсов-игроков


2012-02-05 04:41 33a16
[!] Исследования: Очередь исследований перенесена с планет на пользователя
    1. Исследования теперь могут производится даже на планетах  со  строящимися
       лабораториями/нанолабораториями
    2.  В  случае  отсутствия  МИС  для  проведения   исследования   выбирается
       лаборатория  с  максимальным  эффективным   уровнем   (т.е.   с   учетом
       нанолабораторий)
    При апдейте все идущие исследования  будут  перенесены  в  пользовательскую
    очередь

[+] Исследования: Добавлены подробные  сообщения  об  ошибке  в  случае,  когда
    технология не может быть исследована (нехватка ресурсов,  неудовлетворенные
    требования итд)

[@] Авторизация: Добавлена проверка на попытку входа от лица Альянса
[@] Исследования: Исследования теперь завернуты в  транзакции  -  это  позволит
    избежать  злоупотреблений  связанных  с  частым  обновлением  страницы   на
    медленных соединениях


2012-02-05 00:52 33a15.2
[@] Убраны pass-by-reference в eco_bld_structures.php


2012-02-04 22:18 33a15.1
[%] Регистрация: Исправлена ошибка, когда игрок мог создать  аккаунт/планету  с
    пробелами в начале/в конце


2012-02-04 21:00 33a15
[~] Альянсы: Изменено отображение логотипа на странице Альянса

[%] Альянсы: Исправлена ошибка при отправке письма группам Альянса
[%] Альянсы: Исправлена ошибка с неправильным отображением звания главы Альянса


2012-02-04 20:19 33a14.4
[@] Убраны pass-by-reference в qst_quest.php и flt_mission_attack.php


2012-02-04 20:11 33a14.3
[%] Наемники: Исправлена ошибка с невозможностью найма ПН

[@] Убраны pass-by-reference в template.php


2012-02-04 16:12 33a14.2
[%] Исправлены ошибки в работе Альянса


2012-02-04 16:12 33a14.1
[%] Исправлены ошибки предыдущего коммита


2012-02-04 04:27 33a14
[#] Альянсы: Альянсы теперь могут покупать Наемников!
    1. Каждый Альянс имеет собственный счет ТМ
    2. Член Альянса может перевести ТМ на счет Альянса
    3. ТМ со счета Альянса могут расходоваться только на нужды Альянса.  Нельзя
       переводить ТМ на счет игрока
    4. Владелец Альянса может покупать Наемников со счета Альянса
    5. После достижения минимально необходимого количества (по умолчанию -  10,
       задается в таблице `config`  записью  'ali_bonus_members')  каждый  член
       Альянса получает бонус к своим Наемникам, равный уровню Наемника Альянса
       деленного на количество членов Альянса, математически округленный
    Примеры:
    1. Альянс из 10 человек купил Наемника 4 уровня.
        Бонус = round(10/4) = round(0,4) = 0
    2. Альянс из 10 человек купил Наемника 7 уровня
        Бонус = round(10/7) = round(0,7) = 1
    Данный подход призван обеспечить достижение сразу нескольких целей:
    1. Исключить злоупотребление фишкой,  когда  2-3  игрока  формируют  Альянс
    исключительно для получения бонусов
    2. Активизировать межальянсную активность - чем больше игроков, тем  больше
    ТМ
    3. Усилить значение лояльности Альянсу - при выходе (или выгоне) из Альянса
    игрок теряет все бонусы и, самое неприятное - все пожертвованные  в  Альянс
    ТМ
    4. Исключить появление мегаальянсов - чем  больше  игроков,  тем,  конешно,
    больше ТМ они могут пожертвовать - но тем  меньше  бонусов  получит  каждый
    отдельный игрок
    5. Слабые игроки в сильных  Альянсах  получают  доступ  к  end-game  юнитам
    (если,  конечно,  глава  Альянса  решит  потратить  ТМ  на  соответствующих
    Наемников)

[~] Наемники:   При  найме  постоянных  наемников  показывается  ровно  столько
    уровней, на сколько хватает ТМ
[~] Альянсы: Теперь список членов Альянса распознает права просматривающего без
    захода в админскую  часть,  поэтому  из  админки  убран  пункт  "Управление
    участниками"


2012-02-03 22:58 33a13
[+] Наемники: Временных наемников теперь можно  увольнять  до  истечения  срока
    найма. ВНИМАНИЕ! При увольнении наемников вся портаченная на найм ТМ  будет
    утеряна!

[~] Альянсы:  Количество  игроков  в  Альянсе  теперь   изменяется  сразу   при
    изменении, а не при апдейте статистики/обслуживании сервера

[%] Админка: Устранена ошибка в модуле  обслуживания,  приводившая  к  удалению
    записей игроков для Альянса

[@] Движок: Количество игроков теперь не включает игроков-Альянсов
[@] Локализация: Все строки локализации, относящиеся к  наемникам,  вынесены  в
    файл mrc_mercenary.mo


2012-01-29 04:27 33a12
[!] Модульность: Базовая  поддержка  модульности  -  динамически  перекрываемые
    функции. Подробное описание по использованию динамического перекытия см.  в
    разделе "Модульная система" файла /docs/readme.txt

[%] Наемники:  Исправлена  ошибка  начисления  процентных  бонусов:  в  случаях
    многократных бонусов происходило  начисление  бонуса  на  бонус,  а  не  на
    базовое значение. Это приводило к получению завышенных бонусов  -  например,
    на Адмирале и Навигаторе

[@] Статистика: файл с функциями  статистики  /functions/sys_stat_functions.php
    перемещен в /includes/includes/sys_stat.php


2012-01-27 03:58 33a11
[+]  Постройки:  Вертикальная  очередь  построек.   Включается   в   настройках
    пользователя в секции "Настройки интерфейса"

[~] Вселенная: При создании новой планеты из имени планеты  исключен  знак  "№"
    для более корректной работы функций PHP

[@] Строительство: Файлы с функциями строительства  зданий/исследований/обороны
    перенесены в каталог /includes/includes и теперь  подключаются  только  при
    вызове соответствующих страниц. Это  позволило  заметно  сократить  размеры
    кода в памяти сервера


2012-01-23 15:52 33a10
[+] Скины: Добавлена возможность перекрыть дефолтные стили  элементов  jQueryUI
    (файл /design/css/jquery.css) стилями, специфическими для скина. Для  этого
    в корневой каталог скина  нужно  положить  файл  jquerу.css  с  настройками
    стилей элемента. Сгенерировать файл под свою тему можно на сайте jQuery  по
    ссылке: http://jqueryui.com/themeroller/

[~] Скины: EpicBlue имеет собственное оформление элементов jQueryUI

[@] JS: Обновлен jQuery до версии 1.7.1. Обновлен jQuery-UI до версии 1.8.17



2012-01-22 07:39 33a9
[+] Вселенная: На попапе игрока отображается его текущее звание в Альянсе
[+] ЧР/Торговец ресурсами: Теперь  можно  поменять  ТМ  сразу  на  все  ресурсы
    (опция "Все ресурсы" в дропдауне выбора ресурсов). При этом вводимая  сумма
    будет разделена на три части и на  каждую  из  этих  третей  будет  куплено
    соответствующее количество ресурсов по курсу. Стоимость такой операции -  в
    три раза больше базовой стоимость обмена
[+] Квесты: Теперь в награду за исполнение квеста можно одновременно ставить до
    четырех видов ресурсов


2012-01-14 04:34 33a8
[!] Вселенная: Галактики и системы могут иметь собственные названия!
    1. По умолчанию галактики и системы не имеют собственных названий
    2. Увидеть текущее имя галактики или системы можно на странице "Вселенная"
    3.  Назвать  галактику  или  систему  можно   по   ссылке   "Переименовать"
    соответственно  возле  координат  галактики   или   системы   на   странице
    "Вселенная"
    4. Именование галактики или системы имеет  соотвествующую  стоимость  -  по
    умолчанию 10000 ТМ для галактики и 1000 ТМ  для  системы  -  т.н.  "базовую
    стоимость  именования".  Изменить  базовую  стоимость  именования  можно  в
    настройках  сервера.  Игроки  могут  видеть   текущую   базовую   стоимость
    именования на странице "Мировые константы"
    5.  При  именовании  галактики  или  системы  игрок  может  назначить  цену
    именования. Минимальная цена именования равна базовой стоимости именования
    6. При переименовании уже именованной галактики или системы,  игрок  должен
    уплатить ранее назначенную  стоимость  именования  плюс  базовая  стоимость
    именования. Таким образом,  если  первый  игрок  назначил  цену  именования
    системы в 2500 ТМ, а базовая цена именования системы составляет 1000 ТМ, то
    игрок, желающий переименовать ту же систему должен уплатить не меньше  3500
    ТМ. Таким образом более высокая цена именования  галактики  или  системы  в
    определенной степени защищает объект от переименования
    7. Как было сказано в п.2, имя галактики и системы видны всем игрокам


2012-01-09 03:53 33a7
[!] Наемники: Добавлена поддержка временных Наемников  (ВН).  Осталась  так  же
    поддержка постоянных Наемников (ПН). Тип Наемников выбирается в  настройках
    сервера
    1. ВН (как следует из названия) не являются постоянными,  а  нанимаются  на
    определенный срок. По истечению срока Наемник исчезает
    2. В режиме ВН отсутствует понятие "веток развития" и  для  найма  доступны
    сразу все Наемники. Соответственно не отображаются требования  к  Наемникам
    на странице "Технологии"
    3. Базовая цена покупки ПН в режиме ВН становится ценой  найма  на  базовый
    период найма (БПН). По умолчанию он равен одному среднекаелндарному  месяцу
    (30 дней, 2592000 секунд). Изменить БПН можно на странице настроек сервера
    4. Предусмотрена система скидок/наценок  в  зависимости  от  срока  покупки
    Наемника.  Настройки  содержатся  в  массиве  $mrc_hire_discount  в   файле
    /officer.php.  Индекс  элемента  -  количество  секунд  найма,  значение  -
    коэффициент скидки. "1" означает, что  на  данный  интервал  найма  нет  ни
    наценки, ни скидки и при пересчете на количество секунд в БПН его стоимость
    будет в точности равна стоимости БПН.  Если  число  меньше  единицы  -  это
    означает скидку; больше единицы - наценку
    5.  После  рекрутирования  Наемника  невозможно  изменить  его  уровень  до
    окончания срока действия найма
    6. Режим Наемников отображается на странице "Мировые константы"
    При переключении режима Наемников следует учитывать следующие особенности:
    1.  При  включении  ВН  все  постоянные  Наемники  будут  преобразованы  во
    временные со сроком действия равному БПН. В случае  необходимости  изменить
    БПН нужно СНАЧАЛА его изменить, а затем переключать режим работы Наемников
    2. После включения ВН изменение базового интервала найма не влияет  на  уже
    рекрутированных Наемников, а влияет только на цену нового найма
    3.  При  отключении  ВН  все  активные  на  этот  момент   Наемники   будут
    преобразованы в постоянные - вне зависимости от того,  на  какой  срок  они
    были наняты и сколько времени осталось до срока истечения найма. Информация
    о сроках найма при этом теряется
    4.  При  отключении  ВН  активизируются   ограничения   по   рекрутированию
    Наемников, однако уже нанятые Наемники останутся активными и  будут  влиять
    на игру вне зависимости от того, может  игрок  их  купить  или  нет.  Такой
    способ переключение выбран для исключения потери ТМ, вложенных  игроками  в
    Наемников
    Переработана  страница  рекуртирования  Наемников:
    1. Добавлена поддержка временных Наемников
    2. Стоимость найма  отображается  динамически  в  зависимости  от  текущего
    режима Наемников, выбранного уровня и срока найма
    3. В режиме ПН видны все наемники - даже  недоступные  (с  соответствующими
    пояснениями)
    4. В режиме ПН можно нанимать сразу несколько уровней Наемников

[~] Админка: Добавлены label for для всех чекбоксов


2012-01-06 15:09 33a6
[!] Альянс: Добавлена поддержка серверных логотипов  Альянсов.  Логотипы  могут
    быть  загружены  с  локального  диска  на  странице  управления   Альянсом.
    Поддерживаются файлы форматов JPG, GIF и PNG размером до 200КБ. Загруженные
    картинки будут отмасштабированы до размеров 128х128
    Логотип отображается на странице информации об Альянсе и в  попапе  Альянса
    на странице "Вселенная"

[+] Настройки: Отображение логотипов Альянсов и аватаров  игроков  на  странице
    "Вселенная" может быть отключено в настройках игроков


2012-01-05 03:26 33a5
[!] Аватары: Добавлена поддержка серверных аватаров игроков. Аватары могут быть
    загружены  с  локального   диска   на   странице   настроек   пользователя.
    Поддерживаются файлы форматов JPG, GIF и PNG размером до 200КБ. Загруженные
    картинки будут отмасштабированы до размеров 128х128
    Аватар отображается на странице "Император" и в попапе игрока  на  странице
    "Вселенная"

[+] Пол: Добавлено отображение пола игрока на странице "Император" и  в  попапе
    игрока на странице "Вселенная"

[@] Аватары: Для корректной  работы  подсистемы  аватаров  в  PHP  должен  быть
    корректно настроен временный каталог и движку должна быть разрешена  запись
    в каталог /images/avatar
    Максимальный размер аватара настраивается  в  таблице  `config`  переменные
    avatar_max_width и avatar_max_height
[@] Пол: В скины добавлена иконка пола в подкаталог "images" скина.  Файлы  для
    мужского  и  женского  пола  называются  соответственно  "sex_male.png"   и
    "sex_female.png". Встроенные скины обновлены автоматически


2012-01-04 23:12 33a4
[~] Экономика: При расчете  времени  постройки  юнитов  учитывается  не  только
    количество ресурсов, но и  их  качество.  Время  постройки  нормированы  по
    дейтерию, т.е. постройки с большей долей  низкоуровневых  ресурсов  строятся
    быстрее


2012-01-04 14:32 33a3
[~] Чат: Теперь при таймауте чата скрипт поллинга полностью прекращает работу


2012-01-04 12:08 33a2
[%] Партнерка: Исправлено отображения количества начисленных ТМ


2012-01-04 11:41 33a1
[~] Император: Теперь на  страницы  показывается  так  же  очки  за  ресурсы  и
    исследования. Немного переформатирована таблица статистики
[~] Статистика:  Оптимизирован   алгоритм   подсчета   статистики.   Отключено
    обновление "очков планеты"

[@] $sn_data['groups']['prod'] => $sn_data['groups']['factories']


2012-01-03 11:11 33a0
[~] Постройки: Информация о  постройках  кэшируется  при  заходе  на  страницу.
    Ширина таблицы построек устанавливается на максимальную из  возможных.  Это
    предотвращает "баян" - прыжки ширины таблицы построек


2011-09-19 17:16 32d0
[!] Project "SuperNova.WS" Release 32 "Happy New Year v2012!"


2011-12-30 10:04 32c1
[%] Флоты: Исправлена уязвимость, позволяющая передавать флоты  другим игрокам.
    Ненавижу хНову!


2011-09-19 17:16 32c0
[!] Project "SuperNova.WS" Release 32 RC "Happy New Year v2012!"

[@] DB: Обновлен дамп БД до версии 32


2011-12-24 15:12 32a16
[%] Исправлена ошибка с расчетом ранга в статистике из 32a15
[%] Исправлена ошибка с расчетом времени постройки строений из 32a15


2011-12-21 13:37 32a15
[~] Рекорды: Переписана страница рекордов

[%] Рекорды: Исправлена ошибка, когда в списке  рекордсменов  появлялись  члены
    команды сервера

[@] PTE: Парсер темплейтов теперь понимает конструкции вида  {L_tech[D_CONST]},
    которые будут развернуты в $lang['tech'][CONST]
[@] eco_get_build_data() возвращает  время  постройки  в  отдельном  подмассиве
    RES_TIME, а не в массивах действий BLD_CREATE/BLD_DESTROY
[@] Числовые идентификаторы для строений заменены константами STRUC_xxx


2011-12-16 21:20 32a14
[%] Исправлена уязвимость, позволяющая быстрыми многократными  постройками  или
    отменами добиться увеличения ресурсов


2011-12-12 04:24
[~] Статистика:  Статистика  теперь  считается  не  в  транзакции,  что  бы  не
    блокировать игроков. Сохраняется статистика за 10 дней


2011-12-12 04:05 32a13
[~] Экономика:  Увеличена  базовая  добыча  шахты  кристаллов  с  20  до   32.
    Соответственно увеличено энергопотребление с 10 до 16

[%] Друзья: Исправлена надпись с неправильной кодировкой при ответе  на  письмо
    друга/кандидата


2011-12-09 21:30 32a12
[~] Верфь: Обновлен интерфейс верфи
[~] Верфь: Ограничено максимальное количество строящихся юнитов на верфи


2011-12-03 22:26 32a11
[~] Скины: Обновлен скин supernova-ivash


2011-11-27 06:08 32a10
[+] Постройки:  На   ресурсогенерящие   постройки   добавлена   подсказка   по
    производительности

[~] Экономика: Производство и потребление электроэнергии теперь  масштабируется
    согласно скорости добычи


2011-11-27 01:34 32a9
[~] Постройки: Из темплейта постройки задний яваскрипт вынесен в отдельный файл
[~] Постройки: Увеличено  место  для  картинки  здания  до  150  пикселей.  Это
    предотвратит "скачки"  описания  постройки  при  перемещении  выделения  на
    иконках


2011-11-25 17:11 32a8
[%] Статистика: Исправлены ошибки в работе статистики
[%] Админка: Исправлена ошибка самопроизвольного сброса  флага  масштабирования
    хранилищ


2011-11-20 14:45 32a7
[~] Фаланга: Исправлена ошибка с неправильными названиями полей в iraks


2011-11-13 20:50
[!] Исправлена работа с большими числами:
      Все числовые значение в HTTP-запросах трактуются как  числа  с  плавающей
      запятой. Все идентификаторы передаются как строки
      Все идентификаторы в  БД  являются  BIGINT(20).  Соответствующим  образом
      переконфигурированы (добавлены или изменены) FOREIGHN KEYS
      Переработаны  все  таблицы,  что  бы  исключить  переполнение  при  любом
      разумном сценарии  использования  движка  (скажем,  вплоть  до  скоростей
      x1000000)

[%] Флоты: Исправлена ошибка при загрузки в  трюмы  одного  ресурса  более  чем
    PHP_MAX_INT


2011-11-06 20:24 32a6
[~] Постройки: Теперь при невозможности постройки юнита не затемняется название
    и текущий уровень юнита
[~] Постройки: В описании юнитов разнесены ссылки на  постройку  и  уничтожение
    юнита во избежании случайного выбора не того действия

[~] Постройки: Ссылки на создание и  уничтожение  юнитов  раскрашены  в  цвета,
    согласно  CSS  (по  умолчанию:  зеленый  для  создания,   красный   -   для
    уничтожения)

[%] Постройки: Исправлена ошибка  с  невозможностью  выбора  превьюшки  здания,
    которое нельзя построить
[%] Постройки: Исправлена ошибка с невозможностью уничтожить  постройку,  когда
    не хватает ресурсов на создание постройки, но хватает на её уничтожение


2011-10-24 17:02 32a5
[~] Флоты: Теоретическая емкость флота увеличена до BIGINT(20) по каждому  типу
    ресурсов


2011-10-24 01:01 32a4
[~] Скины: Обновлен скин СН/Иваш


2011-10-22 15:38
[~] Постройки: На лунах из списка доступных построек убрана ТЭ


2011-10-22 15:33 32a3
[%] Альянсы: Исправлена ошибка с неотображением тэга  у  членов  новосозданного
    Альянса


2011-10-22 15:06 32a2
[%] Вселенная: Исправлена ошибка с запуском  отрицательного  количества  юнитов
    через AJAX


2011-10-08 14:51 32a1
[~] Постройки:  Показываются  все  возможные  строения  на  планете/луне.  Если
    невозможно осуществить постройку - показывается причина
    Иконки  информации  и   своза   ресурсов   поменялись   местами,   что   бы
    соответствовать  расположению  иконки  своза  ресурсов  на  списке   планет
    (Обзор/Империя)


2011-10-03 19:08 32a0
[~] Скины: СН/Иваш - заменен бэкграунд в ячейках заголовка таблицы


2011-09-30 11:10 31d0
[!] Project "SuperNova.WS" Release 31 "Artifact governors edit localized inflation"


2011-09-28 22:32 31c4
[+] Император: Добавлено отображение исследовательских уровня, текущего опыта и
    опыта, необходимого для перехода на следующий уровень

[%] Император: Исправлена ошибка отображения  опыта  для  следующего  уровня  -
    показывался опыт, необходимый для набора текущего уровня


2011-09-27 13:54
[%] Локализация:  Восстановлены  названия  кораблей  в  описаниях  двигательных
    технологий


2011-09-25 18:09 31c3
[!] Скины: Новый скин "supernova-ivash". Автор - Ivash

[+] Новапедия: Включена страница информации для Артефактов. Добавлены  описания
    всех стандартных ресурсов на русском и английском языках, а так же включена
    страница информации для них

[%] Исправлен  неработающий   просмотр   бана   при   входе   заблокированного
    пользователя


2011-09-23 00:22 31c2
[%] Технологии: Исправлена ошибка с исследованием Гравитехи  при  отрицательном
    балансе энергии


2011-09-22 17:15
[%] Отладка: Файл отладки перекодирован в UTF8


2011-09-21 22:14 31c1
[%] Технологии: Исправлена ошибка с невозможностью исследования  Гравитационной
    техонологии


2011-09-19 17:16 31c0
[!] Project "SuperNova.WS" Release 31 RC "Artifact governors edit localized inflation"


2011-09-18 13:37
[%] Бой: Исправлена ошибка с Гипертранспортом


2011-09-17 22:32
[~] Верфь: Заменена картинка Гипертранспорта на аналог в другой палитре


2011-09-16 23:46
[~] Здания: Теперь при количестве нужных ресурсов для постройки больше 1ккк  на
    превьюшках постройки показывается укороченное название ресурсов


2011-09-16 22:58
[~] Админка: Редактирование планеты теперь показывает юниты только если выбрана
    планета для редактирования


2011-09-15 23:04 31a19
[!] Флот: Новый корабль - Гипертранспорт. Предназначен для  ТОП  игроков  и/или
    скоростных Вселенных


2011-09-15 12:17
[%] Артефакты: МАКК разворачивает робофабрику 4го уровня - согласно описанию


2011-09-14 21:34
[~] Технологии:  Пересмотрены  технологии.  Устранены  противоречия  в  ветках
    развития  (например,  ионный   двигатель   можно   было   исследовать   без
    технологии). Технологии переупорядочены в более логичном порядке


2011-09-12 16:05
[%] Здания: Исправлена невозможность постройки терраформера


2011-09-12 12:39
[%] Шпионаж: Ссылка в отчете на  просканированную  планету  теперь  переключает
    галактику и систему


2011-09-12 12:31
[%] Исследования: Исправлена  ошибка  бесплатного  исследования  Гравитационной
    технологии


2011-09-11 18:22 31a18
[+] Строительство/Здания: В ссылке на уничтожение здания указывается количество
    требуемых ресурсов и время

[-] Новапедия: Со страницы информации о зданиях убрана  ссылка  на  уничтожение
    здания

[@] Перераспределены функции между файлами


2011-09-11 13:03
[~] Фаланга: Изменение алгоритма - фаланга теперь не  видит  флоты,  летящие  с
    луны. Так же фаланга не видит флоты, летящие с заданием "Удержание"
[~] Локализация: Ни один из встроенных языковых доменов больше не  нуждается  в
    ручном редактировании после использования редактора локализаций


2011-09-11 00:35 31a17
[~] Фаланга:  Исправлен  и  переработан  алгоритм  работы  фаланги.  Добавлено
    исключение при полете флота с луны:
      Особый случай: флот летит с луны A --> B
       a) флот виден только на B, но не на луне A
       b) возвращающийся на луну флот не виден нигде


2011-09-10 13:49
[~] Губернаторы: Эффект Фортификатора  приведен  в  соответствие  с  описанием.
    Теперь  он  улучшает  не  технологии  хозяина  планеты,  а  непосредственно
    характеристики флота и обороны


2011-09-08 22:21 31a16
[!] Тёмная Материя: За исследования начисляются опыт,  за  опыт  -  уровни,  за
    уровни - ТМ. Таблица необходимого опыта  для  набора  уровней  эквивалентна
    таблице опыта  за  постройки  (см.  /docs/readme.txt).  За  каждый  уровень
    начисляется 1000 ТМ


2011-09-07 21:36 31a15
[+] Экономика: Новая  настройка  сервера  "Масштабировать  склады  от  скорости
    добычи". Настройка доступна в общих настройках сервера  в  разделе  "Прочие
    параметры". По умолчанию возможность отключена

[%] Локализация/EN: Исправлены некоторые очепятки

[@] Админка/Настройки:  Состояние  все  чекбоксов  (включен/выключен)   теперь
    определются в темлейте


2011-09-05 22:28
[%] Шпионаж: Исправлена ошибка в сообщении об детектировании шпионажа


2011-09-04 18:25
[%] Локализация/EN: Исправлены ошибки с двумя l в "Metall" и "Crystall"


2011-09-04 01:06 31a14
[~] Шпионаж: Оптимизирована процедура генерации шпионского рапорта

[%] Шпионаж: Корректно выставляется время шпионского рапорта


2011-09-03 01:42
[~] Партнерка: Добавлено  ограничение  по  минимальному  количеству  ТМ,  после
    которого   начинается   начисление   бонусов   реферралу    -    переменная
    "rpg_bonus_minimum" в таблице "config"
[%] Партнерка: Исправлена ошибка в количестве начисляемых бонусов


2011-09-01 15:39
[~] Вселенная: При обнаружении  планеты  с  отсутствующим  пользователем  в  БД
    планета удаляется с отсрочкой 24 часа


2011-08-31 23:24
[%] Локализация: Исправлена ошибка локализации отношения Альянсов


2011-08-31 23:08
[%] Новапедия: Убрана отладка на кораблях
[%] Император: Изменена нелокализованная строка


2011-08-31 03:15 31a13
[!] Артефакты: Добавлены Артефакты - Автономный  Колонизирующий  Комплекс  трех
    уровней


2011-08-30 23:25
[%] Локализация:  Добавлен  патч  для  серверов  с   неправильно   настроенной
    кодировкой в HTTP-заголовке


2011-08-30 02:19
[~] Артефакты: При нехватке  ТМ  для  покупки  Артефакта  выводится  не  только
    уведомление, но и цена Артефакта


2011-08-30 02:00
[~] Новости: В "Обзоре планеты" выводятся только  непрочитанные  новости  и  не
    более, чем указано в настройках сервера (по умолчанию - 3)


2011-08-30 01:40 31a12
[!] Артефакты: Добавлена подсистема Артефактов - редких объектов с  уникальными
    свойствами. Артефакты можно купить за ТМ. Артефакты являются одноразовыми -
    после  использования  Артефакт  исчезает.  Некоторые  Артефакты   настолько
    мощные,  что  их  количество  в  одной  Империи  ограничено.  Использование
    некоторых  Артефактов  привязано  к  планетам  -  т.е.  их   эффект   будет
    распространятся  только  на  эту   планету.   Эффекты   других   Артефактов
    распространяются на всю Империю. Особо  мощные  Артефакты  могут  оказывать
    влияние на солнечную систему, галактику или даже Вселенную
    Новый Артефакт - "Большой Адронный Колайдер"


2011-08-28 22:29
[%] Экспедиции: Исправлена ошибка неначисления ТМ


2011-08-28 18:45 31a11
[!] Экономика: ТМ смасштабирована в отношении 1 к 1000. Т.е. весь приход  ТМ  и
    все цены в ТМ увеличены в 1000 раз. Так же отмасштабированы награды текущих
    квестов

[+] Вселенная: В попап Альянсов добавлен его ранг

[~] Статистика: Изменен  расчет  статистики.  Теперь  в  тратах  каждый  ресурс
    считается согласно курсу обмена.  Таким  образом  игроки  с  более  ценными
    ресурсами получат больше очков
[~] Поиск: Оптимизированы запросы поиска
    При поиске Альянса поиск подстроки происходит одновременно в имени и тэге

[@] БД: В таблице `users` убраны неиспользуемые поля. Изменены типы  нескольких
    полей на более логичные. Добавлено поле `ally_tag`
    В таблицы `users` и `alliance` добавлены поля с текущими значениями ранга и
    очков статистики


2011-08-24 23:22 31a10
[!] Локализация: Добавлены копирайты в файлы локализации


2011-08-24 23:13
[!] Редактор локализаций: Оптимизирована работа редактора
    Редактор теперь корректно работает с константами внутри файлов локализаций.
    Список  файлов,  требующих  ручного  редактирования   после   использования
    редактора теперь включает только "options" и "system"
    Добавлена возможность добавления и удаления строк локализации
[!] Локализация: Все файлы локализации пропущены через редактор и  приведены  к
    одному виду


2011-08-24 06:56 31a9
[!] Локализация:  В  админке  добавлен  редактор  локализаций  -  пункт   меню
    "Локализация" в разделе "Утилиты". Логика работы редактора следующая:
    1. Выбор пункта  меню  "Локализация"  открывает  выбор  т.н.  "домена"  для
    редактирования. Домен - это совокупность строк локализации,  относящихся  к
    отдельному   аспекту   игры.   Домен   эквивалентен   языковому   файлу   с
    соответствующим именем
    2.  После  выбора  домена  и  подтверждения  выбора  открывается   страница
    редактирования строк локализации. Открытие больших  файлов  может  занимать
    существенное время - поэтому запаситесь терпением
    3. После редактирования строк локализации и подтверждения редактор  создаст
    файлы "<имя домена>.mo.new" в каждой папке языка
    4. Файлы .mo.new имеют приоритет перед обычными  .mo  файлами  локализации.
    Т.е. если в одном языковом каталоге присутствуют оба типа файлов,  редактор
    загрузит для редактирования .mo.new
    5. Для того, что бы движок  подгрузил  новый  файл  локализации,  требуется
    изменить его расширение с .mo.new  на  .mo.  Обычно  это  перезапишет  файл
    текущий файл локализации - поэтому следует заранее  сделать  его  резервную
    копию
    6. ВНИМАНИЕ! Следует соблюдать осторожность при  замене  старых  файлов  на
    новые! Редактор разрешает идентификаторы констант в их  реальное  значение,
    не  сохраняет  комментарии  и  игнорирует  дополнительный  код   в   файлах
    локализации - включая подстановку значений в infos.mo! В результате простая
    перезапись файлов может нарушить нормальную работу  подсистемы  локализации
    движка!   Для   отдельных   файлов   может   потребоваться   дополнительное
    редактирование "ручками" и добавление  исполнимого  кода  из  оригинального
    файла!
    7. Следующие домены используют дополнительный  PHP-код  и  требуют  ручного
    вмешательства при редактировании: fleet, infos,  login,  market,  messages,
    options, system
    8.  Следующие  домены   используют   константы   alliance,   tech,   quest.
    Рекомендуется ручное редактирование этих файлов, однако оно не требуется


2011-08-23 15:18
[%] Чат: Исправлена кодировка чата


2011-08-23 14:41 31a8
[!] Локализация: СуперНова использует  кодировку  UTF-8  при  работе  с  БД  и
    рендере HTML-страниц. Таким образом поддерживаются любые наборы символов


2011-08-23 00:01 31a7
[!] Локализация: Язык и кодировка теперь зависят от загруженного языка


2011-08-22 22:57 31a6.1
[+] Наемники: Добавлено подтверждение при  покупке  губернатора,  отличного  от
    текущего. Добавлена защита от повторной покупки губернатора  при  случайном
    обновлении страницы


2011-08-22 21:50 31a6
[+] Наемники: Фортификатор дает хозяину планеты бонус 10% за каждый  уровень  к
    атаке, броне и щитам при обороне


2011-08-22 21:04 31a5.1
[~] ТМ: Изменения в ТМ текущего игрока отображаются сразу по факту

[%] ТМ: Исправлена ошибка вычета  ТМ  при  найме  губернаторов,  которая  могла
    привести к отрицательному количеству ТМ у игрока

[@] ТМ: Изменение ТМ в переменной $user производится в теле rpg_points_change


2011-08-22 00:28
[~] Список планет: Добавлена всплывающая подсказка на иконку губернатора


2011-08-21 23:01 31a5
[+] Новости: Добавлена лента новостей на  страницу  обзора  планеты.  Выводятся
    только 3 последние свежие новости

[@] Новости:  На  странице  новостей,  странице  Императора  и  обзоре  планеты
    рендерятся одной процедурой и используют один  темплейт.  Индикатор  свежих
    новостей теперь  ориентируется  на  дату  просмотра,  а  не  на  количество
    новостей
[@] ТМ: Исправлена лишняя ошибка в логах, если количество изменяемой ТМ равно 0
    (например, при бесплатном рынке или офицерах)


2011-08-21 21:39
[@] Апдейтер: Доработан апдейтер, что бы предотвратить зацикливание
[@] Админка: В "Утилиты" добавлена  возможность  форсировать  только  последний
    апдейт


2011-08-21 21:20
[~] Губернаторы: Надпись "Нет губернатора" изменена на "Нанять губернатора"


2011-08-21 20:20 31a4
[+] Список  планет:  На  изображения  планет   добавлен   индикатор   текущего
    губернатора и его уровень
[~] Управление планетой: На лунах убран губернатор "Технолог", как  не  имеющий
    смысла


2011-08-21 18:29 31a3.1
[!] Наемники: Произведены следующие изменения в наемниках (бывш. "офицеры"):
      1. Академик опять стал общеимперским наемником
      2. Максимальный уровень карго-мастера увеличен до 20
      3. Защитник упразднен, а его функции переданы Фортификатору (см. ниже)
      4. Реорганизованы ветки развития наемников
        "Шахтерская" теперь выглядит как "Карго-мастер" - "Шпион" -  "Академик"
        - "Разрушитель"
        "Атакерская  "  теперь  выглядит  как  "Адмирал"  -   "Координатор"   -
        "Навигатор" - "Ассасин"
    Произведены следующие изменения в губернаторах:
    1. Новый губернатор "Технолог" объединяет функции Геолога и  Энергетика
       БС = 1, Фактор = 1.06, стоимость 20 уровня - 31 ТМ, не имеет ограничения
       по уровню. С 5-го уровня позволяет строить  термоядерную  электростанцию
    2. Новый губернатор "Инженер" объединяет функции Архитектора и Конструктора
       БС = 0.5,  Фактор  =  1.25,  стоимость  на  10-м  уровне  -  10  ТМ,  на
       макисмальном 15-м - 63 ТМ
    3. "Фортификатор" так же исполняет для планеты функции Защитника
       БС = 2, Фактор = 1, стоимость максимального 8-го уровня - 16 ТМ. С  3-го
       уровня позволяет  строить  Планетарную  защиту


2011-08-20 04:08 31a3
[!] Наемники:  Произведено  разделение  наемников  на  "просто  наемников"   и
    "губернаторов".   "Просто   наемники"   обладают   всеимперским    бонусом.
    "Губернаторы" обладают локальным планетарным бонусом  и  должны  покупаться
    индивидуально на каждую планету
    Система губернаторов cбалансирована следующим образом:
    1.  В  губернаторы  произведены  следующие  офицеры:   Геолог,   Энергетик,
    Архитектор, Конструктор, Академик, Фортификатор
    2. Вся ТМ за бывших офицеров возвернута игрокам
    3. Балансировка губернаторов проведена из  расчета  на  "среднего  игрока",
    имеющего 3 планеты. Такие игроки не получат  пенальти  при  оснащении  всех
    планет  губернаторами.  Понятно,  что  общая   производительность   Империи
    уменшитя, однако это те жертвы, на  которые  я  готов  пойти.  В  целом  же
    изменение направлено на уменьшение среднего  количества  ТМ  у  игроков.  В
    особенности - у топов и саб-топов
    4. Стоимость наемников теперь рассчитывается по формуле:
      БС * (Фактор ^ Уровень), где
      БС - базовая стоимость наемника
      Фактор - заранее заданная величина
      ^ - операция возведения в степень
      Уровень - новый уровень наемника
    5. Оставшиеся офицеры-наемники перебалансированы с учетом изменений
    Губернаторы изменены следующим образом:
    1. Геолог. БС = 1, Фактор = 1.1. Базовый губернатор  и  -  самый  полезный.
    Доступен игрокам практически с самого начал - БС составляет всего 1 ТМ.  Не
    имеет ограничений по уровню - поэтому имеет такой высокий Фактор
    2. Энергетик. БС = 1, Фактор = 1.025. Специфический губернатор,  нужный  на
    планетах с очень низкой температурой.  Откровенно  говоря  -  слабополезен,
    поэтому очень дешев. И поэтому же не имеет ограничений по уровню
    3. Архитектор. БС = 0.6, Фактор = 1.2. Чрезвычайно  полезен  для  застройки
    новой колонии. Незаменим для начинающих игроков.  После  отстройки  колоний
    скорее всего будет заменен на другого офицера - в зависимости от назначения
    планеты. Весьма доступен из-за низкой БС,  однако  не  дает  топам  особого
    преимущества  из-за  высокого  Фактора.  Ограничен  15-м  уровнем
    4. Конструктор. БС = 0.2, Фактор = 1.3. Позволяет начинающим игрокам  после
    отстройки колоний быстрее  производить  стартовый  флот.  Что  бы  избежать
    злоупотреблений наемника топами имеет очень высокий Фактор. Ограничен  15-м
    уровнем
    5. Академик. БС = 0.2, Фактор = 1.3. Аналогично Конструктору  имеет  низкую
    стартовую цену что бы помочь начинающему игроку  исследовать  технологии  и
    очень высокий Фактор, что бы воспрепятствовать  топам  использовать  низкую
    цену. Ограничен 15-м уровнем
    6. Фортификатор. БС = 2, Фактор =  1.  Офицер  для  "поплавков".  Т.е.  для
    топов, имеющих возможность делать "поплавки". Характеристики  -  временные.
    Планирутся добавление бонуса к боевым характеристикам  защитных  сооружений
    и, возможно, планетарного флота. Ограничен 8-м уровнем


2011-08-19 16:08
[~] Постройки: Оптимзировано удаление построек из очереди


2011-08-17 02:07 31a2
[!] Межгалактические Врата: Интерфейс Врат  вынесен  на  отдельную  страницу  и
    доступен с Обзора планеты (куда вынесен таймер готовности врат)
    Все таймеры врат заменены на sn_timer


2011-08-16 23:16
[@] Новапедия: InsertJavaScriptChronoApplet перенесен в infos.php. Основной код
    вынесен из функции в тело файла


2011-08-15 01:23 31a1
[%] Флоты: Добавлен патч для mysql-серверов со  включенным  STRICT_TRANS_TABLES
    при отправке флотов


2011-08-13 11:31
[~] Вселенная: Исправлена ошибка отправки ракет


2011-08-09 14:40
[%] Админка: Исправлена ошибка неначисления ТМ  при  вводе  имени  планеты  или
    пользователя


2011-08-08 03:24
[%] Флоты: Исправлена ошибка со свозом ресурсов


2011-08-08 03:10
[%] Флоты: Исправлены ошибки с отправкой флота


2011-08-08 02:11
[~] Луна: Имя создаваемой луны теперь не такое длинное


2011-08-08 00:53 31a0
[+] Обзор  планеты/Обзор  Империи:  Таймер  очереди  строительства  зданий  под
    иконкой планеты теперь переключается на  следующее  здание  в  очереди  при
    окончании строительства текущего. Ранее таймер  показывал  только  прогресс
    постройки первого здания в очереди
[+] Инфо/Флот: Показываются текущие характеристики корабля (с учетом  наемников
    и технологий)

[@] SYS: Устаревшие функции заменены актуальными аналогами:
      int_buildCounter => tpl_parse_planet
      GetTargetDistance, GetMissionDuration, GetFleetConsumption =>
        flt_travel_data
      GetShipConsumption, get_ship_speed => get_ship_data
      GetFleetMaxSpeed => flt_fleet_speed
[@] SYS: В описании структуры кораблей (vars.php) данные о двигателях  вынесены
    в  отдельный  массив  'engine'.  Теперь  можно   указывать   неограниченное
    количество двигателей для апгрейда корабля


2011-08-07 18:13 30d4
[%] Локализация: Исправлена ошибка загрузки не-дефолтного языка


2011-08-06 18:10
[!] Документация: Добавлен файл с английской версией  инструкции  по  установке
    /docs/install-en.txt (google translated)


2011-08-06 15:01 30d3
[!] Локализация:  Выбранный  при  регистрации  язык  сохраняется  в  настройках
    пользователя. Все страницы, доступные до  входа  в  игру,  показываются  на
    выбранном языке


2011-08-06 14:01 30d2
[!]  Локализация:  Доступен  выбор  языка  до  входа  в  игру:   на   страницах
регистрации, логина, восстановления забытого пароля

[%] Сообщения:  Исправлена  ошибка  отправки  сообщений  от  системы  на  mySQL
    серверах со STRICT_TRANS_TABLES


2011-08-05 13:08 30d1
[%] Отправка флотов: Исправлена ошибка на mySQL серверах со STRICT_TRANS_TABLES


2011-08-05 01:45 30d0
[!] Project "SuperNova.WS" Release 30 "Emailing phalanx research antiSSF"


2011-08-02 21:35
[@] Обслуживание: Корректно пересчитывается количество аккаунтов в БД


2011-07-27 01:48 30c0
[!] Project "SuperNova.WS" Release 30 "Emailing phalanx research antiSSF" RC0


2011-07-24 14:27 29d25
[~] Вселенная:  Теперь  при  создании  луны  с  орбиты  списывается  количество
    обломков, из которых сформировалась луна


2011-07-24 00:25
[@] Общие: Устаревшие массивы  $pricelist,  $resources,  $reslist,  $sn_groups,
    $CombatCaps заменены в коде на $sn_data


2011-07-23 23:05
[@] Общие: Устаревшая функция SYS_mysqlSmartEscape заменена на соответствующие


2011-07-23 19:15 29d24
[!] АнтиРМФ: Если флот атакующего уничтожен за один раунд, то:
      1. Атакующий не получает отчета о бое
      2. Флоты, находящиеся в удержании так и остаются на орбите
[+] Сообщения: Изменена процедура  генерации  писем  с  уведомлением  о  боевом
    отчете следующим образом:
      1. Если бой  закончился  за  один  раунд  проигрышем  атакующего,  то  он
         получает сообщение о том, что связь с флотом прервалась и не  получает
         никакой дополнительной информации (включая ссылку на боевой отчет)
      2. Теперь все участники боя (включая членов  САБа  и  хозяинов  флотов  в
         удержании) получают одинаковые письма (кроме случая, описанного в п.1)
      3. Уведомление о бое всегда содержит потери атакующих  и  оброняющихся  и
         сведения о поле обломков
      4. Сведения о вывозе ресурсов с планеты добавляются в  отчет  только  при
         выигрыше атакующих
      5. Уведомления теперь корректно окрашиваются  для  всех  участников  боя:
         красным, если участник проиграл, зеленым - если выиграл, оранжевым - в
         случае ничьи
      6. Все числа в уведомлении теперь форматируются
[~] Боевой отчет: Если в результате боя появилась луна, то в отчет  пишется  её
    имя, а не имя планеты, на орбите которой она была создана


2011-07-23 16:17 29d23
[+] Чат:  Боевые  отчеты  теперь  преобразуются  в  ссылки.   Из   соображений
    безопасности работают только ссылки на текущем сервере. По клику на  ссылку
    боевой отчет открывается в новом окне


2011-07-23 15:28 29d22
[+] Исследования: Полностью переписан интерфейс Лаборатории
    Очередь исследований приведена к стандартному виду
    Обработка очереди исследований теперь производится  при  каждом  обновлении
    страницы, а не только при входе в интерфейс Лаборатории


2011-07-22 21:05 29d21
[+] Исследования: Используется PTL и sn_timer
[@] Разное: Часть функций помечена как deprecated и должны быть заменены


2011-07-22 19:09
[!] Исследования: Переработан интерфейс страницы исследований


2011-07-22 17:13
[%] Верфь: Ограниченные в количестве  постройки  (щиты,  ПЗ  и  ракеты)  теперь
    отображают точное количество юнитов, которое можно построить,  а  не  общее
    количество, исходя из ресурсов на планете


2011-07-16 23:47 29d20
[+] Админка/Список планет: "Список планет", "Список лун" и  "Активные  планеты"
    используют один и тот же код и шаблон. Список планет теперь показывает  тип
    планеты, хозяина планеты (имя и ИД), а для лун - родительскую планету и  её
    ИД
[~] Админка/Бан: По умолчанию включена галочка РО и выставлен срок бана в 3 дня
    Бан и разбан объединены в один пункт меню и на одну страницу интерфейса
[~] Админка/Меню: Объединены разделы "Планета" и "Луна" в раздел "Вселенная"
    Под названием сервера добавлены часы серверного времени

[%] Сообщения: Исправлены ошибки в CSS


2011-07-16 19:23 29d19
[+] Сообщения:  Изменена  цветовая  кодировка  сообщений.
    Категории  сообщений переупорядочены
    Добавлена  возможность  очистить  сообщения  определенной   категории,   не
    открывая их - на случай переполнения  почтового ящика
    Добавлена подсказка

[@] Сообщения: Переработаны файлы локализации


2011-07-16 19:23 29d18
[%] Обзор планеты: Исправлено зацикливание обновления страницы после  окончания
    исследования


2011-07-16 19:15
[~] Офицеры: Уровень офицеров указывается и при максимальном уровне


2011-07-15 23:04
[~] Верфь: Небольшая доработка интерфейса
[~] Флоты: Переупорядочен список кораблей
[~] Новапедия: Отредактировано короткое описание большого транспорта


2011-07-15 22:29 29d17
[!] Админка: С нуля создан интерфейс редактирования юнитов/ресурсов на  планете
    - пункт меню  "Редактировать"  в  разделе  "Планета".  Он  доступен  членам
    команды начиная с Оператора (authlevel=2) и выше


2011-07-15 19:56 26d16
[!] Фаланга: Новый алгоритм работы фаланги. Алгоритм работы - почти оффовский:
    1. Показываются все флоты, летящие от сканируемой планеты или же к ней
    2. Полет A --> B
       a) скан B => можно увидеть время прибытия флота
       b) скан A => можно увидеть время возвращения флота (но не  его  прибытия
       на B)
    3. Возвращение B --> A
       a) скан B => не видно ничего
       b) скан A => виден возвращающийся флот
    4. Особый случай: задание "Передислокация" A --> B
       a) флот виден только на B, но не на A
       b) после отзыва флот нигде не виден
    5. Полнота информации о флотах зависит от уровня шпионажа (см. ниже)
[+] Обзор планеты/Фаланга: На  количество  отображаемой  информации  о  летящих
    чужих флотах влияет эффективный уровень шпионажа (технология+наемник):
    Меньше 4 - нет информации о летящем флоте
    4 и выше - видно общее количество кораблей во флоте и везет ли флот ресурсы
    6 и выше - виден качественный состав флота - т.е. сколько групп кораблей во
    флоте и сколько кораблей в каждой группе
    8 и выше - видно точное количество ресурсов в трюмах кораблей
    10 и выше - виден количественный состав флота


2011-07-15 17:40
[%] sn_timer: Исправлена ошибка подсчета общего времени постройки


2011-07-15 17:17
[@] Настройки: Константа  VACATION_TIME  перенесена  в  таблицу  config  (опция
player_vacation_time). Добавлена опция player_delete_time


2011-07-14 03:46 V29d15
[+] Верфь: Вид очереди построек обновлен. Теперь они выглядят  так  же,  как  и
    очередь  постройки  зданий.
    Добавлена возможность удалить последний добавленный элемент из очереди
    Кнопка "Построить" дублируется возле каждого юнита. Функционал  сохранен  -
    по её нажатию будут построены все выбранные юниты
[+] Обзор планеты: Вид очереди построек верфи  и  очереди  исследований  теперь
    аналогичен очереди построек зданий

[@] sn_timer: Таймер корректно работает с очередью, в которой количество юнитов
    больше 1


2011-07-13 15:25 V29d14
[+] Сообщения:  Теперь  настройки  автоматических  уведомлений   включены   по
    умолчанию для новых игроков

[%] Локализация/Английский: Исправлены баги в локализации


2011-07-13 15:05 V29d13
[%] Вселенная: Исправлен баг с невозможностью отсылки переработчиков


2011-07-13 14:37
[%] События флота: Исправлен баг с отображением события  "Прибытие  флота"  для
    миссий "Удержание" и "Исследование" когда флот уже достиг точки  назначения
    и приступил к выполнению миссии


2011-07-12 02:52
[%]  События  флота:  Исправлен  баг  с  неотображением  названия  планеты  для
    миссий "Колонизация" и "Исследование"


2011-07-12 02:42
[~]  Настройки:  Включение  защиты  планет  от   атак   доступно   только   для
     Администраторов во избежание злоупотреблений


2011-07-12 02:16 V29d12
[+] Фаланга: Переписан вывод фаланги с использованием  функций  СН.  Теперь  он
    выглядит аналогично списку событий флота на странице "Обзор планеты"


2011-07-11 02:46
[%] Верфь: Исправлен баг показа  всех  кораблей,  а  не  только  доступных  для
    постройки


2011-07-10 23:48 V29d11
[~] Верфь: Переверстан интерфейс Верфи и Обороны


2011-07-08 02:30 V29d10
[+] Обновление: Добавлена возможность форсировать обновление в случае проблем с
    автоматическим   обновлением.    Возможность    доступна    в    интерфейсе
    Администратора, пункт меню "Утилиты"


2011-07-07 21:46 V29d9
[%] Обновление: Изменен автоапдейтер для корректной конверсии записей ТМ


2011-07-07 00:26 V29d8
[~] Админка: Убрана отладка со страницы сохранения настроек

[%] Обслуживание: Исправлена ошибка при обслуживании таблицы Альянсов


2011-07-05 16:45 V29d7
[~] Обновление: Теперь не логгируются запросы к схеме БД при обновлении

[%] Мировые константы: Убрана отладка
[%] Обновление: Добавлено имя БД к запросам информации о ключах таблицы
[%] ТМ: Исправлена ошибка создания записей в логе ТМ


2011-07-05 16:14 V29d6
[%] SQL: Исправлена ошибка с индексами в таблице users


2011-07-04 18:50 V29d5
[~] Обновление:  Ускорен   автоапдейтер   при   повторном   запуске   на   уже
    сконвертированных таблицах


2011-07-04 18:31 V29d4
[+] Антибашинг: Добавлена возможность настройки системы антибашинга на страницу
    настроек сервера
[+] Мировые константы: Добавлена информация о текущих настройках антибашинга


2011-07-03 20:25 V29d3
[~] Отладка: Теперь при отключенной  глобальной  отладке  не  генерируется  лог
    запросов
[~] Обновление: Автоапдейтер на время работы отключает отладку вне  зависимости
    от глобальных настроек
[~] Обновление: Оптимизирована работа апдейтера для апгрейда с 25-28 релизов
[~] Обновление: Апдейтер использует собственные процедуры запросов к БД

[%] Настройки:  Исправлена  ошибка  сохранения   настроек,   возникающая   при
    определенных настройках MySQL

[@] Логи: Изменения Тёмной Материи  вынесены  из  глобального  лога в отдельную
    таблицу. Это  существенно  облегчило  поиск  неисправностей  на  сервере  и
    подозрительных действий пользователей. Старые записи перенесены в отдельную
    таблицу
[@] БД: Все существующие таблицы сконвертированы в UTF8
[@] БД: Все существующие таблицы переведены на InnoDB


2011-07-03 17:45 V29d2
[%] Вселенная:  Исправлена  ошибка  создания  новой  планеты  при  регистрации,
    возникающая при определенных настройках MySQL


2011-07-03 16:13 V29d1
[!] Сообщения:  Добавлена  возможность  пересылки  личных  сообщений  на  емейл
    игрока. Возможность включается администратором сервера в настройках - опция
    "Разрешить  пересылку  ЛС  на  email".  После  этого  в  настройках  игрока
    появляются дополнительные опции для всех категорий входящих сообщений


2011-06-26 17:44 V29d
[!] Project "SuperNova.WS" Release 29 "Quest messaging"


2011-06-27 04:09
[%] Флоты: Исправлена очепятка рапорта миссии "Уничтожение"


2011-06-26 17:44 V29c4 Project "SuperNova.WS" Release 29 Release Candidate 4
[~] Шпионаж: Изменены сообщения при уничтожении разведфлота


2011-06-26 16:52 V29c3 Project "SuperNova.WS" Release 29 Release Candidate 3
[%] Настройки: Исправлена  ошибка,  позволяющая  уйти  в  отпуск  когда  что-то
    строится или исследуется на неосновной планете


2011-06-26 16:28 V29c2 Project "SuperNova.WS" Release 29 Release Candidate 2
[%] Бой: В отчете правильно указывается количество захваченных ресурсов
[%] Бой: Исправлены предупреждения, выдающиеся в случае,  когда  какой-либо  из
    флотов пустой


2011-06-26 13:16 V29c1 Project "SuperNova.WS" Release 29 Release Candidate 1
[~] Вселенная:  Во  всплывающем  меню  на  поле  обломков  добавлена  индикация
    количества летящих переработчиков игрока

[%] Вселенная: Исправлены ошибка  индикации  на  поле  обломков  чужих  летящих
    переработчиков  и  ошибка   невозможности   послать   переработчики   через
    всплывающее меню, если уже на то же поле летят чужие переработчики

[@] Автоапдейтер: Исправлен апдейтер
[@] SQL: Исправлен дамп БД


2011-06-25 23:49 V29c0 Project "SuperNova.WS" Release 29 Release Candidate
[!] Project "SuperNova.WS" Release 29 Release Candidate


2011-06-23 00:27
[%] Альянсы: Исправлены ошибки при роспуске Альянса и выходе игрока из Альянса


2011-06-22 23:50
[%] Альянсы: Исправлена невозможность исключить игрока из Альянса


2011-06-21 13:40
[%] Флоты: Исправлена ошибка с невозможностью просканировать игроков


2011-06-21 00:09 V28.1a16
[~] Мировые  константы:  Добавлен  вывод  информации  о  разешении  прокачки  и
    разрешении удержания на слабом соаловце

[@] Настройки:   Добавлена  опция  сервера,  разрешающая  удержание  на  слабом
    со-аловце. Опция "Разрешить  удержание  на  слабом  соаловце"  на  странице
    настроек сервера
[@] Настройки: Теперь флаг  прокачки  по  умолчанию  отключен  и  его  действие
    инвертировано: невыставленный флаг ЗАПРЕЩАЕТ  прокачку,  а  выставленный  -
    разрешает. Таки образом, по умолчанию прокачка (отправка транспортов  более
    сильному   игроку)   отключена,   а   соответствующая   опция   равна    0.
    Соответствующие изменения  автоматически  внесены  в  базу  данных,  однако
    рекомендуется проверить настройки после обновления
[@] Апдейтер: Исправлена ошибка добавления внешних ключей к таблице users


2011-06-19 02:33 V28.1a15
[~] Обзор планеты: Теперь если планет больше  5,  то  они  показываются  в  две
    колонки

[%] Обзор планеты: Луна теперь не показывается в списке планет справа -  как  и
    должно быть


2011-06-19 01:48
[%] Настройки: Теперь при включении режим отпуска игрок уходит в  отпуск  сразу
    же, а не при следующем обращении к браузеру


2011-06-18 15:37 V28.1a14
[~] Навбар: Клик на индикаторе сообщений Администрации, Альянса или от  другого
    игрока сразу открывает просмотр соответствующих сообщений


2011-06-11 19:02
[%] Админка: Исправлена уязвимость подмены User Agent


2011-06-11 14:11 V28.1a13
[~] Флоты+Сообщения: Приглашение в САБ теперь  относится  к  категории  "Боевые
    отчеты", а не к категории "Сообщения от игроков"

[%] Флоты: Исправлена ошибка, позволяющая атаковать в САБе более слабого игрока


2011-06-11 13:16 V28.1a12
[%] Новости: Исправлена ошибка форматирования новостей при отсылке игроку

[@] Флоты: Добавлена возможность отключения запрета  прокачки  транспортировкой
    ресурсов от более слабого игрока более сильному. Опция "Запрет прокачки" на
    странице настроек сервера


2011-06-07 00:02 V28.1a11
[+] Сообщения: Добавлена новый класс сообщений "Сообщения Администрации". К ним
    относятся:
    1. Сообщения системы квестов
    2. Новости сервера
    3. Сообщения Администрации
[+] Сообщения:  Восстановлена  функциональноксть  класса  сообщений  "Сообщения
    очереди построек". К ним относятся:
    1. Уведомления о  завершении  исследований.  Уведомление  высылается  после
       входа на страницу исследований
    2. Уведомления об окончании работы верфи на планете. Уведомление высылается
       по окончании очереди строительства Верфи
    3. Уведомление об окончалии строительных работ на  планете  (постройка  или
       разрушение здания). Уведомление высылается пакетно в  полуавтоматическом
       режиме.  Это  означает,  что  сообщение  генерируется  каждый  раз   при
       обращении к планете (сканирование шпионажом  или  игроком,  переключение
       активной планеты игроком итд). При  этом  в  сообщение  указываются  все
       изменения, произошедшие на момент обращения


2011-06-03 22:11 V28.1a10
[%] Сообщения:  Исправлена  ошибка  выбора  неправильной  записи  игрока   при
    просмотре настроек автоматических уведомлений


2011-06-03 13:56
[%] Флоты:  Исправлена  ошибка  обработки  миссии  "Транспорт"  если   планета
    назначения не существует


2011-06-03 02:09
[@] SQL: Исправлен SQL-файл


2011-06-02 03:32 V28.1a9
[!] Readme: Добавил раздел  "Благодарности".  Желающие  вычеркнуть  себя  могут
    написать мне об этом в личку

[+] Боевой отчет: Локализован

[~] Боевой отчет: Добавлено количество  убитых  корблей  в  предыдущем  раунде.

[%] Сообщения:  Исправлена   ошибка   с   невозможностью   получить   сообщения
    определенных классов


2011-05-31 00:47 V28.1a8
[!]  Сообщения:  Настройка  автоматических  уведомлений.  Теперь  в  настройках
    пользователя можно отключить получения определенных категории сообщений.  В
    этот список входят: Шпионские отчёты, Военные отчёты,  Отчеты  переработки,
    Прибытие флота, Отчёты экспедиций, Сообщения очереди построек.
[!] Настройки: Полностью переписана система настроек пользователя

[~] Локализация: Немного оптимизирована локализация

[%] JS: Исправлена ошибка в js_timer, приводящая к некорректной работе  таймера
    после таймера с типом "date&time with delta"

[@] Настройки: Изменена подсистема дополнительных настроек пользователя
[@] Системное: sys_get_param_int_val теперь так же  обрабатывает  непрописанные
    чекбоксы - те, которые возвращают "on"  и  "off".  Для  таких  значение  он
    возвращаеет соответственно "1" и "{$default}"


2011-05-23 02:30 V28.1a7
[%] Вселенная: Исправлена ошибка  с  неправильным  наложением  иконки  летящего
    флота, когда флоту отдана команда "Обратно"
[%] Обзор планеты: Исправлена ошибка с добавлением лишнего события, когда флоту
    отдана команда "Обратно"
[%] Вселенная: Исправлена возможность  появления  фантомных  лун.  Существующие
    фантомные луны удалены


2011-05-23 01:19
[%] Сообщения:  Исправлен  глюк,  подставляющий  в  отправителя  сообщения  имя
    адресата
[%] Сообщения: Исправлен глюк, не дающий увидеть  кому  пишется  сообщение  при
    переходе на страницу создания сообщений по ссылке с ИД игрока

[@] Update: Изменен апдейтер так, что бы не  выдавать  ошибки  при  апгрейде  с
    версии <26. Так же введена конфигурация времени блокировки базы апдейтером
[@] Update: Добавлена процедура валидизации  таблицы  игроков  по  имени  и  ИД
    Альянса. Так же добавлены constraint на эти поля
[@] GIT: GIT теперь так же игнорирует SQL-файлы в каталоге бэкапа


2011-05-19 10:41
[%] Антибашинг: Исправлена ошибка в подсистеме  техобслуживания  из-за  которой
    удалялись нужные записи из таблицы башинга и расчет волн сбрасывался в ноль


2011-05-18 22:38 V28.1a6
[!] Сообщения: Полностью переписана  система  сообщений.  В  системе  произошли
    следующие изменения:
    1. Можно писать письма любому игроку! Форма создания нового  письма  теперь
    корректно обрабатывает  имена  игроков,  введенных  в  строку  "Кому".  Эта
    возможность доступна из списка  категорий  сообщений  по  ссылке  "Написать
    сообщение" в самом низу таблицы категорий
    2. В списке писем теперь работает чекбокс в заголовке. Клик на нем приведет
    к выбору всех сообщений. Повторный клик - к снятию всех отметок
    3. Добавлен дополнительный диапазон для удаления сообщений - "Все сообщения
    данной категории". Внимание! В категории "Все сообщения" его выбор приведет
    к полной очистке почтового ящика!
    4. При  первом  открытии  страницы  создания  нового  сообщения  больше  не
    выскакивают угрожающие красные надписи
    5. Счетчик  сообщений в  навбаре  работает  без  задержек. Т.е. если  игрок
    перешел  в  категорию  с  непрочитанными  сообщениями,  счетчик   изменится
    соответствующим образом  сразу  же  после  перехода,  а  не  при  следующей
    загрузке страницы
    6. Множество мелких стилистических доработок
    7. Оптимизированы алгоритмы работы подсистемы сообщений, а так же  почти  в
    два раза уменьшен объем  передаваемой  информации  от  клиента  к  серверу.
    Особенно это заметно при удалении большого количества сообщений


2011-05-16 02:08
[~] Империя: Переформатирована страница Империи


2011-05-15 20:59
[%] Квесты: Исправлена ошибка редактирования квестов с многострочным описанием


2011-05-15 20:13 V28.1a5
[~] Квесты: Теперь в  качестве  награды  можно  назначать  и  простые  ресурсы:
    металл, кристаллы и дейтерий


2011-05-15 18:00 V28.1a4
[~] Флоты: Переоформлена страница своза ресурсов. Теперь так же считается сумма
    выбранных для своза ресурсов по каждой планете


2011-05-14 01:34
[~] Флоты: Переоформлены страницы отправки флота
[~] Чёрный Рынок: Переоформлены страницы ЧР


2011-05-14 00:34 V28.1a3
[+] Интерфейс: Новый тип  сортировки  планет  -  по  общему  количество  полей.
    Учитываются терраформеры (на планетах) и лунные базы (на лунах)

[~] Список планет: Изменена цветовая  кодировка  полосы  застройки:  зеленый  -
    менее 50% застройки, желтый - не меньше 50% и меньше 80%,  оранжевый  -  не
    меньше 80% и меньше 100%, красный - 100% застройки
[~] Список планет: На полосы застройки добавилось  застроенное  и  максимальное
    количество полей на планете
[~] Список планет: Сортировка учитывается в списке планет на  страницах  "Обзор
    планеты" и "Империя"


2011-05-12 21:14 V28.1a2
[+] Империя: Добавлено цветовое кодирование для производящих структур.  Уровень
    производства, выставленный на странице "Ресурсы",  кодируется  цветом  фона
    соответствующей ячейки: зеленый -  100%,  желтый  -  80-90%%,  оранжевый  -
    70-50%%, красный - 40-10%%, цвет  фона  -  0%  или  структура  не  является
    производящей. Пропорционально уровню производительности  меняется  и  длина
    кодированной полоски


2011-05-11 19:03 V28.1a1
[%] Альянсы: Исправлена ошибка невозможности выхода из Альянса


2011-05-10 22:47 V28d
[!] Project "SuperNova.WS" Release 28


2011-05-10 20:25
[%] Башинг: Исправлена ошибка с неправильной записью времени башинга


2011-05-08 15:47
[+] Квесты: Добавлены критерии по постройке кораблей и обороны
[~] Навбар: По клику на  счетчике  флотов  и  экспедиций  открывается  страница
    флотов в полете


2011-05-07 03:07 V28.1a0
[!] Квесты: Добавлена подсистема квестов
     1. Администратор сервера может самостоятельно добавлять  новые  квесты
     2. В настоящий момент доступны квесты на постройку зданий  и  обороны,  на
     исследование и на постройку кораблей (триггер срабатывает при  наличии  на
     планете Х кораблей одного типа)
     3. Наградой является ТМ. Доступ к конструктору квестов  осуществляется  из
     меню "Квесты" страницы администрирования. Создание квестов доступно только
     Администратору сервера (auth_level = 3)
     4.  Игрок  может  просматривать  список  доступных  квестов  и  их  статус
     (выполнен или не выполнен)
     5. По выполнению квеста игроку высылается письмо с уведомлением
     6. Общее количество  и  количество  выполненных  квестов  видно  игроку  в
     навбаре
     7. Администратор может посмотреть выполненные квесты игрока  по  ссылке  в
     его профиле (Поиск через админпанель)
     8.   Игроки,   превысившие   условия   квеста,    автоматически    получат
     вознаграждение при следующей проверке на  критерии  выполнения.  Например,
     если целью квеста является постройка шахты 10го уровня, то  при  постройке
     шахты  выше  9го  уровня  на  любой  планете   игрок   получит   квестовое
     вознаграждение. То же самое верно и  по  отношению  к  уничтожению  шахты.
     Однако, если при уничтожении шахты её уровень окажется ниже 10го, то игрок
     вознаграждения не получит, хотя он уже и имел шахту 10го уровня


2011-05-04 19:00 V28c6
[%] Альянсы: Исправлена невозможность подать заявку на вступление в Альянс


2011-05-04 04:30 V28c5
[%] Башинг: Исправлена ошибка расчета времени летящих флотов


2011-05-04 04:30 V28c4
[+] Альянсы: Переработана страница информации об Альянсе. Теперь  внутренняя  и
    внешняя страница генерируются одним файлом и используют один темплейт.  Как
    следствие - появился список отношений Альянса на странице информации для не
    членов Альянса


2011-05-03 12:23 V28c3
[%] Обслуживание: Исправлена ошибка системы обслуживания  при  очистке  таблицы
    башинга


2011-05-03 12:23 V28c2
[%] Альянсы: Убрана отладка заявок


2011-05-03 11:57
[%] Альянсы: Исправлена ошибка создания Альянса


2011-05-03 00:40
[%] Альянсы: Исправлена ошибка удаления Альянса (добавлено ON DELETE CASCADE)


2011-05-03 00:27 V28c1
[%] Админка: Исправлены сообщения "Page not found" в формах


2011-05-02 23:25 V28c0
[%] Альянсы/Дипломатия: Исправлена ошибка с рассылкой писем членам Альянсов при
    принятии предложения изменения отношений


2011-05-02 22:16 V28c Project "SuperNova.WS" Release 28 Release Candidate
[!] Антибашинг: Добавлена система защиты от башинга. Защита не  дает  отправить
    больше флотов и волн, чем указано в правилах.
    Настройки по умолчанию - в течении 24 часов 3 волны по 3 атаки не более  30
    минут между атаками в одной волне.  Настроить  систему  защиты  от  башинга
    можно через таблицу `config` - группа параметров fleet_bashing_*. Установка
    параметра fleet_bashing_attack  в  0  означает  полное  отключение  системы
    защиты.
      1. Атакой считаются миссии: "Атака",  "Совместная  атака"  и  "Уничтожить
      луну". Миссия "Ракетная атака" атакой не считается
      2. Учитываются флоты в полете. Т.е. если игрок уже запустил две  волны  и
      еще одна находится в полете - он больше не сможет запускать флоты.
      3. Атаки засчитываются по факту - т.е.  если  полностью  отменить  волну,
      находящуюся в полете, игрок сразу же  сможет  послать  на  планету  новые
      флоты, не дожидаясь возвращения волны
      4. Атаки учитываются  вне  зависимости  от  результата  (выигрыш,  ничья,
      проигрыш)
      5.  При  САБе  атака  засчитывается  ВСЕМ  нападающим  -  дабы   избежать
      "карусели", т.е. когда несколько игроков по  очереди  запускают  САБы,  а
      остальные к ним присоединяются
      6. Все флоты одного игрока в одном САБе считаются как один флот
      7. Если Альянсы находятся в  отношении  "Война",  защита  от  башинга  не
      работает
      8. Объявление войны не требует согласия. Это означает, что когда Альянс А
      предложил  Альянсу  Б  отношение  "Война",  это  предложение  принимается
      автоматически и отношения устанавливаются сразу для обоих Альянсов
      9. Выход из состояния войны требует согласия обоих сторон
      10. Выход из состояния войны обратной  силы  не  имеет!  Т.е.  если  было
      объявлено перемирие  когда  планеты  одного  из  Альянсов  находятся  под
      атакой, то флоты все равно долетят и совершат нападение  -  какое  бы  ни
      было новое отношение между Альянсами  (если,  конечно,  атакующий  их  не
      отзовет)
      11.  А  вы  знаете  почему   такой   относительно   простой   вещи   (40+
      человекочасов) нет на Оффе? А что бы денежки снимать за разбан!
[+] Альянсы: К Дипломатии добавлено отношение "Мир".  Рекомендуется  выставлять
    этот статус после заключения пакта о ненападении. С точки зрения движка оно
    ничем не отличается от "Нейтралитета" и нужно для информирования остального
    игрового  сообщества  о  неких  устных  договоренностях  -  буде  в   таком
    информировании возникнет нужда. Альянсы вольны следовать или  не  следовать
    данной рекомендации, а так же решать - хотят они  оповестить  Вселенную  об
    изменении своих отношений или нет
[+] Альянсы: Нельзя сделать предложение текущих отношений  (т.е.  если  Альянсы
    находится в отношениях "Война" нельзя опять предложить отношение "Война")

[~]  Произведено  разделение  между  "Релизом"   и   "Версией"   в   интерфейсе
    пользователя. "Релиз" - это крупное обновление движка, выкладываемое в виде
    одного файла в общий доступ. Версия - небольшое  обновление,  недостаточное
    для  смены  номера  релиза.  Подробнее  об  этом  можно  прочесть  в  файле
    /docs/html/developer.html

[%] Флоты: Исправлено неудаление САБа, если все  флоты  САБа  получили  команду
    "Обратно"

[@] Разработка: добавлен каталог '.local' для облегчения  разработки.  Файлы  в
    этом каталоге игнорируются GIT-ом, но при этом корректно подключают внешние
    файлы для обработки и выполнения
[@] Разработка:  добавлена  процедура  sn_db_perform().  Отныне  для   вставки
    одиночных записей следует использовать только её. См. файл db.php
[@] Система:  Добавлена  процедура  ежедневного  обслуживания:  чистка  таблицы
    башинга, чистка таблицы САБ


2011-04-30 22:54 V27a20
[!] Альянсы:  Добавленв  подсистема  дипломатии  (главная  внутренняя  страница
    Альянса, таблица "Дипломатия"). Глава Альянса может начинать  переговоры  и
    принимать  предложения  от  других  Альянсов.  Отношения  между   Альянсами
    включают:
      1. Нейтралитет. Отношение по умолчанию
      2. Война.
    Что  бы  изменилось  отношения  между  Альянсами,  другая  сторона   должна
    потвердить предложение об изменении по ссылке "Переговоры", доступной главе
    Альянса. Там же можно сделать предложение об  изменении  отношений  другому
    Альянсу


2011-04-28 23:48 V27a19
[~] Чат: Код смайла WINK изменен с ";)" на ":wink:"


2011-04-28 23:33
[~] Чат: Добавлена трансляция в смайлы сочетания ":)" - :smile


2011-04-28 23:27
[%] Чат: Исправлена ошибка парсинга смайлов ":(" и ";)"


2011-04-28 23:14
[%] Чат: Исправлена ошибка с двойным экранированием символов


2011-04-28 23:04
[+] Император: Добавлена дата регистрации игрока: "Император [Имярек] с [дата]"


2011-04-28 21:47 V27a18
[%] SN_TIMER:  Исправлена  ошибка  в  JS,  при  которой  рассинхронизировались
    счетчики флотов/экспедиций в навбаре с реальным состоянием дел

[@] Админка: Исправлено ложное  срабатывание  системы  определения  взлома  при
    обновлении пользователем страницы  "Флоты  в  полете"  сразу  после  отдачи
    команды "Обратно" последнему из текущих флотов.  Так  же  в  предупреждение
    теперь логгится состав флот, который пытался вернуть пользователь


2011-04-28 10:26 V27a17
[~] Список  забаненных:  Полностью  переписан.  Список  теперь  сортируется  по
    возрастанию даты бана - последние забаненные появляются  в  начале  списка.
    Добавлено отображение разбанов
[@] БД: Изменена структура таблицы банов banned


2011-04-24 00:06
[%] Статистика: Исправлено неправильно отображение даты  последнего  обновления
    статистики при просмотре статистики Альянсов


2011-04-24 00:00
[%] Альянсы: Исправлены ошибки редактирования информации Альянсов


2011-04-23 23:28
[%] Чат: Исправлено непоказывание Альянса в чате


2011-04-23 21:23 V27a16
[!] Чат: Полностью  переписан  внутренний  чат.
      1.  Полностью  переписана  JS-часть.  В  частности  -  AJAX-вызовы   теперь
      осуществляются  через jQuery
      2. Добавлена  заплатка  для  корректной  работы  чата  в  глюкофоксе
      3. Добавлена защита на стороне клиента от слишком частых обновлений
      4. Полностью переработана PHP-часть чата
      5. Корректно показывает заголовок в истории  чата  -  "общий  чат"  и  "чат
      альянса" соответственно
      6. История чата теперь грузиться в виде нормальной страницы СН, а не в виде
      "обмылка", как раньше
      7. Содержимое языкового файла chat.mo отфильтровано и влито в system.mo
      8. Множество других добавлений и усовершенствований


2011-04-22 01:16 V27a15r1
[+] Свезти ресурсы: Добавлено отображение количества необходимых  ресурсов  при
    переходе по кнопке "Свезти ресурсы" со страницы постройки


2011-04-22 00:57 V27a15
[+] Свезти ресурсы: Добавлен JS-счетчик  общего  количества  свозимых  ресурсов
    с учетом чекбоксов


2011-04-21 23:45
[~] Флоты: Страница 0 -  перемещена  кнопка  "Дальше"  на  одну  строку  вверх.
    Добавена кнопка "Свезти ресурсы"


2011-04-16 20:58 V27a14
[%] Навбар: Переписан  алгоритм  генерации  списка  событий  флотов/экспедиций.
    Теперь корректно обрабатывается миссия "Передислокация"


2011-04-14 22:47 V27a13
[%] Фаерфокс: Исправлен ВНЕЗАПНЫЙ отказ глюкобага отправлять сообщения  в  чат.
    Тормозилла - так поддерживать! Ибо то, что висит можно только поддерживать.


2011-04-14 18:58 V27a12
[%] Интерфейс: Исправлен текста в попапах


2011-04-10 17:43
[~] HTML: Исправлен хидер, что бы быть W3C-compliant
[%] НоваПедия:  Исправлена  очепятка  из-за  которой  в  списке  кораблей   на
    химических двигателях не показывался переработчик


2011-04-10 16:51
[%] Империя: Исправлена ошибка отображения маскимального  количества  полей  на
    луне


2011-04-10 16:18 V27a11
[+] Список планет: Справа от иконки планеты добавлены три колонки, показывающие
    процент производительности шахт и  синтезаторов:  серый  -  шахта  металла,
    голубой - синтезатор кристаллов, фиолетовый -  синтезатор дейтерия.  Высота
    колонки пропорциональна проценту производства, а  фон  кодирует  диапазоны:
    желтый - 80-90%, оранжевый - 50-70%%, красный - меньее 50%. На высоту и фон
    колонки влияет ИСКЛЮЧИТЕЛЬНО процент производства, выставленный на странице
    "Ресурсы"
[+] Империя: Цифра производства ресурсов теперь  кодируется  цветом  аналогично
    фону колонки прозиводства ресурсов (см. выше)

[%] НоваПедия: Исправлено описание гипердвигателя


2011-04-08 23:49
[~] НоваПедия: "Ракетный двигатель" переименован в "Химический", а "Импульсный"
    - в  "Ионный".  Для  них  полностью  изменено  описание.  Так  же  изменено
    соответствующе описание кораблей.


2011-04-08 23:07 V27a10
[%] Экономика: Исправлен глюк с невычитанием дейтерия при отрицательном балансе
[%] JS: Исправлен глюк в скрипте таймера из-за которого  не  отсчитывало  назад
    ресурсы при переполненных складах


2011-04-05 02:54 V27a9
[+] Навбар: Количество флотов и экспедиций в полете  теперь  интерактивно:  оно
    автоматически  изменяется  в  соответствие  с  происходящими  событиями   -
    прибытие, возвращение  и  окончание  миссии  флота  (как  они  должны  были
    произойти  на  момент  загрузки  страницы).  При   наведении   курсора   на
    соответствующую ячейку всплывает подсказка с описанием ближайшего события


2011-04-05 00:42
[~] Новости: Чекбокс "Разослать новость игрокам" включен по умолчанию


2011-04-05 00:36 V27a8
[+] Навбар:  Добавлено  количество  флотов  и  экспедиций  в  полете  и  всего.
    Переработана ячейка сообщений


2011-04-03 05:42 V27a7
[~] Рефакторинг кода


2011-04-03 01:22 V27a6
[~] Индексы технологий заменены константами
[%] Ракеты: Исправлена ошибка в процедуре ракетной атаки - технологии  щитов  и
    брони были перепутаны местами


2011-03-30 09:30 V27a5
[%]  Флоты:  Теперь  при  возврате  последнего  флота  в  САБе  САБ   корректно
    уничтожается


2011-03-28 01:12 V27a4
[~] Админка: Проставлены права доступа к отдельным страницам в  зависимости  от
    уровня.
    1. Модератор (authlevel=1) имеет доступ к  следующим  страницам:  overview,
    activeplanet, banned, changelog, planetlist, statbuilder, tools, md5enc.
    Он может: видеть список игроков онлайн и  их  активность,  видет  список  и
    активность планет,  вручную  обновлять  статистику,  банить  и  разбанивать
    пользователей
    2. Оператор (authlevel=2) дополнительно имеет доступ к следующим страницам:
    add_building,  add_def,  add_money,   add_moon,   add_research,   add_ship,
    del_building,  del_def,  del_money,   del_research,   del_ship,   moonlist,
    showfliyingfleets.
    Дополнительно к функциям  модератора  он  может:  добавлять  и  убирать  на
    планетах здания, корабли, защиту, ресурсы; добавлять и  убирать  технологии
    игрока; видеть все луны и добавлять луны к планетам; видеть и редактировать
    флоты в полете
    3.  Администратор   (authlevel=3)   имеет   доступ   ко   всем   страницам,
    включая     delete_user,     admin_darkmatter,     errors,     maintenance,
    maintenance_ajax,   messagelist,    messall,    admin_chat,    paneladmina,
    planetcompensate,  settings, userlist.
    Дополнительно к функциям оператора он  может:  добавлять  и  убирать  ТМ  у
    игроков; видеть полный  список  игроков  с  IP-адресами;  удалять  игроков;
    запускать  процедуру  обслуживания  БД;  просматривать  и  удалять   личные
    сообщения; просматривать и удалять сообщения чата; просматривать и  удалять
    сообщения системы логов; изменять права пользователей;  изменять  настройки
    игры; возмещать игроку стоимость затрат на планету
[~] Админка: Введена дополнительная защита от взлома. Теперь член команды  игры
    не может назначить кому-либо уровень доступа, равный  или  больший  своего.
    Таким образом через админку невозможно  назначить  второго  Администратора.
    Однако это можно проделать напрямую в БД


2011-03-26 21:35 V27a3
[~] Чат: Ники модераторов (auth_level=1) и  операторов  (auth_level=2)  в  чате
    теперь тоже выделяются.  По  умолчании  соответственно  зеленым  и  красным
    цветом


2011-03-25 23:00 V27a2
[+] Экономика: Изменена схема работы МИС. Теперь МИС работает следующим образом:
      1. По каждой планете вычисляется эффективный уровень исследования (ЭУИ) =
      уровень лаборатории / (0,5 ^ уровень нанитки)
      2. Планеты сортируются по эффективному уровню
      3. Отсекаются планеты с уровенм лаборатории, недостаточным для проведения
      данного исследования
      4. Выбирается верхние (уровень МИС + 1) планет в списке и суммируется ЭУИ этих планет
      5. Получившееся число подставляется в формулу вычисления времени исследования
      Следствия:
      1. Нанолаборатория теперь увеличивают эффективность лаборатории только на
      той планете, на которой они расположены
      2. Время исследования теперь одинаково на  всех  планетах.  На  некоторых
      планетах чуть больше, на некоторых - чуть меньше, но в среднем  -  лучше,
      чем было раньше
      3. Имеет смысл держать только (уровень МИС + 1) планет  с  лабораториями.
      Остальные просто не будут подключаться.
      3.1. Примечание к следствию 3 - собственно, так было и раньше - все равно
      исследование могло проводиться только на одной планете


2011-03-23 00:15 work
[~] Вселенная: Стартовая планета теперь имеет температуру 0/40


2011-03-19 00:44 work
[~] Экономика: Дописан пересчет времени построек в очереди


2011-03-18 00:16 V27a1
[~] Экономика: Изменена формула расчета производительности ЭС. Она  нормирована
    по максимальной температуре. Норма - 40 градусов.


2011-03-17 23:16
[+] Новости: Добавлена возможность массовой рассылки новости всем игрокам


2011-03-16 23:07
[+] Обзор Империи: Добавлена температура планеты. В колонке ИТОГО - минимальная
    и максимальная среди всех температур


2011-03-16 09:49
[%] Рапорты: На странице просмотра  рапортов  максимальное  количество  в  поле
    ввода кода выставлено в 32


2011-03-16 08:29
[~] Экономика: Энергетическая технология теперь не дает дополнительный бонус  к
    производительности электроэнергии


2011-03-15 23:35
[~] Экономика: Изменена выработка энергии. Производство энергии на термоядерной
    электростанции теперь считается по формуле оффа:
       30 * [Э] * (1,05 + [Е] * 0,01) ^ [Э]
    где Э - уровень электростанции, Т - уровень энергетической технологии
[~] Экономика: Энергия считается более аккуратно
[~] Вселенная: Правильно считается минимальная и максимальная температура луны


2011-03-15 20:59
[~] Экономика: Изменена выработка энергии.  Во-первых  -  модификатор  скорости
    игры теперь не действует на энергию. Во-вторых - температура планеты влияет
    на выработку солнечных электростанций


2011-03-15 16:01
[+] Интерфейс:  В  списках  летящих  флотов  к  количеству  кораблей  во  флоте
    добавляется в конце знак "+" если флот везет ресурсы


2011-03-15 15:08
[-] Флоты: Удалена ссылка на редактирование закладок со  страницы  1  -  теперь
    закладки можно редактировать через левое меню


2011-03-15 00:10 V27
[!] Project "SuperNova.WS" Release 27

[+] ЧаВо: В настройках сервера  добавлена  возможность  задать  URL  для  ЧаВо.
    Добавлен соответствующий пункт в левое меню

[~] Логин: Переработаны  меню  страниц  логина,  регистрации  и  восстановления
    забытого пароля. Теперь оно одинаково  для  всех  страниц  и  кроме  старых
    пунктов дополнительно включает блок ссылок логин/регистрация/восстановление
    пароля, ссылку на FAQ, ссылку на новости сервера  (к  ним  теперь  разрешен
    доступ незалогиненных/забаненных пользователей).

[~] Интерфейс: Теперь если в настройках сервера отсутсвует какой  либо  из  URL
    (адрес форума, ссылка на правила, ссылка на FAQ), то соответствующие пункты
    меню и ссылки скрываются или не подсвечиваются. В дампе БД по умолчанию все
    URL идут пустыми
[~] Интерфейс: Переработана страница ТМ. Теперь если в конфигурации отсутствует
    URL с подробностями покупки ТМ - информация о возможности покупки просто не
    выводится

[%] Безопасность:  Исправлена  ошибка  невозможности  доступа   незалогиненных
    пользователей к статистике, контактам итд
[%] Реклама: Исправлена ошибка несохранения  параметров  рекламного  блока  при
    перезапуске сервера

[@] БД: Версия БД увеличена до 27. Обновлен дамп


2011-03-14 21:42 V26e22
[!] Боевой отчет: Добавлена страница для просмотра боевого отчета по его  коду.
    В меню в раздел "Информация" добавлена соответствующая ссылка

[~] Локализация: Слияние файлов viewreport.mo => system.mo

[~] Навбар: Убран разделитель между  часами  реального  времени  и  количеством
    игроков онлайн

[%] Локализация: Исправлена ошибка неполной локализации в  случае,  когда  язык
    игрока отличается от языка сервера по умолчанию
[%] Локализация: Исправлена ошибка  локализации  надписи  "ИТОГО"  на  странице
    Обзора Империи


2011-03-14 04:04 V26e21
[!] Закладки: Полностью переписана система закладок. Теперь закладки хранятся в
    отдельной таблице и не захламляют данные пользователя. Полностью переделано
    редактирование закладок

[~] Флоты: Немного изменил страницу 1 отправки флотов - теперь закладки, базы и
    боевые союзы выводятся бок-о-бок в три колонки


2011-03-14 01:50
[~] Новости: Строка "Ссылка на подробности" вынесена в файлы языков
[~] Закладки: "ссылки" везде заменены на "закладки"


2011-03-13 17:04
[~] Империя: При  входе  на  страницу  Империи  информация  о  планетах  теперь
    обновляется и в БД


2011-03-13 16:41 V26e20
[!] Включена возможность выбора языка для пользователей

[+] Админка: Язык игры по  умолчанию  теперь  выбирается  из  списка  доступных
    языков

[~] Локализация:  Удалены  файлы:  activate.mo,  active.mo,  changepassword.mo,
    mip.mo, functions.mo, index.mo, lang_info.cfg, news.mo, player.mo
[~] Локализация: Переименован файл lang_main.php в language.mo
[~] Локализация: Слияние файлов
      banned.mo => system.mo
      contact.mo => system.mo
      credit.mo => system.mo
      records.mo => system.mo


2011-03-13 13:08 V26e19
[~] Локализация: Обновлена английская локализация (c) madmax1991

[%] Админка: Исправлены ссылки на главной странице панели администратора


2011-03-12 15:11
[~] Локализация: Обновлен файл локализации en/alliance.mo (c) madmax1991


2011-03-10 21:09
[%] Вселенная: Корректно выводится сообщение при попытке нападения на игрока  в
    отпуске


2011-03-09 20:36 V26e17
[%] Админка: Исправлена баннерилка


2011-03-09 12:14 V26e16
[!] Добавлен английский перевод (с) madmax1991


2011-03-08 22:08 V26e15
[~] "Крейсер" переименован в "Эсминец", а "Линкор" - в "Крейсер"

[-] Из кода убрана английская локализация - большая её часть все равно была на
    русском, а остальное не соответствовало реальности

[@] Массив $lang['tech_rc'] заменен $lang['tech'] ввиду их полной идентичности
[@] Все идентификаторы кораблей заменены на константы


2011-03-08 16:56 V26e14
[~] Альянсы: Страницы "Настройка прав  доступа",  "Список  участиков  Альянса",
    "Поиск Альянса", "Создание Альянса", "Управление заявками"  переделаны  под
    PTE

[%] Альянсы: Исправлена ошибка вывода заявки  на  странице  управления  заявок.
    Теперь если в заявке есть переводы строк, то заявка корректо форматируется
[%] Альянсы: На странице внешней информации об  Альянсе  исправлена  ссылка  на
    страницу заполнения заявки


2011-03-07 22:56 V26e13
[~] Регистрация: Пароль теперь так же указывается на странице  пост-регистрации
    - на случай, если письмо с паролем не дойдет до адресата


2011-03-07 22:48
[%] Добавлен хак для FF при отключении отпуска


2011-03-07 19:59 V26e12
[%] Исправлена ошибка при регистрации и восстановлении забытого пароля


2011-03-07 00:56 V26e11
[~] Админка: Процедура  обслуживания  БД  теперь  удаляет  только  сообщения  с
    неизвестным адресатом и сообщения, старше 30 дней


2011-03-06 23:27
[%] Флот: Исправлена ошибка дублирования списка САБов

[@] В процедуру апдейта добавлена очистка старого списка САБов


2011-03-06 23:09 V26e10
[%] Флот: исправлена ошибка неудаления пустого САБа после атаки


2011-03-06 21:35 work
[~] Почищены лишние файлы


2011-03-06 20:16 work
[%] Исправлена ошибка v26e9 с невозможностью залогиниться в игру


2011-03-06 02:46 v26e9
[~] Все {{table}} в запросах заменены на соответствующие названия таблиц


2011-03-06 02:08 work
[~] Изменена система слежения за  игроками.  Теперь  не  логгируются  неопасные
    запросы (SELECT, START TRANSACTION,  COMMIT,  ROLLBACK).  При  логгировании
    запроса так же записывается стандартный набор переменных


2011-03-06 01:53 work
[~] Переменная dpath по максимуму убрана из кода


2011-03-06 00:09 work
[~] Проверка на наличие лога неправильных запросов перенесена из  /overview.php
    в /common.php
[~] Упрощены алгоритмы подключения файлов
[~] Проверка на права в админском разделе вынесена в /common.php
[~] Переменная   $ugamela_root_path   заменена    на    $sn_root_virtual    и
    $sn_root_physical


2011-03-05 22:41 V26e8
[!] Движок:  Теперь  СН  может  размещаться  на  веб-сервере  на  любом  уровне
    вложенности каталогов
[%] Флот: исправлена ошибка создания САБа в случае, когда летит максимум флотов


2011-03-04 02:31 V26e7.3
[%] Исправлены ошибки переноса в подкаталоги в админке: флоты в полете, ошибки,
    обслуживание   БД,   пересчет   статистики,   обзорная   страница,   список
    пользователей. Так же восстановлены картинки в нескольких местах Альянса, в
    редактировании новостей, в списке друзей


2011-03-03 22:14 V26e7.2
[%] Флоты в полете:  Исправлена  ошибка  отображения  количества  экспедиций  в
    полете


2011-03-02 23:34 V26e7.1
[%] Исправлены ошибки переноса в подкаталоги в  админке:  редактирование  чата,
    перезагрузка конфигурации, MD5-шифрование


2011-03-02 23:20
[%] Исправлены ошибки переноса в подкаталоги: баннеры  в  партнерке,  настройки
    пользователя, баннеры  Императора,  генерация  баннера,  ссылки  на  боевые
    отчеты, Вселенная - отправка переработчиков и фаланга, смайлики в чате


2011-02-27 20:17
[!] Теперь можно ставить СН в подкаталоги доменов, т.е. СН  корректно  работает
    по УРЛ типа http://domain.com/folder


2011-02-27 03:02 V26e7
[+] Чат: Изменилось выделение сообщеник команды сервера. Теперь выделяется  ник
    и  в  сообщениях  можно  использовать  все  стандартные  цвета.  Переменная
    конфигурации     chat_admin_msgFormat      заменена      на      переменную
    chat_admin_highlight. В ней можно использовать  HTML  коды.  Место  вставки
    ника обозначается как '$1' - см. пример в БД


2011-02-27 02:19 V26e6
[!] Интерфейс: Разнесены по разным страницам  отправка  флота  и  информация  о
    флотах в полете. Теперь флот отправляется через пункт меню "Флот на орбите"
    раздела "Планета", а информация о летящих флотах доступна через пункт  меню
    "Флоты в полете" раздела "Империя"

[~] Меню: Константы очередей берутся напрямую через D_


2011-02-26 22:00
[~] Экономика/Ресурсы: По многочисленным просьбам добавлена колонка "В час"


2011-02-26 11:20 V26e5
[~] Убрана запись сообщения в логи о постройке ПЗ/отмене очереди
[%] Закрыта уязвимость к передаче неправильных ИД кораблей на странице флота


2011-02-26 10:36 V26e4
[%] Добавлена проверка на корректное время Экспедиций и Удержания
[%] Теперь корректно выводится сообщени об ошибке при попытке отправить флот на
    несуществующую планету


2011-02-23 16:43 V26e3
[%] Добавлена проверка на корректный процент производства на странице "Ресурсы"

[@] Теперь можно отключить защиту слабых игроков, сбросив game_noob_factor в 0
[@] Удалены  записи  конфигурации   'noobprotection',   'noobprotectionmulti',
    'noobprotectiontime'


2011-02-17 02:07 V26e2
[%] Исправлено  "PHP  Warning:  Invalid  argument  supplied  for  foreach()  in
    /includes/functions/FormatCR.php on line 116"
[%] Исправлено  "PHP  Warning:  Invalid  argument  supplied  for  foreach()  in
    /includes/fleet/flt_page1.inc on line 14"
[%] Исправлено  "PHP  Warning:  Invalid  argument  supplied  for  foreach()  in
    /includes/fleet/flt_page2.inc on line 22"
[%] Исправлено  "PHP  Warning:  Invalid  argument  supplied  for  foreach()  in
    /includes/functions/flt_mission_explore.php on line 159


2011-02-16 17:25 V26e1
[%] Исследования: Теперь невозможно исследовать технологии во  время  постройки
    лаборатории или нанолаборатории
[@] Из дампа убраны NOT NULL для полей типа text
[@] В файле db.php проверка на таблицу errors заменена на таблицу logs
[@] В классе debug исправлено сообщение  о  невозможности  записать  событие  в
    таблицу
[@] flt_flying_fleet_handler: исправлены obsolete вызовы  функций  с  передачей
    параметров по ссылке в тексте вызова, а не в объявлении функции
[@] update.php:  разбил  несколько  запросов   на   подзапросы   для   лучшего
    восстановления в случае сбоя во время апдейта


2011-02-13 19:31 V26e0
[~] SQL: По умолчанию в дампе счетчик посещений - отключен, а игра - включена


2011-02-10 22:18 V26e
[%] Вселенная: Исправлена ошибка  с  неправильной  ссылкой  на  экспедицию  при
    количестве планет в системе не равном 15


2011-02-07 13:02 V26d
[!] Project "SuperNova.WS" Release 26


2011-02-06 15:25 V26c7.3
[@] Предельно упрощена time_probe.php - теперь возвращается только timestamp
[@] Убраны двойные объявления констант INSTALL и INSIDE


2011-02-05 04:59 V26c7.2
[%] Настройки: Исправлена очепятка, не дающая уйти в отпуск


2011-02-04 15:04 V26c7.1
[@] Добавлена защита от выполнения файлов .INC вне основного кода


2011-02-04 23:23 V26c7
[~] ЧР: При попытке уйти в  отпуск  теперь  выдается  отдельное  сообщение  при
    летящих флотах и отдельное сообщение при постройке на планетах
[~] ЧР: унифицирован алгоритм ППК и ПК


2011-02-04 15:30 work
[~] Чёрный Рынок: Переработаны Продавец  Подержанных  Кораблей  и  Переработчик
    Кораблей. Оптимизированы алгоритм и логика работы. Код готов к унификации


2011-02-04 10:36 work
[~] Чёрный Рынок: Торговец ресурсами - Добавлена защита от повторного обмена
[%] Чёрный Рынок: Торговец ресурсами - Закрыт эксплойт, позволяющий  обменивать
    ресурсы на ТМ
[@] Чёрный Рынок: Торговец ресурсами - Оптимизирован алгоритм и логика работы
[@] Теперь в  debug->error  и  debug->warning  можно  предавать  дополнительные
    переменные для дампа
[@] Удален /raketenangriff.php
[@] sys_o_get_updated теперь не блокирует запись пользователя при симуляции


2011-02-03 17:21 V26c6
[~] Свезти ресурсы: Галочки  в  колонке  "ВСЕГО"  теперь  не  влияют  на  набор
    вывозимых  ресурсов, а используются только для облегчения выбора


2011-02-03 16:29
[~] Свезти ресурсы: Добавлены колонки "ВСЕГО" - общее  количество  ресурсов  на
    планете и "Трюмы" - общая грузоподъемность транспортного флота  с  цветовым
    кодированием
[~] Свезти ресурсы: Теперь можно отдельно выбирать типы ресурсы, которые  нужно
    свезти
[@] Добавил в темплейты подстановку констант PHP (префикс D_)


2011-02-03 10:39 V26c5
[%] Исправлена ошибка с невозможностью  отправить  экспедицию  при  достаточном
    количестве дейтерия для полета


2011-02-03 10:39 V26c4
[%] Исправлена ошибка в менеджере летящих флотов, приводившая  к  неправильному
    расчету количества вывозимых ресурсов с планеты


2011-02-03 00:13
[~] Сообщения: В навбаре теперь отображаются дополнительно количество сообщений
    от других игроков  и  количество  сообщений  от  членов  альянса.  Цветовое
    кодирование зависит от скина и такое же, как на странице сообщений


2011-02-02 22:19 V26c3.2
[%] Чёрный Рынок: Исправлена ошибка в работе Торговца Ресурсами


2011-02-02 22:08
[~] ЧР: Обмен ресурсов завернут в транзакцию


2011-02-02 21:02
[%] Чёрный   Рынок:   Теперь   невозможно   продать/купить   не-корабль    на
    соответствующей странице Чёрного Рынка


2011-02-02 01:25 V26c3
[~] Оптимизирован кэшер летящих флотов. Теперь он лочит планеты и пользователей
    только при использовании данных в первый раз, а не при сканировании флотов


2011-02-02 00:38 V26c2
[%] Боевка: Корабли теперь не будут увозить отрицательные ресурсы с планеты
[%] Экономика: Производительность теперь не может быть отрицательной
[%] Таймер: JS-таймер теперь не будет считать ресурсы меньше 0


2011-02-01 23:56
[@] Исправлена ошибка с пустой таблицой планет на странице администратора


2011-02-01 23:41 V26c1
[%] Исправлена ошибка, когда при отрицательной  добыче  ресурсы  могли  уйти  в
    минус


2011-02-01 23:16
[@] Счетчик посещений теперь можно отключить из настроек сервера


2011-02-01 23:05 V26c0
[~] Вселенная: Теперь отображаются  все  планеты  в  зависимости  от  настройки
    game_max_planet, а не 16 штук
[~] Вселенная: Теперь все планеты и луны  в  системе  вынимаются  из  БД  одним
    запросом
[~] Вселенная: Теперь все флоты, летящие в данную систему в  настоящий  момент,
    вынимаются из БД одним запросом
[~] Империя: Убран лишний вызов flt_get_fleet_to_planet - она уже вызывается из
    tpl_parse_planet
[~] Обзор  планеты:  Убран  лишний  вызов  flt_get_fleet_to_planet  -  она  уже
    вызывается из    tpl_parse_planet


2011-02-01 21:26
[!] Project "SuperNova.WS" Release Candidate 26


2011-02-01 21:16
[~] Восстановление пароля: Теперь  в  восстановлении  пароля  участвует  адрес,
    указанный при регистрации


2011-02-01 19:13
[%] Убрал назад добавление в шпионаж - шпионы и так отлично работали


2011-02-01 10:31
[@] flt_can_attack: Добавлена проверка на корректность цели миссии "Уничтожить"


2011-02-01 02:33
[@] Переписана процедура обслуживания полностью на пакетные команды
[%] Альянсы: Исправлена очепятка в названии таблицы


2011-01-31 02:04
[%] Интерфейс/Список планет: Иконка вражеской атаки на луне составляет 70%  для
    лучшей видимости


2011-01-31 00:44
[~] mysql_fetch_array() заменена на mysql_fetch_assoc()  везде,  где  это  было
    возможно


2011-01-31 00:34
[~]  Все  результаты  аггрегатных  функций  MySQL  (sum,   count,   min,   max)
    поименованы. В doquery() mysql_fetch_array заменена на mysql_fetch_assoc. В
    общем случае это сократит объем для хранения данных PHP в полтора-два раза.
    Соответственно, меньше будет использоваться памяти xCache


2011-01-30 23:56 V26b6
[+] Скрипт обновления статистики завернут в транзакции.  Это  дало  50  кратное
    увеличение скорости исполнения

[@] В таблицу `planets` добавлен индекс i_parent_planet
[@] В  таблице  `messages`  удалены  старые  индексы  и  вместо  них  добавлены
    `i_time`, `i_owner_time`, `i_sender_time`
[@] Из overview.php убраны два лишних запроса


2011-01-30 18:12
[!] changelog.txt разделен на пользовательский и девелоперский. Все изменения в
    процессе  разработки  новой  версии  вносятся  в   changelog_dev.txt.   При
    подготовке релиза в changelog.txt переносятся только  финальные  изменения
[@] Убрал все остатки старого менеджера флотов


2011-01-30 17:17
[~] В навбаре время и количество ресурсов  прописано  в  темплейте.  Теперь  на
    медленных соединениях до конца загрузки страницы в навбаре будут  не  тупые
    заглушки, а значения, акутуальные на момент запроса


2011-01-30 16:57 work
[@] Добалвена таблица аттрибутов миссий. Флот-кэшер теперь кэширует  только  те
    планеты, которые используются в миссии


2011-01-30 15:34 work v26b5
[@] Добавлена  блокировка  от  одновременного  запуска  нескольких  менеджеров
    летящих флотов


2011-01-30 14:30 work v26b4
[~] Добавлена  обработка  ситуации,  когда  после  установки  движок   сначала
    запустили на пустой базе, а только затем залили в неё дамп


2011-01-29 10:25 work v26b3
[@] Флоты: нормально обрабатывается ситуация, если не  существует  планеты  или
    пользователя   для   места   назначения    флота    (пользователь    удален
    администратором или системой чистки БД)


2011-01-29 10:25
[%] Закрыта дыра, позволяющая поставить  в  очередь  больше  зданий,  чем  есть
    свободного места на планете


2011-01-28 21:43 work
[@] Вселенная: Добавлена обработка исключительной ситуации, когда у планеты нет
    хозяина: в цикл просмотра системы, в выгрузку  кэша  в  темплейт,  в  самом
    темплейте


2011-01-28 21:43 work v26b2
[%] Исправлена ошибка  невозможности  отправить  переработчики  через  страницу
    "Флот"
[%] Флоты: Исправлена ошибка в кэшере,  приводившая  к  многократной  обработки
    одного и того же флота


2011-01-28 00:08 work
[%] Офицеры: Шпион теперь работает :)


2011-01-27 16:32 work v26b1
[@] Теперь кэшер рекеширует только нужные данные и только когда они  нужны.  Не
    кэширует планеты и пользователей для пустых/вернувшихся флотов, не кэширует
    пользователей для несуществующих планет. Проверка на наличие данных в  кэше
    проверяется перед обработкой каждого события
[@] Исправлена ошибки очистки кэша после обработки функции -  удалялись  лишние
    записи


2011-01-27 02:32 work
[%] Не кэшировались заново планеты и юзера, если  у  флота  был  эвент  в  этом
    таймслоте


2011-01-27 01:49 work v26b
[@] Изменены коды  операции  со  статистикой.  Раньше  код  102  пересекался  с
    операцией "изменение Тёмной Материи"


2011-01-27 01:37 work
[@] Версия БД увеличена до 26
[!] Таблица  `errors`  влита  в   `logs`.   Новая   таблице   переформирована:
    добавлены новые  и  переупорядочены  старые  поля  для  удобства  просмотра
    человеком; добавлено поле с  дампом  переменных  для  дальнейшего  разбора.
    Старые таблицы сохранены соответственно как `errors_backup` и `logs_backup`
[+] В отладчик добавлен режим работы  с  отключенной  БД.  В  этом  режиме  все
    сообщения и ошибки выдаются на страницу
[~] Теперь админ тоже не может  ходить  по  клиентской  части  при  отключенном
    сервере во избежание порчи БД при бэкапе


2011-01-26 19:03 work v26a8
[+] Полностью переписана работа алгоритма миссии  "Шпионаж".  От  старого  кода
    осталась только генерация рапорта
[@] Все небоевые миссии теперь используют на входе кэшированные данные


2011-01-26 01:45
[~] В навбаре теперь при загрузке страницы показываются ресурсы с разделителями
    тысяч
[~] Император: Все числа теперь показываются с разделителем тысяч


2011-01-26 02:47 work v26a7
[%] Устранена ошибка зацикливания перенаправлений при удалении колонии
[%] Устранена ошибка неначисления опыта/уровня  при  атаках,  если  в  процессе
    генерации рапорта произошел сбой
[%] Изменена структура таблицы rw  что  бы  не  возникало  ошибки  при  вставке
    рапорта с существующим rid
[@] Обработка возврата флотов работает в теле flying_fleet_handler
[@] MT_COLONIZE использует кэшированные значения
[@] MT_HOLD возвращает флаги кэширования и не нуждается в кэше вообще
[@] Переделаны  обработчики  миссий  для  возвращения  флагов   рекеширования:
    MT_ATTACK, MT_AKS, MT_DESTROY


2011-01-25 15:52 work v26a6
[@] Переделаны  обработчики  миссий  для  возвращения  флагов   рекеширования:
    MT_SPY
[@] Исправлена ошибка обработки CACHE_FLEET


2011-01-25 15:52 work v26a5
[@] Переделаны  обработчики  миссий  для  возвращения  флагов   рекеширования:
    MT_COLONIZE и MT_RECYCLE


2011-01-25 16:00
[%] Галактика: Исправлена ошибка неотображения названий планет с символов "'"


2011-01-25 15:52 work
[@] Переделаны  обработчики  миссий  для  возвращения  флагов   рекеширования:
    MT_TRANSPOSRT


2011-01-25 09:56 work v26a4
[@] Переделаны  обработчики  миссий  для  возвращения  флагов   рекеширования:
    MT_EXPLORE и MT_RELOCATE


2011-01-25 02:04 work v26a3
[@] Написана система кэширования данных для обработчика  флотов.  Пока  она  не
    интегрированна  в  обработчик,  а   просто   написана   и   протестирована.


2011-01-24 09:32
[%] Своз ресурсов: перед свозом ресурсов не пересчитывались данные  о  ресурсах
    на планетах, поэтому свозилось количество ресурсов меньшее, чем могло


2011-01-24 09:32 work v26a2
[~] Изменил версию


2011-01-24 13:34 work commit
[@] Модифицировал PlanetResourceUpdate, что бы  она  возвращала  массив,  а  не
    использовала передачу по ссылке. Переименовал её в sys_o_get_updated


2011-01-24 09:32 work commit
[%] Сообщения:  Теперь  при  появлении   нового   сообщения   у   пользоватея,
    отправленного ему игрой (возвращение флота, шпионаж, отчеты  переработчиков
    итд), счетчик сообщений реагирует сразу, а не после обновления страницы


2011-01-23 22:42 work commit
[@] Файл GetMaxConstructibleShips.php удален, как неиспользуемый
[@] Функция CheckPlanetUsedFields перенесена в /includes/functions.php
[@] Функция GetMaxConstructibleElements перенесена в /includes/functions.php
[@] Функция IsElementBuyable перенесена в /includes/functions.php
[@] Функции  sys_user_options_pack  и  sys_user_options_unpack  перенесены   в
    /includes/functions.php
[@] Функция RestoreFleetToPlanet перенесена в
    /includes/functions/FlyingFleetHandler.php
[@]  Функция  ali_internal_admin_rights  перенесена  из  отдельного   файла   в
    /includes/alliances/ali_internal.inc
[@] Функция SetSelectedPlanet теперь  в  случае  несуществующей  current_planet
    перебрасывает на $user['id_planet']. Сама функция перемещена из  отдельного
    файла в /includes/functions.php
[@] Новая функция sys_get_updated вместо PlanetResourceUpdate. Отличия:  вместо
    массива $planet_row принимает либо ID колонии, либо её координаты  с  типом
    (луна или планета). Вместо  очереди  возвращает  массив  из  актуальных  на
    текущий момент записей пользователя, планеты и очереди на планете. При этом
    новая функция производит извлечение записей из  БД,  если  параметр  $simul
    истинен. В перспективе все вызовы PlanetResourceUpdate  будут  заменены  на
    вызовы sys_get_updated с целью оптимизаций обращений к БД
[@] PlanetResourceUpdate заменена на sys_get_updated в файлах:
    /includes/functions/coe_missile_attack.php
    /common.php
    /imperium.php


2011-01-23 16:33 work commit
[@] Изменен   алгоритм   обработки   миссий    "Шпионаж",    "Транспорт"    и
    "Передислокация".  Теперь  при  отсутствии  планеты-цели   флот   корректно
    обрабатывается


2011-01-22 16:49 work commit
[@] Переработан алгоритм строительства  в  подготовке  к  подключению  верфи  и
    исследований
[@] В $lang['info'] добавлено поле effect для описания функцонала юнитов


2011-01-22 01:25
[~] Теперь по окончании очереди построек страница автоматически обновляется


2011-01-21 19:04
[%] Флоты: Исправлена ошибка "Не хватает топлива" при отправлении флота  не  на
    100% скорости


2011-01-21 18:49
[%] Флоты: Исправлена ошибка "Не  хватает  топлива"  при  отправлении  флота  с
    миссией "Колонизация"


2011-01-21 00:03
[@] Немного изменен процесс автологина  в  попытке  избавится  от  некорректных
    SQL-запросов


2011-01-20 22:34
[~] Список планет: Добавлена иконка тележки и на луну


2011-01-20 22:27
[~] Настройки  пользователя:  Ко  всем  чекбоксам  добавлены  label   for   на
    соответствующие  надписи.  Теперь  можно  кликать  на   надпись,   что   бы
    переключить чекбокс


2011-01-20 21:16
[~] Список планет: Полоса застроенности планеты перенесена под картинку.
[~] Обзор планеты/Список планет: При выборе луны  её  иконка  увеличивается  на
    50%, а изображение планеты,  которой  принадлежит  луна,  так  же  остается
    увеличенным
[~] Список планет: Добавлена иконка тележки. Щелчок на неё открывает  интерфейс
    своза ресурсов на данную планету


2011-01-20 15:05
[!] Унифицированы алгоритмы и  файлы  постройки  флота  и  защиты.  Это  должно
    полностью снять  проблемы  с  отрицательными  ресурсами  после  верфи  и  с
    постройкой лишних единиц флота/защиты на верфях
[~] Теперь при отмене очереди на верфи открывается та же страница верфи


2011-01-20 12:24 Project "SuperNova.WS" Release 25
[+] Project "SuperNova.WS" Release 25


2011-01-20 12:24 V25c2
[%] Здания: Теперь ссылки "Построить Уровень" и "Уничтожить Уровень" в описании
    здания отображаются только если здание действительно  можно  построить  или
    уничтожить


2011-01-20 00:21 V25c1
[+] Свезти  ресурсы:  Добавлена  дополнительная  колонка  "Время",  в  которой
    указывается  время  полета  флота  для  перевозки  максимально   возможного
    количества ресурсов


2011-01-19 20:46 V25c
[%] Верфь/Защита: Исправлена ошибка, которая могла приводить  к  отрицательному
    количеству ресурсов  на  планете  и  к  дублированию  защитных  сооружений,
    имеющих ограничение по количество (планетарных щитов и ракет)


2011-01-19 01:26 V25beta2
[+] Свезти ресурсы: Теперь в форме выбора планет видно количество  ресурсов  на
    каждой планете.
[~] Свезти ресурсы: Координаты и имя колонии разделены на две колонки
[@] Обновлен дамп БД до версии 25


2011-01-19 01:26 V25beta1
[+] Мировые константы: Добавлена информация о версиях компонентов сервера
[+] Текущая версия движка теперь выводится в футере вместе с копирайтом


2011-01-19 00:57 V25beta
[~] Версия БД увеличена до 25


2011-01-19 00:52
[+] Файл readme.txt приведен в соответствие с реальным состоянием движка


2011-01-18 23:34
[!] Переписана  с  нуля  система  отпусков.  Теперь  работает  серверная  опция
    "Отключить режим отпуска".
[+] Настройки: Переформатирован блок "Управление  профилем":  добавлен  таймер,
    указывающий минимальный срок отпуска;  добавлено  пояснение  по  отключению
    профиля
[-] Настройки: Убрано поле  IPCheck,  поскольку  этот  параметр  все  равно  не
    работал
[@] Все поля в таблице `users`, относящиеся к режиму отпуска, заменены на  поле
    `vacancy`. Все функци -  на  sys_user_vacancy.  Проерка  на  режим  отпуска
    производится сразу в файле common.php. Отключить режим отпуска на  странице
    можно  установив  глобальную  переменную  $skip_ban_check  в   true   перед
    подключением   common.php.   Переменная   конфигурации   urlaubs_modus_erz,
    отвечающая за отключение режима отпуска на сервере переименована в
    user_vacation_disable


2011-01-18 18:12
[~] Кнопка "Свезти ресурсы" перенесена под расписание движения флотов
[~] Исправлена ошибка неотображения планеты в списке на  вывоз  ресурсов,  если
    колония только одна


2011-01-18 16:01
[%] Исправлена  ошибка  при  колонизации  планеты  игроком,  в  имени  которого
    содержится апостроф. Это так же устраняет зависание флотов, если в  очереди
    событий есть задание "Колонизация" от такого игрока


2011-01-18 15:26
[@] Добавлены  дополнительные  проверки  в  систему  безопасности.  Это  должно
    полностью убрать два вида с неправильными  запросами  тип  "SELECT  *  FROM
    sn_fleets  WHERE  fleet_owner="   и  "SELECT   *   FROM   sn_fleets   WHERE
    (fleet_start_galaxy = AND fleet_start_system = AND ...[итд])"


2011-01-17 22:22 Свезти ресурсы
[!] Флоты: Добавлена новая возможность - свезти ресурсы с остальных  планет  на
    текущую. Возможность доступна из левого меню "Флоты" через  кнопку  "Свезти
    ресурсы"
[@] Доработана функция flt_can_attack. Добавлены обработка следующих  ситуаций:
    ATTACK_WRONG_SPEED,  ATTACK_NO_RESOURCES,  ATTACK_NO_FUEL,   ATTACK_NO_ACS,
    ATTACK_ACS_MISSTARGET, ATTACK_ACS_TOO_LATE
[@] Написана функция flt_send_fleet


2011-01-17 17:55
[%] Вселенная: Исправлена ошибка отображения названий с символами "\" и """"


2011-01-15 22:22 Ребалансировка офицеров
[!]  Перебалансированы  офицеры.  Характеристики  чуть-чуть  изменены.  Кое-где
    добавлены дополнительные уровни. Основное новвоведение - офицеры разбиты на
    две независимые подветки - "шахтерскую" и "рейдерскую". "Шахтерская"  ветка
    начинается с Геолога и  включает  Энергетика,  Карго-мастера,  Архитектора,
    Шпиона, Координатора. "Рейдерская" ветка начинается с Адмирала  и  включает
    Конструктора,  Академик,  Фортификатор,  Защитника,  Навигатора.   Открытие
    второго офицера в ветке требует 5 уровней  первого  офицера,  а  каждого  -
    следующего - по 5 уровней двух предыдущих (каждый раз пары разные).
    Топ-офицеры Разрушитель и Ассасин кроме полного  открытия  своей  подветки
    ("рейдерской" и "атакерской"  соответственно)  требуют  открытия  соседней
    ветки примерно до половины


2011-01-15 20:08 Project "SuperNova.WS" Release 24.2
[+] Project "SuperNova.WS" Release 24.2


2011-01-15 17:53
[~] Экономика: Теперь нельзя ставить в очередь занятые  здания  (лаборатории  -
    при текущем исследовании, верфь - при постройке кораблей или  защиты).  Так
    же нельзя запустить постройку кораблей/защиты при наличии в очереди верфи и
    нельзя запустить исследование при наличии в очереди любого типа лаборатории
[%]  Экономика/Здания:  Исправлена  ошибка,  позволяющая  строить  здания,  для
    которых не выполнены требования постройки
[%] Экономика/Здания: Исправлена ошибка,  позволяющая  строить  лаборатории  во
    время исследования при отключенном BuildLabWhileRun
[%] Экономика: Исправлена ошибка, позволяющая апгрейдить  верфь  при  постройке
    кораблей
[%] Экономика: Исправлена ошибка, позволяющая строить корабли во время  стройки
    на верфи
[@] Функция IsTechnologieAccessible заменена на eco_can_build_unit
[@] Функции CheckFleetSettingsInQueue  и  CheckDefSettingsInQueue  заменены  на
    функцию eco_hangar_is_building
[@] Код очищен от использования полей b_building и b_building_id


2011-01-15 15:50
[@] В  .giattributes  добавлены  директивы  для  исключения  .gitattributes  и
    .gitignore из архива


2011-01-15 15:18
[@] Каталог /docs/coding-guidelines переименован в /docs/html
[@] /docs/readme_dev.txt переформатирован в /docs/html/developer.html


2011-01-15 15:07
[~] Из global.css в отдельный файл вынесены опции для IE. Это позволило сделать
    CSS-код W3C-валидизируемым


2011-01-14 15:51
[~] Здания: Добавлена заглушка против особенно  тупых  пользователей  -  теперь
    после обработки команды (постройка/удаление/очистка очереди  итд)  страница
    редиректится на страницу построек с пустым запросом. Это должно убрать  все
    возможные глюки с нажатием кнопки Refresh (F5)


2011-01-14 15:23
[+] Симулятор: Добавлена поддержка Адмирала


2011-01-14 15:02
[~] Обзор Империи: Уровни сносимых зданий выделяются в списке  уровней  красным
    цветом


2011-01-14 14:49
[%] Исследования: Исправлена  ошибка,  позволявшая  исследовать  технологии  во
    время постройки лаборатории при отключенной опции "Строить  лабораторию  во
    время исследования"


2011-01-14 14:23
[~] Постройка/Здания: Модифицирован код темплейта для совместимости с Хромом


2011-01-14 13:55
[~] Вселенная: Добавлен статус для игрока "Начинаюшщий игрок" в зоне абсолютной
    нубзащиты (по умолчанию меньше 5000 очков)
[~] Вселенная: Статус активности игрока теперь выделяется стилем текста: жирный
    - активный игрок, обычный - игрок неактивный больше  7  дней,  наклонный  -
    игрок неактивный больше 28 дней


2011-01-14 09:58
[%]  Интерфейс/Инфобар: Баланс энергии опять отображается красным цветом


2011-01-14 09:47
[%] Обзор планету/Управления: Исправлена ссылка "Вернуться к обзору"


2011-01-14 09:18
[~] Очередь построек:  Перенесена  номер  строящегося  уровеня  с  середины  на
    верхнюю границу иконки


2011-01-14 09:08
[%] Постройки: Исправлена конструкция JS что бы её воспринимал долбанный IE


2011-01-14 08:54
[%] Корабли: Исправлена ошибка RR - у СуперНовы в  требованиях  для  постройки
    был только один офицер. Добавлены требования по технологиям


2011-01-14 07:51
[%] Поиск: Исправлена ошибка  RR,  не  дающая  возможность  искать  игрока  вне
    Альянсов


2011-01-13 23:12
[~] Строительства/Здания: Добавлена возможность  удалять  последнее  здание  из
    очереди


2011-01-13 19:31
[~] Мировые константы: Добавлено слово "Скорость"  к  соответствующим  пунктам.
    Добавлен пробел между "Базовая добыча" и названием ресурса


2011-01-13 19:09
[%] Строительства/Здания:   Исправлена   ошибка   в   начислении   опыта   за
    строительство. Опыта давалось в 100 раз больше, чем должно было


2011-01-13 18:51
[@]  Чат:  Добавлена  возможность  настраивать  таймаут  чата  через  интерфейс
     Настроек сервера  (раздел  "Настройки  чата"/"Таймаут  по  неактивности").
     Значение "0" означает, что таймаут отключен (не рекомендуется, потому  что
     при  неправильных  настройках  сервера  большое  одновременное  количество
     запросов может привести к DoS)


2011-01-13 18:05
[%] САБ: Исправлена ошибка, когда  можно  было  отправить  флот  более  быстрый
    корабль с заданием "Атака". Теперь при выборе  САБа  доступно  единственное
    задание: "Совместная атака"


2011-01-13 15:42
[%] Строительство/здания: Общее время постройки теперь  в  конце  строительства
    обнуляется


2011-01-13 12:55
[%] Исправлена ошибка неначисления опыта при постройке зданий


2011-01-13 09:36
[~] Чёрный  рынок/Тоговец  ресурсами:  Добавлена  обработка  попытки  обменять
    нулевое количество ресурсов. Раньше просто списывались ТМ, теперь  выдается
    сообщение об ошибке
[%] Чёрный Рынок/Тоговец ресурсами: Исправлена уязвимость, позволявшая  указать
    отрицательное количество ТМ и получить прибавление ТМ у  пользователя.  Код
    атаки 305 в таблице logs


2011-01-13 08:28
[~] Информация/Верфь:   Изменена   индикация   эффекта   скорострела.   Теперь
    высчитывается и показывается реальный скорострел (через поле 'amplify')
[%] Информация/Защита: Исправлена ошибка RR с  неотоображением  скорострела  от
    юнитов
[%] Информация: Исправлена опечатка RR "Планетарный защита"


2011-01-11 23:06
[~] Империя: Изменено форматирование по желанию пользователей


2011-01-11 22:35
[%] Империя: Исправлена ошибка форматирования количества прилетающих кораблей


2011-01-11 22:24
[+] Файл readme.txt приведен в соответствие с реальным состоянием движка


2011-01-11 22:17 Project "SuperNova.WS" Release 24.1
[@] Обновлен дамп supernova.sql до версии 24


2011-01-11 21:09
[%] CSS: Исправлена очепятка в CSS


2011-01-11 11:04
[-] Строительство: Полностью убран из игры старый строительный интерфейс


2011-01-10 15:46
[~] Офицеры:  Фортификатор  дает  теперь  уменьшает  время  постройки  защитных
    сооружений на 10% за уровень
[~] Офицеры:  Описания  офицеров,  ускоряющих  постройки,  изменены  на  более
    корректные - вместо "-X%  к  скорости  постройки"  стало  "-X%  ко  времени
    постройки"


2011-01-10 15:41
[%] Офицеры: Исправлена ошибка c Фортификатором: вместо того, что  бы  ускорять
    постройку защиты он её замедлял


2011-01-10 15:19
[%] Офицеры: Исправлена ошибка с нерабочими Шпионом и Координатором


2011-01-10 04:00
[@] В целях защиты сервера возможность  для  членов  команды  (authlevel  >  0)
    сбрасывать пароль через страницу "Забытого пароля" заблокирована


2011-01-10 03:58
[~] Империя: Переработано форматирование названия строящегося  здания,  что  бы
    таблицу сильно не распирало


2011-01-10 02:39 Project "SuperNova.WS" Release 24


2011-01-10 02:18
[+] Добавлено отображение общего времени на постройку всех юнитов в очереди


2011-01-10 01:08
[@] update.php: Процедуры апдейта до  версии  20  переписаны  с  использованием
    добавленных позже процедур и функций


2011-01-10 00:56
[@] Изменен алгоритм вызова функции апгрейда БД


2011-01-09 22:30
[~] Офицеры: добавлена информация о бонусах офицера на страницу найма
[~] Офицеры: добавлена информация о бонусах офицера на страницу информации
[~] Изменен копирайт


2011-01-09 06:23
[%] Исправлена ошибка при колонизации с луны с приданным флотом или ресурсами -
    флот/ресурсы не появлялись на новой колонии


2011-01-09 05:08
[%] Исправлена проблема с кодировками в письмах подсистемы "Забыл пароль"


2011-01-09 04:53
[%] Исправлена ошибка в предыдущем коммите, не дающая отсылать новый пароль


2011-01-09 04:43 "Я забыл пароль!"
[!] Полностью переписана  система  восстановления  забытого  пароля:  добавлена
    процедура подтверждения емейла перед сбросом  пароля;  добавлена  процедура
    генерации случайного пароля.


2011-01-09 01:09
[@] Следующие изменения в функциях:
    ElementBuildListQueue - убрана
    GetRestPrice => /includes/functions/ResearchBuildingPage.php
    IsOfficierAccessible.php => /officer.php
    IsVacationMode - убрана
    SetNextQueueElementOnTop - убрана
    StoreGoodsToPlanet => /includes/functions/MissionCaseTransport.php


2011-01-09 01:09
[@] Убран неиспользуемый файл /fleetback.php. Его функционал  уже  перенесен  в
    файл /fleet.php


2011-01-09 01:03
[@] Функция CreateOnePlanetRecord переименована в uni_create_planet
[@] Функции   uni_create_planet   и   uni_create_moon   перенесены   в   файл
    /includes/functions/uni_functions.php


2011-01-09 00:46
[~] Название луны теперь генерируется в виде "Луна планеты <Навзание планеты>"
[@] CreateOneMoonRecord: функция переименована  в  uni_create_moon.  Из  вызова
    убран неиспользуемый параметр $MoonID, изменено следование  двух  последних
    параметров


2011-01-09 00:12
[@] Функция CheckIfIsBuilding "вшита" в файл /options.php
[@] Убраны следующие функции и соответствующие им файлы: InsertBuildListScript,
    InsertCounterLaunchScript, CheckPlanetBuildingQueue,
    UpdatePlanetBatimentQueueList


2011-01-08 23:49
[@] Убрана часть функций, отвечающих за старую очередь построек


2011-01-08 23:41
[@] Функция BuildFleetEventTable перенесена в файл phalanx.php
[@] Функция BuildFlyingFleetTable "вшита" в файл admin/ShowFlyingFleets.php


2011-01-08 23:21
[@] Убрана  функция  INT_myPrettyNumber.  Её  функционал  полностью  вынесен  в
    функцию pretty_number. Последняя так же переработана


2011-01-08 22:53
[@] Существенно уменьшено количество файлов в подкаталоге  /includes/functions:
    функции, относящиеся к одному смысловому блоку, объединены в один файл


2011-01-08 20:35
[@] БД версии 23


2011-01-08 20:05
[%] Офицеры: Исправлена ошибка неотображения портретов офицеров


2011-01-08 19:56
[%] Исправлена ошибка неотображения иконок летящих  своих/враждебных  флотов  в
    списке планет на страницах Обзор Империи и Обзор планеты


2011-01-08 19:50
[@] Исправлена ошибка запуска процедуры обслуживания


2011-01-05 08:50
[%] Баннеры: Исправлена ошибка, требовавашая авторизации при запросе баннера


2011-01-03 22:32
[@] Добавлено дополнительное поле с DEFAULT-value в SQL-файлы


2011-01-03 17:53
[%] Обзор планеты: Исправлена ошибка, не дающая возможность покинуть колонию


2011-01-03 17:34 ПкВН-6.УС-3.Здания.RC3
[~] Обзор планеты: индикатор строительства зданий и таймер строительства в списке
    планет справа теперь использует новую систему очередей
[~] Обзор Империи: индикатор строительства  зданий  и  таймер  строительства  в
    списке планет и лун теперь использует новую систему очередей
[~] Обзор Империи: Зеленые цифры  изменения  уровня  зданий  теперь  используют
    новую систему очередей. Так же  корректно  показывается  постройка/удаление
    зданий
[@] update.php: Добавлен конвертер старой очереди в новый формат


2011-01-02 01:06
[%] Вселенная: Исправлена ошибка с исчезновением луны из  Вселенной,  внесенная
    последним коммитом


2011-01-01 15:19
[%] Обзор планеты: Исправлена несовместимость с PHP 5.2.2


2011-01-01 15:04
[%] Вселенная: Исправлено отображение названий с апострофами (')


2010-12-30 14:27 ПкВН-6.УС-3.Здания.RC2
[!] Полностью рабочая очередь построек зданий
[-] "Обзор планеты": Временно отключены счетчики и индикаторы построек в списке
    планет
[-] "Обзор Империи": Временно отключены счетчики и индикаторы построек в списке
    планет


2010-12-28 15:57 ПкВН-6.УС-3.Здания.RC1
[+] Постройки: Добавлена возможность очистки очередей
[+] Постройки: Локализованы все новые строчки
[%] Интерфейс/Здания:  Исправлена  ошибка  отображения  иконок  "Построить"  и
    "Разрушить" на превьюшках юнитов


2010-12-28 04:11
[@] Обновлен Sypex Dumper до версии 2.0.8 Release


2010-12-28 03:58 ПкВН-6, УС-3 (нет, это не новый фильм Михалкова)
[~] Переверстан блок информации о здании на странице зданий
[@] Темплейт отображения новой очереди вынесен в отдельный файл
[~] Теперь корректно вычисляется количество свободных  секторов  на  планете  с
    учетом событий в очереди зданий (постройка или уничтожение)


2010-12-23 10:35 ПкВН-5, bugfix
[%] Добавлена проверка на время строительства в процедуру обработки очереди
[%] Время разрушения теперь не может быть меньше 1с, а время строительства - 2с
[%] Количество строящихся юнитов теперь не может быть меньше 1


2010-12-14 01:33 Подготовка к введению наемников-5, унификация строительств-2
[@] Полностью переписана очередь строительств. Все  очереди  хранятся  в  одной
    строке и парсятся универсальным обработчиком
[@] Полностью переделано отображение очередей


2010-12-05 22:41 Подготовка к введению наемников-4, унификация строительств
[@] Оптимизирован код в includes/functions/rpg_points.php
[@]  Процедуры,   относящиеся   к   очереди   строений   перенесены   в   файл
    BatimentBuildPage
[@] Переписана проццедура CheckPlanetUsedFields
[@] Начата унификация  кода  для  строительства/покупки.  Оптимизация  страницы
    покупки зданий. Новый менеджер очередей


2010-12-03 14:32
[~] Переработана страница управления планетой
[@] Переименованы процедуры, относящиеся к начислению ТМ


2010-12-03 12:51
[~] Верхняя панель: Убраны названия ресурсов  -  они  всплывают  при  наведении
    мышкой на иконки. Это уменьшило высоту верхней панели на две строки
[%] Интерфейс/Строительство: Исправлено пропадание кнопки  "Удалить  здание"  с
    превьюшек
[@] Часть ссылок на ресурсы заменена на константы
[@] Подготовка к замене eval() на  процедуры  -  вычисления  производительности
    шахт вынесены из строковых переменных


2010-12-02 15:28 Подготовка к введению наемников-3
[!] Добавлена подсистема губернаторов. Пока функционирует не полностью
[~] Обзор планеты: Добавилось отображение текущего губернатора
[~] Обзор планеты/Управление: Переверстана. Добавился список губернаторов
[@] Описание  юнитов  теперь  хранится  в  файле  languages/*/infos.mo,  а  не
    разбросано по файлам fleet.mo и tech.mo
[@] mrc_modify_value теперь принимает в качестве параметра и планету. Это нужно
    для поддержки губернаторов. Соответствующим  образом  изменены  все  вызовы
    функции


2010-12-02 03:37
[%] Интерфейс/Строительство: Исправлено пропадание кнопки  "Удалить  здание"  с
    превьюшек при полной застройке планеты


2010-12-01 15:57 Подготовка к введению наемников (временных офицеров)
[~] Офицеры переименованы в соответствии с будущими функциями
[@] Все текущие офицеры отвязаны от цифровых идентификаторов и  названий  полей
[@] Идентификаторы офицеров задаются в includes/constants.php
[@] Поля в БД определяются по константам и задаются в файле includes/vars.php
[@] Параметры офицеров (стоимость, величина бонуса, тип бонуса) теперь задаются
    в includes/vars.php, а не жестко закодированы в коде
[@]  Значения,  на  которые  влияют  офицеры  (скорость   производства,   объем
    хранилища,  количество  флотов  итд)  теперь  обсчитываются   в   отдельной
    процедуре mrc_modify_value.


2010-11-06 16:07
[%] Вселенная/Ракеты: Исправлена опечатка, не  позволявшая  атаковать  ракетами
    отдельно выбранное здание


2010-11-05 08:21
[@] Добавлена  система  логов  попытки  изменить  количество  ТМ  за  пределами
    специально  обученной  функции.  Это  должно  устранить  любую  возможность
    манипуляции ТМ


2010-11-05 08:13
[%] Исправлена уязвимость к SQL-injection в модуле редактирования закладок


2010-11-02 00:58
[~] Офицеры: Переработана страница офицеров
[~] Офицеры: Изменены названия и описания некоторых офицеров
[@] Изображения офицеров теперь хранятся в скинах
[@] Страница офицеров теперь использует PTE
[@] Теперь  название  и  описание  офицеров  на  странице  найма  берется   из
    информационной таблицы. Это означает,  что  описание  и  название  офицеров
    теперь будет одинаковым на странице информации и странице найма. Больше  не
    нужно изменять описание офицеров в двух местах


2010-10-31 12:46
[@] Переписан алгоритм  работы  автоматического  обновления  статистики. Теперь
    невозможно запустить два экземпляра обновления одновременно


2010-10-30 22:56
[@] Теперь в причине отключения сервера нельзя использовать HTML  -  тэги  HTML
    вырезаются при сохранении


2010-10-30 21:57
[%] Строительство/Оборона:  Исправлена   ошибка,   когда   при   одновременной
    постановке МПР и ПРО в очередь  можно  было  построить  больше  ракет,  чем
    емкость ракетной шахты


2010-10-30 21:45
[%] Альянсы: Исправлена ошибка, когда при существующей форме запроса  приема  в
    Альянс кандидату показывалась стандартная заглушка


2010-10-30 21:36
[~] Торговец ресурсами: Теперь  при  смене  типа  ресурсов,  на  которые  будет
    произведен обмен, все ячейки ресурсов обнуляются


2010-10-30 21:31
[~] Верхняя панель: Количество ресурсов и склад теперь окрашиваются  в  красный
    цвет когда количество ресурсов больше или равно емкости склада (а не просто
    больше, как раньше)


2010-10-30 21:16
[%] Обзор планет: Исправлена ошибка  индикации  отосланных  переработчиков  при
    использовании ссылки "Переработать"
[~] Изменен CSS для страницы входа и регистрации при использовании PDA


2010-10-30 12:13
[@] Переработана админская страница компенсации планет


2010-10-28 01:36
[~] Немного изменен внешний вид пользовательских настроек


2010-10-27 18:46
[%] Регистрация: Исправлена ошибка регистрации с несозданием главной планеты


2010-10-26 15:25
[%] Вселенная: Исправлен баг с неправильным отображением активности на планете


2010-10-26 12:45
[+] Полностью переделана страница с описанием Тёмной Материи
[@] Добавлена новая переменная url_dark_matter, указывающая на УРЛ со способами
    внеигрового получения ТМ. Изменяется на странице настройки сервера,  секция
    "Ссылки и баннеры". По умолчанию указывает на файл /dark_matter_get.php
[@] Переменные forum_url и rules_url переименованны соответственно в  url_forum
    и url_rules


2010-10-26 11:22
[~] Флоты: Кнопка "Обратно" теперь не перекидывает на дополнительную  страницу,
    а возвращает на страницу отправки флота
[~] Переработана JS-библиотека таймеров. Теперь обратный отчет  (например  -  в
    очереди построек) идет правильно даже  при  возврате  на  страницу  кнопкой
    "Back" браузера


2010-10-26 10:19
[~] Переработана JS-билиотека таймеров. Теперь простые счетчики правильно  идут
    даже при возврате на страницу кнопкой "Back" браузера
[~] Увеличена точность простых счетчиков. Это должно уменьшить рассинхронизацию
    между сервером и клиентом. Например - ресурсы будут идти точнее
[~] Разница времени между сервером и клиентом теперь определяются AJAX-запросом
[%] Вселенная:  Исправлена  ошибка   отсылки   переработчиков:   переработчики
    отправлялись на планету, а не на луну


2010-10-26 00:42
[~] Сообщения: Перекрашены сообщения.  Цвета  заголовков  теперь  соответствуют
    цветам сообщений и, в свою очередь, синхронизированны с раскраской флотов -
    там, где это имеет смысл


2010-10-25 23:24
[~] Строительство/Здания:  В  превьюшке  масштабируется  размер  шрифта,  если
    каких-то ресурсов с учетом прилетающих флотов остается больше 100 млрд
[%] Строительство/Здания: Теперь если здание разрушается в графе уровня пишется
    "-1", а не "+1", как раньше
[~] Строительство/Здания:  В  старом  интерфейсе  на  время  строительства  или
    уничтожения здания убирается иконка "Уничтожить здание"


2010-10-25 22:01
[%] Исправлена ошибка,  дававшая  в  определенных  условиях  атаковать  слабого
    игрока


2010-10-25 15:11
[~] Нельзя становиться на удержание к слабому игроку


2010-10-25 01:59
[%] Инфо/Защита: На странице информации  о  защитных  сооружения  броня  теперь
    показывается правильно, а не завышенная в 10 раз


2010-10-25 00:42
[~] Теперь в статистике учитываются ресурсы, вложенные в строящиеся  корабли  и
    оборону


2010-10-24 22:49
[%] Инфо/Юниты: На странице  информации  о  юнитах  броня  теперь  показывается
    правильно, а не завышенная в 10 раз


2010-10-24 22:07
[~] Теперь игроки в нубзоне  могут  атаковать  друг  друга.  При  этом  так  же
    применяется ограничение по разнице очков
[~] Вселенная: Учитывая предыдущий пункт статус игрока может иметь одновременно
    маркер слабого игрока (игрок находится в нубзоне) и маркер сильного  игрока
    (игрок сильнее текущего). Такое отображение не является ошибкой
[%] Вселенная: Исправлена ошибка неотображения статуса сильного игрока
[%] Исправлена  ошибка,  не  дававшая  атаковать  ракетами   планету   игрока,
    находившуюся на грани дальности действия ракет
[@] Несколько  коротких  функций  перенесены  из   индивидуальных   файлов   в
    functions.php


2010-10-24 19:57
[~] Ракетная шахта  теперь  требует  для  сторительства  технологию  импульсных
    двигателей 1го уровня
[~] Вселенная: Ракеты теперь отправляются через JS без обновления страницы
[~] Вселенная: Переработана легенда
[@] Полностью переписан код проверки возможности отправки флота с  определенной
    миссией


2010-10-23 14:49
[%] Вселенная: Опять исправлена  ошибка,  приводившая  к  дублированию  статуса
    планеты с активной на неактивную


2010-10-23 04:51
[%] Экономика/Строительство: Исправлена ошибка отображения очень больших  чисел
    (десятки миллиардов) на превьюшке


2010-10-23 03:44
[@] Админка: Добавлена страница уничтожения планеты с  компенсацией.  Стоимость
    всех построек, защиты, флота и ресурсы с уничтожаемой  планеты  зачисляются
    на планету, указываемую администратором. Планеты должны принадлежать одному
    игроку
[@] Админка: Немного доработана страница параметров сервера


2010-10-22 14:27
[+] Программно введен запрет на прокачку  -  пересылку  ресурсов  игрокам  выше
    уровнем
[~] Изменен алгоритм рассчета нубзащиты. Теперь за неё отвечают два параметра.
    Первый - game_noob_points (по умолчанию 5000) - указывает, какое количество
    очков должен набрать игрок, что бы выйти из зоны абсолютной  нуб-защиты.  В
    этой зоне игрока не может атаковать никто. Второй  -  game_noob_factor  (по
    умолчанию 5) - указывает во сколько раз должны отличатся очки  игрока,  что
    бы для противника он был нубом. Т.е. игрок с 10000 очков  будет  нубом  для
    игроков от 50000 очков.
[~] Из кода убрано понятие "сильный игрок" - нуб может атаковать  кого  угодно.
    Обозначение во Вселенной сильных игроков осталось, но ограничение на  атаку
    снято
[%] Исправлена ошибка, позволяющая атаковать ракетами нубов
[%] Исправлена ошибка, позволяющая атаковать ракетами отпусников


2010-10-22 12:48
[%] Статистика: Не считались ресурсы в летящих флотах. Исправлено


2010-10-22 09:41
[%] Вселенная: Исправлена недоработка, вызывающее предупреждение PHP на  пустой
    системе


2010-10-22 09:34
[%] Обзор планеты: Исправлена ошибка, позволяющая оптравлять переработчиков  на
    орбиту даже если уже нет свободных слотов для флотов


2010-10-22 05:49
[+] Вселенная: в  попапе  на  поле  обломков  показывается  сколько  еще  нужно
    переработчиков, что бы  переработать  обломки  (с  учетом  уже  летящих)  и
    сколько всего их нужно, что бы переработать поле
[~] Вселенная: теперь через попап на обломках отсылается не  полное  количество
    переработчиков, необходимых для  переработки  поля,  а  разница  между  уже
    летящими  переработчиками  и  общим  количеством  (естественно,  с   учетом
    количества переработчиков на планете)


2010-10-22 03:24
[~] Изменена стоимость солнечных спутников, что бы соответствовать бэкграунду


2010-10-22 03:10 А не посчитать ли нам, многоуважаемые Кроты?
[+] Добавлена статистика по ресурсам
[~] Исправлена ошибка, не  позволявшая  переключать  параметры  статистики  при
    просмотре со страницы логина или регистрации


2010-10-21 17:24 Компенсируй ЭТО!
[+] Добавлена админская страничка,  позволяющая  уничтожить  планету  игрока  и
    компенсировать ему стоимость построек, обороны и флота


2010-10-21 17:05
[~] Изменен алгоритм генерации координат для домашней планеты новых игроков


2010-10-21 14:19 Работай языком
[~] Все локализации из admin/*.mo перенесены в файл admin.mo
[~] Перетасованы локализации между файлами admin.mo, system.mo и overview.mo


2010-10-20 22:59
[%] Вселенная: Исправлен баг с дублированием активности чужих планет на планету
    пользователя


2010-10-20 22:19
[~] Страницы статистики, списка банов, списка контаков сервера, списка настроек
    доступны для просмотра находящимся в отпуске или забаненных
[%] Исправлена неправильная работа страниц  статистики,  списка  банов,  списка
    контаков сервера, списка настроек для залогиненных пользователей


2010-10-20 21:55
[!] Полностью переписан код страниц логина и регистрации
[!] Полностью переписана система авторизации


2010-10-20 14:59
[%] Вселенная: Исправлена ошибка с показом попапа планеты вместо попапа луны


2010-10-19 19:22
[%] Регистрация: Исправлена ошибка c невозможностью зарегестрироваться
[%] Регистрация&Логин: Исправлена ошибка с невозможностью  посмотреть  страницы
    "Статистика", "О сервере", "Администрация" и "Список забаненных"
[~] Теперь если у пользователя неправильные куки, они чистятся  и  пользователь
    может зайти в игру еще раз


2010-10-19 18:34
[%] Обзор Империи: Исправлена ошибка с пропажей количества прибывающих кораблей


2010-10-19 16:18
[%] Император: Исправлена ошибка неотображения ссылки на подробные новости


2010-10-19 04:56
[@] Сообщения: Из файла messages.php HTML-код, относящийся к показу  сообщений,
    вынесен в файл messages.tpl. Остаток кода сильно переработан


2010-10-19 00:56
[%] Экономика/Верфь: Исправлена ошибка, позволяющая при наличии выше в  очереди
    медленно строящегося юнита использовать его время  постройки  для  создания
    более быстрого юнита путем добавления последнего в очередь.  Например,  эта
    ошибка использовалась для быстрой постройки множества ракет
[@] Полностью переписана процедура HandleElementBuildingQueue и переименована в
    eco_bld_handle_que. Соответственно переименован и файл


2010-10-19 00:11
[~] Экономика: Изменены характеристики Рудника: цена  увеличена  на  треть  для
    соответствие возросшей добычи (см.
    2010-09-28 21:10);  потребление  энергии
    немного снижено
[~] Экономика: Уровень всех существующих Рудников выше 5-го уровня уменьшен  на
    единицу для соответствия увеличенной стоимости строения
[%] Исправлена дурацкая  ошибка  в  автоапдейтере.  Теперь  корректно  работает
    система защиты от параллельного запуска нескольких копий апдейтера
[@] Версия БД увеличина до 20


2010-10-18 20:21
[+] Вселенная: Теперь индикатор входящего  своего  флота  и  попап  с  перечнем
    кораблей отображается и на луне
[%] Вселенная: Исправлена ошибка отображения планетарного флота на луне


2010-10-18 09:12
[~] Обзор планеты: Теперь на иконке своего флота на картинке планеты появляется
    попап с составом флота, прибывающего на планету
[~] Империя: Теперь на иконке своего флота на картинке планеты появляется попап
    с составом флота, прибывающего на планету


2010-10-18 05:21
[~] Вселенная: Теперь иконка и состав флотов показывается и на чужих планетах


2010-10-18 04:37
[~] Вселенная: на  иконках  своих  планет  отображается  индикатор  прилетающих
    флотов.  В  попапе  приводятся  подробные  сведения  о   сумарном   составе
    прибывающих кораблей и ресурсов у них на борту


2010-10-18 01:28
[~] Вселенная:  на  иконке  обломков  отображается  количество  переработчиков
    пользователя, летящих на эти обломки


2010-10-17 19:55
[@] Убран каталог /scripts. Для поддержки старых ссылок на  баннер  используйте
    средства веб-сервера (см. install.txt)


2010-10-17 18:36
[~] init.inc переименован в init.php
[%] Исправил работу старой ссылки на баннер /scripts/createbanner.php


2010-10-17 02:44
[%] Кажется, исправлена ошибка с очень редким неначислением ресурсов


2010-10-17 01:48
[@] Каталоги /fonts, /css, /images и /templates перемещены из корня  в  каталог
    /design


2010-10-16 18:35
[%] Исправлен неправильный формат времени - 12 часовый вместо 24
[~] Заменены везде даты и время константами


2010-10-16 15:05
[%] Исправлен баг, позволявший отправлять флоты со шпионами в экспедиции


2010-10-16 13:09
[%] Исправлен баг с расположением окна чата в ИЕ


2010-10-16 06:42
[@] Автоапдейтер использует БД для хранения информации о последнем апдейте. Ему
    теперь не нужен доступ на запись к файловой системе
[%] Исправлен баг в процедуре вычисления IP-адреса пользователя


2010-10-16 05:37
[~] Теперь при входе  на  страницу  строительства  зданий  со  страницы  обзора
    Империи правильно отображается количество ресурсов на планете


2010-10-15 21:03
[@] Левое меню: Теперь не нужно писать в коде рекламного баннера дополнительный
    код для вставки в таблицу - баннер центрируется в темплейте
[@] Админка: Переработана страница настроек сервера
[@] Вызов  автоапдейтера  БД  опять  перенесен  из  common.php  в  init.inc  и
    исполняется раньше - предыдущая схема давала сбой, если апдейтились таблицы
    пользователей
[@] Изменены процедуры в автоапдейтере - проверка условий выполнения  отдельных
    операций внесены в сами функции операций
[@] Изменена процедура определения IP-адреса пользователя. Теперь движок так же
    пытается  определить  цепочку  прокси-серверов.  Данные  о  прокси   теперь
    вносятся в таблицу пользователей и таблицу счетчика посещений
[@] Функция sys_logHit переименована в sys_log_hit
[@] Добавлена возможность отключить встроенный  счетчик  посещений.  Переменная
    game_counter в таблице `config`
[@] Убраны лишние подкаталоги sgo, install, oparators из /templates/OpenGame
[@] Переменная   game_date_withTime   заменена   двумя:   int_format_date   и
    int_format_time. В игре им соответствуют  константы  FMT_DATE  и  FMT_TIME.
    Константа DATE_TIME переименована в FMT_DATE_TIME и является  конкатенацией
    через пробел двух вышеприведенных констант


2010-10-15 04:02
[~] Симулятор: Симулятор опять при пустых  технологиях  атакующего  подставляет
    значения технологий текущего пользователя


2010-10-15 03:47
[~] Вселенная: На обломках показывается также общее количество ресурсов


2010-10-15 03:02
[~] Флот/Страница0: Добавлено цветовое кодирование  в  список  флотов.
[~] Флот/Страница0: Теперь можно кликать на координатах планет в списке  флотов
    - откроется Вселенная в указанной галактике и системе


2010-10-15 01:56
[~] Флот/Страница0: Клик на названии корабля перебросит на подробное описание


2010-10-15 01:12
[@] Новости: Добавлена дополнительная строка,  в  которую  можно  вбить  URL  с
    подробностями новости. URL добавится в конце новости в виде гиперссылки  со
    слова "Подробнее..."


2010-10-15 00:06
[~] Обзор Планеты: В графике полета флотов изменено  цветовое  кодирование  для
    своих флотов


2010-10-14 19:32
[~] Изменена картинка для линейного крейсера на более подходящую по гамме
[@] Страницы логина и регистрации теперь подгружают свой собственный CSS, а  не
    используют global.css для хранения стилей
[@] Почищены лишние стили в CSS-файлов встроенных скинов


2010-10-14 16:32
[~] Строительство/Здания: Количество ресурсов в табличке  ресурсов  в  описании
    юнита теперь выравниваются по правой стороне


2010-10-14 02:20
[~] Добавлены сведения о копирайте на все страницы (через overal_footer.tpl)
[@]    Перераспределены    функции    в    файлах    /includes/unlocalized.php,
    /includes/functions.php, /includes/functions/sys_template.php между файлами
    /includes/functions.php и /includes/template.php


2010-10-14 02:20
[@] В  CheckInputStrings  deprecated   функция   eregi_replace   заменена   на
    preg_replace. Соответствующим  образом  изменено  значение  $ListCensure  в
    /includes/constants.php
[@] Функции  CheckInputStrings,  PrintPlanetCoords,  sys_logHit  перенесены  из
    индивидуальных файлов в /includes/functions.php


2010-10-14 01:57
[~] Строительство/Здания: Изменен цвет рамки превьюшки юнита
[@] Строительство/Здания: Для рамки  выделения  превьюшки  теперь  используются
    стили из  CSS.  Добавлены  цвета  для  встроенных  стилей.  См.,  например,
    /skins/EpicBlue/formatte.css, стиль ".unit_preview"


2010-10-14 00:40
[@] Содержимое файла /db/mysql.php перенесено в /includes/db.php - все равно  в
    текущем виде SQL-код непортабелен и сильно привязан к  MySQL.  Каталог  /db
    вместе с содержимым уничтожен


2010-10-14 00:30
[~] Флоты: Немного изменен попап с описанием флотов. Добавлено общее количество
    ресурсов, которое везет флот
[~] Небольшое редактирование описания зданий и их названий


2010-10-13 20:52 Работа над ошибками
[@] Добавлена дополнительную информацию  в  запись  об  ошибке:  лог  запросов,
    $_GET, $_POST
[@] Улучшено отображение ошибок на странице ошибок
[@] Теперь игрокам показывается ID ошибки в БД, а не её порядковый  номер.  Это
    должно ускорить поиск нужной записи об ошибке
[@] Deprecated    процедура    mysql_escape_string    заменена    везде    на
    mysql_real_escape_string


2010-10-13 20:08
[@] Исправленв ошибка отображения ошибки на странице ошибок администратора


2010-10-13 10:21
[~] Немного изменен порядок зданий на странице  постройки.  Теперь  все  здания
    сгруппированы по типам: первая  линейка  -  добывающие,  вторая  линейка  -
    производящие, третья линейка - склады. На луне и/или при не всех  доступных
    для постройки зданиях порядок пока может меняться


2010-10-13 09:39
[@] Добавлены  новые   переменные   game_default_language,   game_default_skin,
    game_default_template. Подробнее см. includes/classes/cache.php . Их  можно
    изменить на странице настройки сервера
[@] Отформатирован update.php в PCG1


2010-10-13 07:59
[@] Небольшие изменения для подготовки ко включению профилирования SQL-запросов


2010-10-13 04:50
[~] Строительство/Здания: Переверстан блок информации о здании.  Новая  верстка
    более статична. Кроме того, устранена проблема из старой  верстки:  слишком
    широкая таблица требуемых ресурсов (например,  когда  количество  какого-то
    ресурса превышала сотню миллионов) сбивала описание
[@] Строительство/Здания: Переписаны функции вывода блока информации  о  здании.
    Теперь генерируется не вся информация о  здании,  а  заполняются  отдельные
    поля. Это дает возможность легко изменять верстку этого блока


2010-10-13 02:19
[~] Симулятор: добавлены кнопки "0" и "макс" для автозаполнения поля  значением
    флота с текущей планеты/технологии текущего игрока. Так же добавлены кнопки
    массового заполнения всех полей соответствующего типа
[~] Симулятор:  Теперь  нормально  работает  табуляция:  кнопки  "0"  и  "макс"
    исключены из очереди табуляции, а поля со  значениями  проходятся  в  более
    логичном  порядке  -  сначала  все  поля  атакующего,  затем  -  все   поля
    оброняющегося


2010-10-13 00:44
[@] Сммулятор:  почти  полностью  переписан.  Нетронутым  остался  только  код
    генерации отчета
[@] Симулятор: simulator.tpl теперь использует возможности PTE
[@] Симулятор: Новая система генерации REPLAY-линка


2010-10-11 16:25
[%] Дополнительные  изменения,  что  бы  не  допустить  одновременного  старта
    нескольких обсчетов статистик
[%] Дополнительные  изменения,  что  бы  не  допустить  одновременного  старта
    нескольких апгрейдов базы данных


2010-10-11 16:12
[~] Немного переписал chat.js и включил автообновление чата


2010-10-11 14:57
[+] Империя: Добавлено количество строящихся юнитов - выделены зеленым цветом


2010-10-11 13:36
[+] Империя: Добавлено количество прилетающих кораблей - выделены желтым цветом
[%] Изменен  шедуллер,  что  бы  минимизировать  вероятность  двойного  обсчета
    статистики


2010-10-10 10:10
[+] В  шпионские  отчеты  добавлена  ссылка  на  симуляцию  боя  с  указанными
    параметрами. После тестирования фича будет ВРЕМЕННО  добавлена  на  игровые
    сервера. После введения системы Наемников она  будет  доступна  только  при
    определенном активном Наемнике
[+] В левое меню в раздел "Информация" добавилась ссылка  "Мировые  константы",
    ведущая на страницу с перечнем настроек Вселенной
[~] Максимальное количество колоний у игрока по умолчанию увеличено до 9
[~] Доработан новый интерфейс строительства зданий
[~] Добавлено время строительства к превьюшке на новой  странице  строительства
    зданий
[~] Баланс ресурсов на  превьюшке  теперь  показывается  с  учетом  ресурсах  в
    прибывающих собственных флотах
[@] На админскую страницу  настройки  сервера  добавлена  возможность  изменять
    следующие параметры: режим игры (СуперНова или оГейм); количество галактик
    во Вселенной, систем в галактике, планет в системе; максимальное количество
    КОЛОНИЙ (см. ниже); курсы обмена металла, кристалла, дейтерия и  ТМ; ссылка
    на страницу с правилами.
[@] Переменная player_max_planets изменена на player_max_colonies и теперь  это
    максимальное количество колоний у игрока (НЕ СЧИТАЯ главную планету)
[@] Переменные game_speed и fleet_speed теперь кратны единице (а не  2500,  как
    раньше). Можно вводить дробную скорость. Например  скорость  флота  0.5  (с
    точкой!) означает уменьшение скорости флота  в  два  раза.  Соответствующим
    образом изменены все формулы
[@] Две новые процедуры get_game_speed() и get_fleet_speed() - для  корректного
    получения скорости игры и флота соответственно
[@] В скрипте sn_timer теперь используются объекты, а не  массивы.  Подробности
    см. в файле js/sn_timers.js . Соответствующим образом  везде  изменен  код,
    использующий таймеры
[@] Версия БД увеличена до 17. Подробности см. в файле includes/update.php
[@] Исправлена ошибка, приводящая к исчезновению пунктов меню "Обслуживание"  и
   "Резервное копирование"


2010-10-08 17:06
[~] Текущая дата-время и количество игроков  онлайн  перекочевали  со  страницы
    обзора планеты в верхнюю панель
[~] Новости с "Обзора планеты" перенесены на страницу "Император"
[~] Немного переработан "Обзор планеты"
[~] Теперь если есть непрочитанная новость, в левом меню возле пункта "Новости"
    появляется статус "Обновленно"


2010-10-08 12:34
[~] Немного изменен алгоритм расчета  восстановления  защитных  сооружений  при
    атаке. Теперь  при  количестве  сооружений  одного  типа  меньше  10,  шанс
    восстановления кидается для КАЖДОГО сооружения  этого  типа  отдельно.  Для
    особых тугодумов - теперь МОЖНО уничтожить защитные купола  и  ПЗ.  Это  НЕ
    является изменением, а  лишь  исправление  ошибки,  когда  невозможно  было
    уничтожить атаками всю защиту до конца
[~] Немного изменен новый экран постройки зданий


2010-10-04 01:43
[!] Добавлена новая страница "Император" в левое  меню.  На  нее  вынесена  вся
    статистика игрока со страницы "Обзор планеты"


2010-10-03 23:27
[~] На  странице  "Обзор  Империи"  количество  ресурсов  теперь  показывается
    актуальное. Раньше нужно было зайти на планету для того, что бы  информация
    о ней обновилась


2010-10-03 22:08
[+] Чёрный Рынок: добавились слайдеры на страницы продажи и покупки кораблей
[~] "Биржа ресурсов" из левого меню переехала в "Чёрный Рынок"
[~] Переработана структура левого меню


2010-10-01 23:16
[+] В настройки пользователя временно  добавлена  возможность  включить  старый
    интерфейс строительства зданий - галочка  "Старый  интерфейс  строительства
    зданий" в разделе "Совместимость - старые интерфейсов", меню "Настроки"


2010-10-01 20:26
[!] Изменен интерфейс строительства. Из-за хакерской атаки пришлось  накатывать
    полусырую спешно доделанную заготовку. Интерфейс будет дорабатываться


2010-09-29 12:30
[~] Изменил картинку на экранах Логин и Регистрация. Теперь она  подходит  даже
    для широкоформатных мониторов.
[~] Добавил картинку на режим отпуска


2010-09-28 21:10
[~] Изменены  характеристики  Шахты  Металлов.  Для  соответствия   внутренним
    обменным рейтингам (4-2-1) её скорость  производства  увеличена  на  треть.
    Соответствующим образом увеличено её энергопотребление


2010-09-28 07:54
[~] На картинки планет тултип на иконках исследований теперь показывает  время,
    оставшееся до конца исследования на момент обновления страницы


2010-09-28 01:08
[%] Исправлен баг в МИС, когда лаборатория с более низким уровнем на планете  с
    меньшим ИД блокировала присоединение лаборатории с более высоким уровнем
[%] Исправлен баг в  МИС,  дававший  возможность  участвовать  в  исследованиях
    лабораториям слишком низкоуровневым для исследований  данной  технологии  в
    одиночку
[%] Исправлен баг в МИС, когда игнорировался уровень МИТ и  присоединялись  все
    лаборатории на всех планетах. Хотя бы один игрок об этом сказал за год!
[+] МИС  теперь  работает  корректно.  Присоединяется  количество  лабораторий,
    эквивалентное уровню МИТ+1. Лаборатории присоединяются в  порядке  убывания
    уровня и только те, которые могут в одиночку исследовать данную технологию.


2010-09-26 04:00
[~] В  отчете  Симулятора  в  самом  низу  теперь  два  линка,  которыми  можно
    поделится. Один сразу же запустить симуляцию с аналогичными параметрами,  а
    второй позволяет сначала отредактировать параметры.


2010-09-25 23:46
[~] Переделан внешний вид страницы логина
[~] Переделан внешний вид страницы регистрации.  Так  же  добавлена  ссылка  на
    правила


2010-09-25 02:53
[!] Начато заполнение будущей  энциклопедии  СуперНовы.  Добавлены:  таймлайн,
    история мира, описание джамп-технологии, описание кристаллов
[~] Изменения в коде  для  дальнейшего  облегчения  модификаций.  Подготовка  к
    разделению движка на СН и ОГ


2010-09-23 14:01
[!] "СуперНова" стала публичным проектом!  Загрузить  исходный  код  можно  из
    репозитория
    git://github.com/supernova-ws/SuperNova.git
    Disclaimer aka Отмазка: Внимание! Проект находится в стадии альфа-версии! В
    настоящее  время  он  не  предназначен  для  production-использования!  Код
    предоставляется "as-is". Вы используете его на свой страх и риск! Автор  не
    несет ответственности за материальный, моральный, кармический,  душевный  и
    любой другой ущерб,  причиненный  вам  от  использования,  неиспользования,
    самим фактом существования этого кода или любым другим способом.
    Код распространяется под лицензией GNU GENERAL PUBLIC  LICENSE  Version  2,
    June 1991. Сама лицензия находится в файле docs/license.txt дистрибутива.
[+] Добавлен новый корабль "Супертранспорт".  Его  описание,  характеристики  и
    требования для постройки можно посмотреть в игре
[~] Размер иконки "Уничтожить" на странице строительства зданий уменьшен с  25%
    до 15% от оригинального изображения
[~] Множество мелких багфиксов, оптимизаций и исправлений


2010-09-14 09:17
[%] Исправлено исчезновение некоторых надписей на странице "Обзор Империи"


2010-09-13 20:01
[~] Добавлена иконка предупреждения  о  летящем  вражеском  флоте  на  картинку
    планеты на странице "Обзор Империи"
[~] Добавлена название строющегося здания на странице "Обзор Империи"
[~] На  картинке  планеты  на  страницах  "Обзор  Империи"  и  "Обзор  Планеты"
    добавлена иконка, сигнализирующая о летящем собственном флоте. Щелчок мышью
    на иконке переведет на страницу "Флот" соответствующей планеты
[~] Если есть летящие свои флоты на  текущую  планету,  на  странице  постройки
    зданий под описанием здания появляется строка "С учетом летящих флотов:". В
    ней содержатся те же расчеты, что  и  в  строке  "Останется  ресурсов",  но
    (СЮРПРИЗ!!!) с учетом ресурсов на летящих собственных флотах


2010-09-13 12:08
[~] На  страницах  "Обзор  планеты"  и  "Обзор  империи"  подложил  под  иконки
    строительства фон с 75% прозрачности - это  улучшает  видимость  иконок  на
    картинках очень светлых планет


2010-09-13 11:55
[~] На странице выбора кораблей (ссылка "Флоты") в  "Текущие  параметры  флота"
    добавлено общее количество ресурсов на планете


2010-09-13 08:28
[~] По многочисленным просьбам игроков добавлено время прибытия  и  возвращения
    на страницу выбора цели полета при отправке флота


2010-09-12 13:06
[~] По  многочисленным  просьбам  игроков  добавлены  кнопки  "-"  и   "+"   к
    метаэлементу ввода числовых значений


2010-09-12 12:07
[%] Исправлена ошибка, когда счетчик сообщений увеличивался лишний раз на 1 при
    достижении переработчиками поля обломков.


2010-09-10 23:25
[~] Теперь  на  страницах  "Обзор  планеты"  и  "Империя"  над  всеми  иконками
    строительства всплывает тултип с текущим объектом строительства
[@] Теперь на страницах "Обзор планеты" и "Империя"  можно  кликать  на  иконки
    строительства. Клик перебросит на соотвутствующую страницу строительства на
    указанной планете
[~] На странице "Империя" под изображением планеты  добавился  таймер  текущего
    строящегося здания (если таковое есть)


2010-09-10 22:48
[%] Исправлены  ошибки  отображения  скорости  флота  на  при  отправке  флота
    (страница выбора кораблей и страница выбора цели)


2010-09-10 21:31
[+] Флоты: При выборе количества кораблей во флоте и выборе загрузки ресурсов в
    трюме дополнительные элменты "0", "-", "+" и "макс" заменены слайдерами
[+] Флоты:  На   странице   выбора   количества   кораблей   теперь   доступна
    предварительная    информация    об    отправляемом    флоте:     скорость,
    грузоподъемность, расход, время полета в один конец,  дальность.  Последние
    три цифры актуальны при переходе на страницу флота через меню "Вселенная" -
    будут показаны точные данные для выбранных кораблей. В случае  перехода  на
    страницу через пункт меню "Флот" эти три цифры будут показаны для  перелета
    на ту же самую планету
[~] Флоты: Существенно почищен код яваскриптов. Скрипты флотов  оптимизированы,
    а сам файл значительно "похудел"
[~] Флоты: Так же некоторые оптимизации в темплейтах и PHP-коде отправки флотов
[~] На странице "Империя" на изображениях планеты  теперь  показываются  иконки
    строительств и заполненности планеты. Иконка атаки пока НЕ показывается
[~] Некоторое количество небольших чисток кода


2010-09-07 22:19
[!] Полностью  переделан  модуль   отправки   флотов.   Уменьшено   количество
    передаваемых данных между страницами  и  активно  используется  JavaScript.
    Добавлены дополнительные кнопки к выбору  количества  кораблей  и  загрузке
    трюма. Переделан алгоритм определения доступных миссий
[!] Изменен алгоритм  генерации  событий  флота  на  странице  "Обзор".  Теперь
    корректно отображаются флоты, прибывающие/отлетающие в одно и то же время -
    нельзя замаскировать флот в САБе.
[!] Начата  миграция  с  wz_tooltip  (overlib)  на  jQuery_ui.   Это   улучшит
    кросс-браузерную совместимость -  в  частности,  всплывающие  окошки  будут
    корректно позиционироваться во всех браузерах. В настоящий момент на  новую
    библиотеку переведена страница "Обзор" и страница "Флот"
[~] Теперь флот, в котором есть хоть один шпион,  можно  на  вражескую  планету
    только с заданием "Шпионаж"
[%] Исправил отображение  количества  игроков  онлайн  при  большом  количестве
    игороков на сервере
[%] Исправлен баг с невозможностью отправки  переработчиков  на  поле  обломков
    через меню "Флот"
[%] Исправлен баг, дающий возможность отправлять шпионов в атаку или в САБ


2010-09-07 04:11
[%] Пофиксил дурацкий баг в sn_timer.js, который приводил к "порче" правильного
    запомненного времени в случае,  когда  на  странице  было  несколько  часов
    реального времени (например - на странице "Обзор планет" на самой  странице
    и в верхнем меню).


2010-09-07 03:45
[%] Исправлен глюк с неотображением в некоторых случаях  загрузки  хранилищ  на
    странице "Ресурсы"


2010-09-07 02:14
[~] Обзор планеты: Переделан внешний вид индикатора застройки
[~] Обзор  планеты:  Иконка  атаки  на  изображениях  луны  и  планеты  теперь
    click-through. Это означает, что при  выборе  планеты/луны  можно  спокойно
    кликать на иконку атаки, а не выцеливать место для клика, как раньше
[~] Обзор   планеты:   Строка   с   названием   планеты    и    ссылкой    на
    переименование/уничтожение планеты переехала  под  График  движения  флотов
    (сразу над расписанием строительств)
[~] Обзор планеты: Объединил вместе строки "Время" и "Игроки on-line", а так же
    вынес её поверх уведомлений о новых сообщениях и получении ТМ

[%] Обзор планеты: Исправил баг с индикатором застройки  на  изображении  луны.
    Раньше показывался индикатор планеты, а не луны


2010-09-07 00:04
[~] По многочисленным просьбам игроков, таки добавил колонку "Откуда" в  График
    движения флотов на странице "Обзор планеты"


2010-09-06 23:05
[%] Пофиксил отображение процента загруженности хранилищ на странице "Ресурсы".
    Если процент загрузки был 0% это отображалось как "%".


2010-09-06 12:25
[+] Переделан список флотов в полете. Теперь они представляются в виде  таблицы
    и имеют два раздела: флоты, летящие на текущую планету и флоты, летящие  на
    другие планеты, а так же ракетные атаки.
    Кратенький FAQ
    Q: Почему когда я отправил флот с  фун-ей  Транспорт,  то  возврат  пишется
       вверху?
    A: График флотов разделен  на  события  для  текущей  планеты  и  для  всех
       остальных. Т.е. что бы когда твою планету атакуют, ты бы  не  путался  в
       десятках событий от двадцати флотов, а переключился на планету  и  видел
       сразу - когда твои флоты прибывают, когда вражеские итд.

    Q: Странно отображаются мои ракетные атаки...
    A: Ракетная атака в графике движения указывает планету назначения. При этом
       если выбрать планету, с которой её отправили, ракетная атака  перекочует
       в верхний список.

[~] Переделал верхнюю панель -  избавился  от  встроенного  кода  в  темплейте,
    перевел счетчик ресурсов на sn_timer.js
[~] Перевел календарь на  странице  Обзор  планеты  на  sn_timer.js.  Полностью
    избавился от файла timer.js

[%] Пофиксил логику вычисления производства (ресурсы в час). Оно, правда, кроме
    отображения ни на что не влияло, зато теперь  правильно  тикают  ресурсы  в
    навбаре и правильно показывает производство на странице "Империя"


2010-09-03 23:21
[~] Добавлен большой восклицательный знак на изображение  планеты,  на  которую
    идет вражеская атака


2010-09-03 16:13
[~] Добавлен индикатор застройки на изображениях планеты/луны.  Легенда,  такая
    же, как и в Обзоре планет: красный - планета застроена полностью; желтый  -
    на 80%; зеленый - меньше 80%
[~] Изображение луны теперь накладывается в правый верхний угол соответствующей
    планеты


2010-09-03 08:22
[~] Миссия флота на странице Обзора выделяется белым цветом


2010-09-02 01:50
[~] В попапах с описанием флота добавлен разделитель тысяч
[~] Миссия флота на странице Обзора выделяется италиком

[%] Поправлен баг с раскраской атакующего  флота  на  странице  Обзора  планет.
    Теперь он выделяется как полгается по скину


2010-08-30 15:18
[%] Исправлен баг, не позволяющий перейти на ссылку во вселенной при нажатии на
    координаты планеты в Графике полета флотов
[%] Исправлен  баг  с  отображением  события  "Возвращение  флота"  для  миссий
    "Колонизировать" и "Передислокация". Теперь оно  отображается  только  если
    игрок сам вернул флот с задания


2010-08-13 23:33
[~] Добавлен большой восклицательный знак на изображение луны, на которую  идет
    вражеская атака (включая миссию "Уничтожить")
[-] Империя:  Убрал  со  страницы  "технологии"  -  их  можно   посмотреть   в
    соответствующем меню и нет смысла добавлять кучу строк в таблицу Империи  с
    дублирующейся информацией
[~] Империя: Используется цветовое кодирование для полей.  Застроенные  планеты
    отмечаются красным в соответствующей ячейке строки "Поля"
[~] Империя:  Используется  цветовое  кодирование  для  энергии.   Планеты   с
    отрицательным балансом энергии отмечаются красным в соответствующей  ячейке
    строки "Энергия"
[~] Империя:  Используется  цветовое  кодирование  для  ресурсов.  Планеты   с
    заполненными складами отмечаются красным в соответствующей ячейке ресурса
[~] Империя: Теперь список полей на странице учитывает Терраформеры - раньше не
    учитывал

[%] Должен быть исправлен глюк с многократным повторением обоих меню
[%] Исправлен один из глюков с зависанием флотов в САБе


2010-08-07 15:27
[%] Исправил баг с временем возврата из экспедиции


2010-08-06 09:56
[%] Исправил баг с временем возврата с удержания


2010-08-06 08:46
[~] Теперь новые новости отмечаются тегом  "НОВАЯ".  Новость  считается  новой,
    если ей меньше трех дней

[%] Исправил баг с многократным обсчетом САБа
[%] Исправил баг, не позволявший снести здание, если ресурсов на снос  хватало,
    но не хватало на постройку следующего уровня


2010-08-04 17:03
[+] Включено  кэширование  темплейтов.  Там,  где  используется  новая  система
    темплейтов, должна увеличиться скорость генерации страниц

[~] Теперь на странице флота при наведении на количество единиц в списке флотов
    в полете показывается в красивом виде не только летящий флот, но и  ресурсы
    на борту
[~] Теперь на странице обзора на изображении планет добавлены  иконки  гаечного
    ключа, реторты и космического корабля соответственно для строящихся зданий,
    исследований и кораблей/обороны


2010-08-01 16:19
[+] Включена  система  реферралов.  Теперь  за  каждые  10  ТМ,   заработанные
    приведенным  вами  игроком,  вы  получите  1  ТМ.  Подробнее  -  по  ссылке
    "!!!ЗАРАБОТАЙ ТМ!!!" в левом меню на каждом из серверов

[~] Оптимизированный менеджер флотов. Количество запросов при обновлении флотов
    уменьшено на 20%. Это уменьшило загрузку сервера
[~] Пачка мелких исправлений и оптимизаций


2010-07-30 07:41
[%] Исправил ошибку в именовании  новых  планет  -  бралось  имя  не  владельца
    планеты, а того, в чей ход запускалась обработка флота

[~] Добавил часы локального времени в топ-бар под дропдауном переключения планет


2010-07-30 00:13
[~] Теперь можно посылать один колонизатор с  ресурсами  без  флота  -  ресурсы
    будут корректно выгружены на новосозданную колонию
[~] Тепрь новое  название  планеты  не  такое  безличное  -  оно  включает  имя
    пользователя и номер  колонии  по  счету.  Это  облегчает  навигацию  между
    колониями


2010-07-29 20:38
[+] Все таймеры  на  стороне  клиента  теперь  корректируют  свои  показания  в
    соответствии с сервером. Это означает, что: а) Дата и время показывается  в
    пересчете для локальной машны и б) Таймеры синхронизированы  с  сервером  с
    точностью  до  нескольких  секунд  (ошибка  возможно  при  большем  времени
    отправки-получения запроса плюс время реакции сервера)

[~] Переработана страница флотов: переставлены колонки таблицы в более логичном
    порядке, добавлен таймер для времени прибытия  в  пункт  назначения  (а  не
    только   таймер   возвращения    в    пункт    отправления),    в    пункты
    отправления/назначения добавлены указатели на тип цели (планета, луна, поле
    обломков) и еще кое-какие мелочи


2010-07-25 17:36
[~] Пофиксен баг с отправкой многострочных  сообщений  членам  Альянса.  Теперь
    сообщения приходят в корректном виде
[~] Пофиксен глюк интерфейса, когда при сохранении настроек пользователя вместо
    отчета об удачном сохранении выдавало пустую плашку
[~] Пофиксен баг в JS  на  второй  странице  флота.  Суть  бага  -  если  через
    интерфейс "Вселенной" выбрать задание "Транспорт" или "Передислокация",  на
    второй странице флота не будет виден трюм, до тех пор, пока не перещелкнешь
    по миссиям
[~] Пофиксен баг с вычислением скорости у малых транспортников при переходе  на
    импульсный двигатель и у бомберов при переходе на гипердвигатель

[@] Системное: Процедура отсылки сообщений теперь может работать с  несколькими
    адресатами. Это уменьшает количество запросов к БД  при  массовой  рассылке
    ровно в N-раз, где N - количество членов рассылки. В частности, это  сильно
    ускоряет рассылку всем членам Альянса.


2010-07-17 21:10
[%] Установлен багфикс, устраняющий проблему с образованием  поля  осколков  на
    недавно созданных планетах.


2010-07-16 02:32
[%] Установлен патч, устраняющий проблему с необразованием поля обломков.


2010-07-14 02:43
[~] Изменен алгоритм отправки флотов. Теперь для  некоторых  миссий  ресурсы  в
    трюмы флота в принципе  незагружаемы.  Список  таких  миссий:  атака,  САБ,
    Удержание, Шпионаж, Уничтожение, Переработка, Исследование. Для всех их нет
    никакого смысла загружать ресурсы в трюмы.
[%] Добавлена цветовая кодировка флотов на странице "Обзор" для скина EpicBlue.
[%] Исправлена ошибка отправки сообщений новому игроку с одной планетой.
[%] Исправлены некорректные ссылки на страницу офицеров при получении новых ТМ.
[%] Исправлена ошибка Чёрного Рынка с продавцом Б/У кораблей.


2010-07-12 13:20
[!] Обзор планеты: Для таймеров используется написанная с нуля JS-библиотека.

[-] Обзор планеты: Очередь построек флота убрана  -  теперь  показывает  только
    текущую постройку на верфи
[~] Обзор планеты: ОБновление очереди построек  флота  сделана  без  обновления
    страницы
[~] Обзор планеты: Список планет вынесен справа от основного блока  информации.
    Все планеты, луны кликабельны. Для планет  со  строительством  показывается
    текущий уровень постройки и оставшееся время. На  планеты  распространяются
    настройки сортировки на странице настроек игрока.
[~] Обзор планеты: Множество мелких исправлений и ускорений на странице


2010-07-03 14:50
[%] Куча открытых окон неиспользуемого чата сильно грузит сервер. Уже несколько
    раз куча окон доводила сервера до состояния 500 Imternal  Error,  когда  не
    грузились другие страницы. Поэтому введен таймаут неактивности 15 минут, по
    истечении которого чат отключается.


2010-06-29 20:00
[!] Полностью с нуля написан "Чёрный  Рынок".  Код  вылизан,  интерфейс  сделан
    максимально удобным (по моим  понятиям).  В  Торговце  ресурсами  добавлена
    возможность обмена ТМ на ресурсы (обратный обмен  -  невозможен).  Торговец
    флотом полностью переработан и позволяет теперь в одну транзакцию продавать
    сразу несколько типов кораблей.

[+] Серьезно переработана "Вселенная" (бывш. "Галактика"). Несмотря на то,  что
    вид  "Вселенной"  практически  не  изменился,  была  проделана  грандиозная
    работа: переработано  с  десяток  файлов.  Темплейты  выкушены  из  кода  и
    перенесены в отдельный  файл.  Поп-апы  (инфо  о  планете,  луну,  альянсе,
    обломках, пользователе) вынесены в отдельные JS-процедуры, что в  отдельных
    случаях позволило уменьшить финальный размер страницы  в  два-три  раза,  а
    количество запросов к БД снизить от двух до десяти (!)  раз  -  особенно  в
    системе,  густо  заселенной  одним  игроком.  Специально  под   переработку
    "Вселенной" в движок была добавлена система темплейтов из phpBB3.  В  целом
    новая "Вселенная" существенно меньше грузит сервер  и  должна  работать  на
    клиенте гораздо быстрее.


2010-05-25 15:52
[+] Запущена Партнерская программа


2010-04-26 01:24
[~] Теперь Инженер улучшает проивзодство энергии на всех генерирующих мощностях
    (включая спутники и солнечные электростанции)
[~] Во времени постройки  теперь  учитывается  дейетрий. Соответственно,  время
    постройки всех юнитов, использующих дейтерий, возросло


2010-03-03 16:58
[~] Луна. Максимальный шанс луны уменьшен до 30%. Стоимость лун - 1% на  каждый
    1кк ресурсов до  капа  в  30%.  Таким  образом,  максимальный  размер  луны
    составит 8999 км.
[%] Фикс, устраняющий проблемы с начислением ресурсов и дюпы ракет/шпионов

2009-10-12 23:20
[~] Изменена формула расчета размера луны
    $SizeMin = 1000 + ( $Chance * 100 );
    $SizeMax = 2999 + ( $Chance * 200 );
    Т.е. от 1000 км до 9999 км.

2009-10-12 22:32
[~] Теперь для постройки Звезды Смерти требуется  1  уровень  Разрушителя.  Без
    Разрушителя Звезда Смерти не строится. При Разрушителе строится одна Звезда
    Смерти.

2009-07-05 14:28
[%] Найдена ошибка отображения в игре - вместо уровня ресерча щитов отображался
    уровень  ресерча  брони  и  наоборот.  Поэтому  не  удивляйтесь,  если  они
    поменялись местами.


2010-05-03 09:38 Initial revsion
[!] Движок СуперНовы базируется на XNova RageRepack v.226

[!] Боевка: альтернативная версия боевого движка - рабочие САБы; новая  система
    расчета боя; унифицированный код между обсчетом боя,  уничтожением  луны  и
    симулятором; частичный возврат ресурсов  от  обороны;  оптимизированый  код
    итд.
[!] Симулятор боя: почти полностью переписан
[!] Ракетная атака: полностью переписан скрипт
[!] Ролевая система: Полностью переписана система начисления опыта и ТМ
[!] Новости: Полноценный модуль новостей
[!] Google AdSense (слева внизу под меню, плашка 125х125)
[!] Безопасность: закрыты все обнаруженные дыры в  безопасности  (SQL-injection
    через параметры страницы) на страницах, доступных пользователям.
[!] Альянсы: Полностью переписан модуль управления Альянсами.
[!] Друзья: Полностью переписан модуль "Друзей"
[!] Админка/Статистика:  Полностью  переписан  модуль  обновления  статистики.
[!] Темплейты:  Добавлен  движок  рендеринга  темплейтов  от  phpBB3.   Движок
    доработан до обратной совместимости с темплейтами XNova
[!] Чёрный Рынок: Полностью переписан Чёрный Рынок
[!] Баннеры: Переработана система генерации баннеров/юзербаров. Унифицированы
    процедуры их генерации, слиты в один файл  процедур  и  один  файл-враппер,
    вынесены PHP-файлы из каталога scripts в соответствующие места
[!] Вселенная (бывш. "Галактика") - почти полностью переписана
[!] Интерфейс/Обзор: Переработана страница "Обзор планеты"
[!] Движок: Поддержка xCache

[+] Админка/Баннерилка: Полностью переписан код
[+] Админка/ТМ: с нуля написана страница добавления/удаления ТМ
[+] Админка/Ошибки: переработан список ошибок
[+] Почта: Оптимизированы запросы к БД. Добавлены индексы к  таблице  messages.
    Добавлена возможность просмотра отправленных сообщений (только тех, которые
    не удалил адресат)

[~] Движок: Корректное отображение количества пользователей
[~] Движок: Убрано множество неиспользуемых файлов
[~] Движок: Написана  с  нуля  библиотека  таймеров  js/sn_timer.js.  Формат  и
    примеры использования - см. в файле библиотеки
[~] Другие изменения в движке

[~] Интерфейс/Альянсы:  Теперь  по  клику  на  координатах  участника  альянса
    работает переход в его систему
[~] Интерфейс/Верфи:  На  странице  видны  боевые  данные  кораблей  и  обороны
    (броня/щиты/оружие)
[~] Интерфейс/Меню: добавлен пункт меню "Закладки"
[~] Интерфейс/Ресурсы:  оптимизирована  страница;   убрана   ненужная   строка
    заполненности  хранилищ  (их  всегда  видно  в  верхней  строке   статуса);
    добавлена возможность изменить производство сразу для всех заводов

[%] Движок: Исправлен  глюк,  не  отображавший  несколько  летящих  на  планету
    флотов, если их время прибытия было одинаковое. В частности, это  позволяло
    скрывать все флоты САБа, кроме последнего
[%] Множество мелких багфиксов и исправлений
